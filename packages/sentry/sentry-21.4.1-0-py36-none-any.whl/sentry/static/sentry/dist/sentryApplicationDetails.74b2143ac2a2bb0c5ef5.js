(self.webpackChunk=self.webpackChunk||[]).push([["sentryApplicationDetails"],{"./app/data/forms/sentryApplication.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{publicIntegrationForms:()=>c,internalIntegrationForms:()=>p}),n("../node_modules/react/index.js");var r,o,s=n("./app/components/links/externalLink.tsx"),i=n("./app/locale.tsx"),a=n("./app/utils.tsx"),l=n("../node_modules/@emotion/core/dist/core.browser.esm.js"),u=function(){return[{name:"name",type:"string",required:!0,placeholder:"e.g. My Integration",label:"Name",help:"Human readable name of your Integration."},{name:"author",type:"string",required:!0,placeholder:"e.g. Acme Software",label:"Author",help:"The company or person who built and maintains this Integration."},{name:"webhookUrl",type:"string",required:!0,label:"Webhook URL",placeholder:"e.g. https://example.com/sentry/webhook/",help:(0,i._N)("All webhook requests for your integration will be sent to this URL. Visit the [webhook_docs:documentation] to see the different types and payloads.",{webhook_docs:(0,l.tZ)(s.Z,{href:"https://docs.sentry.io/product/integrations/integration-platform/webhooks/"})})},{name:"redirectUrl",type:"string",label:"Redirect URL",placeholder:"e.g. https://example.com/sentry/setup/",help:"The URL Sentry will redirect users to after installation."},{name:"verifyInstall",label:"Verify Installation",type:"boolean",help:"If enabled, installations will need to be verified before becoming installed."},{name:"isAlertable",type:"boolean",label:"Alert Rule Action",disabled:function(e){return e.webhookDisabled},disabledReason:"Cannot enable alert rule action without a webhook url",help:(0,i._N)("If enabled, this integration will be available in Issue Alert rules and Metric Alert rules in Sentry. The notification destination is the Webhook URL specified above. More on actions [learn_more:here].",{learn_more:(0,l.tZ)(s.Z,{href:"https://docs.sentry.io/product/alerts-notifications/notifications/"})})},{name:"schema",type:"textarea",label:"Schema",autosize:!0,rows:1,help:(0,i._N)("Schema for your UI components. Click [schema_docs:here] for documentation.",{schema_docs:(0,l.tZ)(s.Z,{href:"https://docs.sentry.io/product/integrations/integration-platform/ui-components/"})}),getValue:function(e){return""===e?{}:JSON.parse(e)},setValue:function(e){var t=JSON.stringify(e,null,2);return"{}"===t?"":t},validate:function(e){var t=e.id,n=e.form;if(!n.schema)return[];try{JSON.parse(n.schema)}catch(e){return[[t,"Invalid JSON"]]}return[]}},{name:"overview",type:"textarea",label:"Overview",autosize:!0,rows:1,help:"Description of your Integration and its functionality."},{name:"allowedOrigins",type:"string",multiline:!0,placeholder:"e.g. example.com",label:"Authorized JavaScript Origins",help:"Separate multiple entries with a newline.",getValue:function(e){return(0,a.Fl)(e)},setValue:function(e){return e&&"function"==typeof e.join&&e.join("\n")||""}}]},c=[{title:"Public Integration Details",fields:u()}],p=[{title:"Internal Integration Details",fields:(r=u().filter((function(e){return!["redirectUrl","verifyInstall","author"].includes(e.name||"")})),o=r.find((function(e){return"webhookUrl"===e.name})),o&&(o.required=!1),r)}]},"./app/utils/consolidatedScopes.tsx":(e,t,n)=>{"use strict";n.d(t,{A:()=>x,m:()=>g});var r=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/lodash/groupBy.js"),a=n.n(i),l=n("../node_modules/lodash/invertBy.js"),u=n.n(l),c=n("../node_modules/lodash/pick.js"),p=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={read:0,write:1,admin:2},h={project:"Project",team:"Team",release:"Release",event:"Event",org:"Organization",member:"Member"},b={Project:"no-access",Team:"no-access",Release:"no-access",Event:"no-access",Organization:"no-access",Member:"no-access"},y="project:releases",v=function(e){var t=e.split(":")[1];return m[t]},Z=function(e,t){return v(e)-v(t)};function g(e){var t,n=f({},b),s=(0,o.Z)(e);return e.includes(y)&&(n.Release="admin",s=e.filter((function(e){return e!==y}))),(t=s,Object.values(a()(t,(function(e){return e.split(":")[0]}))).map((function(e){return e.sort(Z)})).map((function(e){return e.pop()}))).forEach((function(e){if(e){var t=e.split(":"),o=(0,r.Z)(t,2),s=o[0],i=o[1];n[h[s]]=i}})),n}function x(e){var t=g(e),n=p()(u()(t),["read","write","admin"]);return f(f({},{read:[],write:[],admin:[]}),n)}},"./app/utils/routeTitle.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o="".concat(e," - ").concat(t),s=r?"".concat(o," - ").concat(r):o;return n?"".concat(s," - Sentry"):s}},"./app/views/asyncView.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=(n("../node_modules/react/index.js"),n("../node_modules/react-document-title/index.js")),u=n.n(l),c=n("./app/components/asyncComponent.tsx"),p=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var d=function(e){(0,s.Z)(c,e);var t,n,l=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,a.Z)(t);if(n){var o=(0,a.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function c(){return(0,r.Z)(this,c),l.apply(this,arguments)}return(0,o.Z)(c,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,p.tZ)(u(),{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),c}(c.Z);d.displayName="AsyncView"},"./app/views/settings/components/forms/formPanel.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../node_modules/react/index.js"),p=n("./app/components/panels/index.tsx"),d=n("./app/utils/sanitizeQuerySelector.tsx"),f=n("./app/views/settings/components/forms/fieldFromConfig.tsx"),m=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var h=function(e){(0,a.Z)(h,e);var t,n,c=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function h(){return(0,s.Z)(this,h),c.apply(this,arguments)}return(0,i.Z)(h,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,s=t.fields,i=t.access,a=t.disabled,l=t.additionalFieldProps,u=t.renderFooter,c=t.renderHeader,h=(0,o.Z)(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return(0,m.tZ)(p.s_,{id:"string"==typeof n?(0,d.m)(n):void 0},n&&(0,m.tZ)(p.V9,null,n),(0,m.tZ)(p.N,null,"function"==typeof c&&c({title:n,fields:s}),s.map((function(t){if("function"==typeof t)return t();t.defaultValue;var n=(0,o.Z)(t,["defaultValue"]);return!0===a&&(n.disabled=!0,n.disabledReason=void 0),(0,m.tZ)(f.Z,(0,r.Z)({access:i,disabled:a,key:t.name},h,l,{field:n,highlighted:e.props.highlighted==="#".concat(t.name)}))})),"function"==typeof u&&u({title:n,fields:s})))}}]),h}(c.Component);h.displayName="FormPanel"},"./app/views/settings/components/forms/jsonForm.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),p=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("../node_modules/react/index.js"),f=n("../node_modules/@sentry/minimal/esm/index.js"),m=n("../node_modules/prop-types/index.js"),h=n.n(m),b=n("../node_modules/reflexbox/dist/index.js"),y=n("../node_modules/scroll-to-element/index.js"),v=n.n(y),Z=n("./app/utils.tsx"),g=n("./app/utils/sanitizeQuerySelector.tsx"),x=n("./app/views/settings/components/forms/formPanel.tsx"),j=n("../node_modules/@emotion/core/dist/core.browser.esm.js");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){(0,l.Z)(h,e);var t,n,m=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function h(){var e;(0,s.Z)(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=m.call.apply(m,[this].concat(n)),(0,p.Z)((0,a.Z)(e),"state",{highlighted:O(e.props,e.context).hash}),e}return(0,i.Z)(h,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(O(this.props,this.context).hash!==O(e,this.context).hash){var t=O(e,this.context).hash;this.scrollToHash(t),this.setState({highlighted:t})}}},{key:"scrollToHash",value:function(e){var t=e||O(this.props,this.context).hash;if(t)try{v()((0,g.m)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){f.Tb(e)}}},{key:"shouldDisplayForm",value:function(e){var t=e.filter((function(e){return"function"!=typeof e&&(0,Z.ri)(null==e?void 0:e.visible)}));if(e.length===t.length){var n=this.props,r=n.additionalFieldProps,s=(0,o.Z)(n,["additionalFieldProps"]);return!t.every((function(e){return"function"==typeof e.visible?!e.visible(k(k({},s),r)):!e.visible}))}return!0}},{key:"renderForm",value:function(e){var t=e.fields,n=e.formPanelProps,o=e.title;return this.shouldDisplayForm(t)||null!=n&&n.renderFooter||null!=n&&n.renderHeader?(0,j.tZ)(x.Z,(0,r.Z)({title:o,fields:t},n)):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.access,r=t.fields,s=t.title,i=t.forms,a=t.disabled,l=t.features,u=t.additionalFieldProps,c=t.renderFooter,p=t.renderHeader,f=(t.location,(0,o.Z)(t,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),m={access:n,disabled:a,features:l,additionalFieldProps:u,renderFooter:c,renderHeader:p,highlighted:this.state.highlighted};return(0,j.tZ)(b.xu,f,void 0!==i&&i.map((function(t,n){return(0,j.tZ)(d.Fragment,{key:n},e.renderForm(k({formPanelProps:m},t)))})),void 0===i&&void 0!==r&&this.renderForm({fields:r,formPanelProps:m,title:s}))}}]),h}(d.Component);_.displayName="JsonForm",(0,p.Z)(_,"contextTypes",{location:h().object}),(0,p.Z)(_,"defaultProps",{additionalFieldProps:{}});const P=_;function O(e,t){return e.location||t.location||{}}},"./app/views/settings/components/settingsPageHeader.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),p=n("../node_modules/react/index.js"),d=n("./app/styles/organization.tsx"),f=n("./app/styles/space.tsx"),m=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var h=function(e){(0,i.Z)(c,e);var t,n,u=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function c(){return(0,o.Z)(this,c),u.apply(this,arguments)}return(0,s.Z)(c,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,o=e.subtitle,s=e.action,i=e.tabs,a=e.noTitleStyles,l=e.body,u=(0,r.Z)(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),c=!o;return(0,m.tZ)("div",u,(0,m.tZ)(b,{isNarrow:c},(0,m.tZ)(y,null,t&&(0,m.tZ)(g,null,t),n&&(0,m.tZ)(v,{tabs:i,styled:a},(0,m.tZ)(d.Gh,null,n),o&&(0,m.tZ)(Z,null,o))),s&&(0,m.tZ)(x,{isNarrow:c},s)),l&&(0,m.tZ)(w,null,l),i&&(0,m.tZ)(k,null,i))}}]),c}(p.Component);h.displayName="UnstyledSettingsPageHeader",(0,u.Z)(h,"defaultProps",{noTitleStyles:!1});var b=(0,c.Z)("div",{target:"e1nr98yc0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),y=(0,c.Z)("div",{target:"e1nr98yc1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),v=(0,c.Z)("div",{target:"e1nr98yc2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",(0,f.Z)(4)," ",(0,f.Z)(2)," ",(0,f.Z)(3)," 0;"),Z=(0,c.Z)("div",{target:"e1nr98yc3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",(0,f.Z)(1.5)," 0 0;"),g=(0,c.Z)("div",{target:"e1nr98yc4",label:"Icon"})("margin-right:",(0,f.Z)(1),";"),x=(0,c.Z)("div",{target:"e1nr98yc5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":(0,f.Z)(4)}),";"),j=(0,c.Z)(h,{target:"e1nr98yc6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",(0,f.Z)(4),";"),w=(0,c.Z)("div",{target:"e1nr98yc7",label:"BodyWrapper"})("flex:1;margin:0 0 ",(0,f.Z)(3),";"),k=(0,c.Z)("div",{target:"e1nr98yc8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});const _=j},"./app/views/settings/organizationDeveloperSettings/sentryApplicationDetails.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>we});var r=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=n("../node_modules/@babel/runtime/helpers/esm/get.js"),a=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),u=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),c=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),p=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),d=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),f=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),m=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),h=n("../node_modules/@babel/runtime/regenerator/index.js"),b=n.n(h),y=n("../node_modules/react/index.js"),v=n("../node_modules/react-router/es/index.js"),Z=n("../node_modules/lodash/omit.js"),g=n.n(Z),x=n("../node_modules/mobx-react-lite/es/index.js"),j=n("../node_modules/scroll-to-element/index.js"),w=n.n(j),k=n("./app/actionCreators/indicator.tsx"),_=n("./app/locale.tsx");function P(e,t){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,k.E3)(),e.prev=1,e.next=4,t.requestPromise("/sentry-apps/".concat(n.slug,"/api-tokens/"),{method:"POST"});case 4:return r=e.sent,(0,k.S9)((0,_.t)("Token successfully added.")),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),(0,k.Iw)((0,_.t)("Unable to create token")),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function S(e,t,n){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)(b().mark((function e(t,n,r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,k.E3)(),e.prev=1,e.next=4,t.requestPromise("/sentry-apps/".concat(n.slug,"/api-tokens/").concat(r,"/"),{method:"DELETE"});case 4:return(0,k.S9)((0,_.t)("Token successfully deleted.")),e.abrupt("return");case 8:throw e.prev=8,e.t0=e.catch(1),(0,k.Iw)((0,_.t)("Unable to delete token")),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var R=n("./app/components/button.tsx"),I=n("./app/components/dateTime.tsx"),T=n("./app/components/panels/index.tsx"),D=n("./app/components/tooltip.tsx"),F=n("./app/constants/index.tsx"),A=n("./app/data/forms/sentryApplication.tsx"),N=n("./app/icons/index.tsx"),E=n("./app/utils/getDynamicText.tsx"),z=n("./app/utils/routeTitle.tsx"),B=n("./app/views/asyncView.tsx"),U=n("./app/views/settings/components/emptyMessage.tsx"),V=n("./app/views/settings/components/forms/form.tsx"),L=n("./app/views/settings/components/forms/formField/index.tsx"),H=n("./app/views/settings/components/forms/jsonForm.tsx"),q=n("./app/views/settings/components/forms/model.tsx"),M=n("./app/views/settings/components/forms/textCopyInput.tsx"),W=n("./app/views/settings/components/settingsPageHeader.tsx"),J=n("../node_modules/prop-types/index.js"),G=n.n(J),Q=n("./app/utils/consolidatedScopes.tsx"),Y=n("../node_modules/lodash/find.js"),$=n.n(Y),K=n("../node_modules/lodash/flatMap.js"),X=n.n(K),ee=n("./app/views/settings/components/forms/selectField.tsx"),te=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var ne=function(e){(0,p.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var o=(0,f.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function o(){var e;(0,u.Z)(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),(0,a.Z)((0,s.Z)(e),"state",{permissions:e.props.permissions}),(0,a.Z)((0,s.Z)(e),"onChange",(function(t,n){var r=e.state.permissions;r[t]=n,e.save(r)})),(0,a.Z)((0,s.Z)(e),"save",(function(t){e.setState({permissions:t}),e.props.onChange(t),e.context.form.setValue("scopes",e.permissionStateToList())})),e}return(0,c.Z)(o,[{key:"permissionStateToList",value:function(){var e=this.state.permissions;return X()(Object.entries(e),(function(e){var t,n,r,o=(0,l.Z)(e,2),s=o[0],i=o[1];return null===(t=function(e){return $()(F.yh,["resource",e])}(s))||void 0===t||null===(n=t.choices)||void 0===n||null===(r=n[i])||void 0===r?void 0:r.scopes}))}},{key:"render",value:function(){var e=this,t=this.state.permissions;return(0,te.tZ)(y.Fragment,null,F.yh.map((function(n){var r=Object.entries(n.choices).map((function(e){var t=(0,l.Z)(e,2);return[t[0],t[1].label]})),o=t[n.resource];return(0,te.tZ)(ee.Z,{name:"".concat(n.resource,"--permission"),key:n.resource,choices:r,help:(0,_.t)(n.help),label:(0,_.t)(n.label||n.resource),onChange:e.onChange.bind(e,n.resource),value:o,defaultValue:o,disabled:e.props.appPublished,disabledReason:(0,_.t)("Cannot update permissions on a published integration")})})))}}]),o}(y.Component);ne.displayName="PermissionSelection",(0,a.Z)(ne,"contextTypes",{router:G().object.isRequired,form:G().object});var re=["issue","error"],oe={issue:"created, resolved, assigned",error:"created"},se={issue:"Event",error:"Event"},ie=n("./app/components/checkbox.tsx"),ae=n("./app/utils/withOrganization.tsx");var le=function(e){(0,p.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var o=(0,f.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function o(){var e;(0,u.Z)(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),(0,a.Z)((0,s.Z)(e),"onChange",(function(t){var n=t.target.checked,r=e.props.resource;e.props.onChange(r,n)})),e}return(0,c.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.resource,n=e.organization,r=e.webhookDisabled,o=e.checked,s=new Set(n.features),i=this.props.disabledFromPermissions||r,a="Must have at least 'Read' permissions enabled for ".concat(t);return"error"!==t||s.has("integrations-event-hooks")||(i=!0,a="Your organization does not have access to the error subscription resource."),r&&(a="Cannot enable webhook subscription without specifying a webhook url"),(0,te.tZ)(y.Fragment,null,(0,te.tZ)(de,{key:t},(0,te.tZ)(D.Z,{disabled:!i,title:a},(0,te.tZ)(pe,{disabled:i},(0,te.tZ)(ce,null,(0,te.tZ)(me,null,(0,_.t)("".concat(t))),(0,te.tZ)(fe,null,(0,_.t)("".concat(oe[t])))),(0,te.tZ)(ie.Z,{key:"".concat(t).concat(o),disabled:i,id:t,value:t,checked:o,onChange:this.onChange})))))}}]),o}(y.Component);le.displayName="SubscriptionBox",(0,a.Z)(le,"defaultProps",{webhookDisabled:!1});const ue=(0,ae.Z)(le);var ce=(0,m.Z)("div",{target:"eosxblu0",label:"SubscriptionInfo"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),pe=(0,m.Z)("div",{target:"eosxblu1",label:"SubscriptionGridItem"})("display:flex;flex-direction:row;justify-content:space-between;background:",(function(e){return e.theme.backgroundSecondary}),";opacity:",(function(e){return e.disabled?.3:1}),";border-radius:3px;flex:1;padding:12px;height:100%;"),de=(0,m.Z)("div",{target:"eosxblu2",label:"SubscriptionGridItemWrapper"})({name:"ys2khs",styles:"padding:12px;width:33%;"}),fe=(0,m.Z)("div",{target:"eosxblu3",label:"SubscriptionDescription"})("font-size:12px;line-height:1;color:",(function(e){return e.theme.gray300}),";white-space:nowrap;"),me=(0,m.Z)("div",{target:"eosxblu4",label:"SubscriptionTitle"})("font-size:16px;line-height:1;color:",(function(e){return e.theme.textColor}),";white-space:nowrap;margin-bottom:5px;");var he=function(e){(0,p.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var o=(0,f.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function o(e,t){var n;return(0,u.Z)(this,o),n=r.call(this,e,t),(0,a.Z)((0,s.Z)(n),"onChange",(function(e,t){var r=new Set(n.props.events);t?r.add(e):r.delete(e),n.save(Array.from(r))})),(0,a.Z)((0,s.Z)(n),"save",(function(e){n.props.onChange(e),n.context.form.setValue("events",e)})),n.context.form.setValue("events",n.props.events),n}return(0,c.Z)(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.webhookDisabled&&this.props.events.length&&this.save([])}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.permissions,n=e.events,r=n.filter((function(e){return"no-access"!==t[se[e]]}));JSON.stringify(n)!==JSON.stringify(r)&&this.save(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.permissions,r=t.webhookDisabled,o=t.events;return(0,te.tZ)(be,null,re.map((function(t){var s="no-access"===n[se[t]];return(0,te.tZ)(y.Fragment,{key:t},(0,te.tZ)(ue,{key:t,disabledFromPermissions:s,webhookDisabled:r,checked:o.includes(t)&&!s,resource:t,onChange:e.onChange}))})))}}]),o}(y.Component);he.displayName="Subscriptions",(0,a.Z)(he,"contextTypes",{router:G().object.isRequired,form:G().object}),(0,a.Z)(he,"defaultProps",{webhookDisabled:!1});var be=(0,m.Z)("div",{target:"e3puty70",label:"SubscriptionGrid"})({name:"2imjyh",styles:"display:flex;flex-wrap:wrap;"});var ye=function(e){(0,p.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var o=(0,f.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function o(e){var t;return(0,u.Z)(this,o),t=r.call(this,e),(0,a.Z)((0,s.Z)(t),"onPermissionChange",(function(e){t.setState({permissions:e})})),(0,a.Z)((0,s.Z)(t),"onEventChange",(function(e){t.setState({events:e})})),t.state={permissions:t.scopeListToPermissionState(),events:t.props.events},t}return(0,c.Z)(o,[{key:"scopeListToPermissionState",value:function(){return(0,Q.m)(this.props.scopes)}},{key:"render",value:function(){var e=this.state,t=e.permissions,n=e.events;return(0,te.tZ)(y.Fragment,null,(0,te.tZ)(T.s_,null,(0,te.tZ)(T.V9,null,(0,_.t)("Permissions")),(0,te.tZ)(T.N,null,(0,te.tZ)(ne,{permissions:t,onChange:this.onPermissionChange,appPublished:this.props.appPublished}))),(0,te.tZ)(T.s_,null,(0,te.tZ)(T.V9,null,(0,_.t)("Webhooks")),(0,te.tZ)(T.N,null,(0,te.tZ)(he,{permissions:t,events:n,onChange:this.onEventChange,webhookDisabled:this.props.webhookDisabled}))))}}]),o}(y.Component);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ye.displayName="PermissionsObserver",(0,a.Z)(ye,"contextTypes",{router:G().object.isRequired,form:G().object}),(0,a.Z)(ye,"defaultProps",{webhookDisabled:!1,appPublished:!1});var je=function(e){(0,p.Z)(n,e);var t=ge(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"getData",value:function(){return this.fields.toJSON().reduce((function(e,t){var n=(0,l.Z)(t,2),r=n[0],o=n[1];return r.endsWith("--permission")||(e[r]=o),e}),{})}},{key:"mapFormErrors",value:function(e){if(!e)return e;var t=g()(e,["scopes"]);return e.scopes&&e.scopes.forEach((function(e){var n=e.match(/Requested permission of (\w+:\w+)/);if(n){var r=function(e){var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw s}}}}(F.yh);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(Object.values(r.choices).reduce((function(e,t){var n;return e.concat(null!==(n=null==t?void 0:t.scopes)&&void 0!==n?n:[])}),[]).includes(e))return r.resource}}catch(e){n.e(e)}finally{n.f()}}(n[1]);r&&(t["".concat(r,"--permission")]=[e])}})),t}}]),n}(q.Z),we=function(e){(0,p.Z)(n,e);var t=ge(n);function n(){var e;(0,u.Z)(this,n);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),(0,a.Z)((0,s.Z)(e),"form",new je),(0,a.Z)((0,s.Z)(e),"handleSubmitSuccess",(function(t){var n=e.state.app,r=e.props.params.orgId,o="/settings/".concat(r,"/developer-settings/"),s=n?o:"".concat(o).concat(t.slug,"/");n?(0,k.S9)((0,_.t)("%s successfully saved.",t.name)):(0,k.S9)((0,_.t)("%s successfully created.",t.name)),v.browserHistory.push(s)})),(0,a.Z)((0,s.Z)(e),"handleSubmitError",(function(t){var n,r=(0,_.t)("Unknown Error");if(t.status>=400&&t.status<500&&(r=null!==(n=null==t?void 0:t.responseJSON.detail)&&void 0!==n?n:r),(0,k.Iw)(r),e.form.formErrors){var o=Object.keys(e.form.formErrors)[0];o&&w()("#".concat(o),{align:"middle",offset:0})}})),(0,a.Z)((0,s.Z)(e),"onAddToken",function(){var t=(0,o.Z)(b().mark((function t(n){var r,o,s,i,a,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,o=r.app,s=r.tokens,o){t.next=4;break}return t.abrupt("return");case 4:return i=e.api,t.next=7,P(i,o);case 7:a=t.sent,l=s.concat(a),e.setState({tokens:l});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,a.Z)((0,s.Z)(e),"onRemoveToken",function(){var t=(0,o.Z)(b().mark((function t(n,r){var o,s,i,a,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),o=e.state,s=o.app,i=o.tokens,s){t.next=4;break}return t.abrupt("return");case 4:return a=e.api,l=i.filter((function(e){return e.token!==n.token})),t.next=8,S(a,s,n.token);case 8:e.setState({tokens:l});case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),(0,a.Z)((0,s.Z)(e),"renderTokens",(function(){var t=e.state.tokens;return t.length>0?t.map((function(t){return(0,te.tZ)(ke,{key:t.token},(0,te.tZ)(_e,null,(0,te.tZ)(D.Z,{disabled:e.showAuthInfo,position:"right",containerDisplayMode:"inline",title:(0,_.t)("You do not have access to view these credentials because the permissions for this integration exceed those of your role.")},(0,te.tZ)(M.Z,null,(0,E.Z)({value:t.token,fixed:"xxxxxx"})))),(0,te.tZ)(Oe,null,(0,te.tZ)(Pe,null,"Created:"),(0,te.tZ)(I.Z,{date:(0,E.Z)({value:t.dateCreated,fixed:new Date(150820808e4)})})),(0,te.tZ)(R.ZP,{onClick:e.onRemoveToken.bind((0,s.Z)(e),t),size:"small",icon:(0,te.tZ)(N.Fz,null),"data-test-id":"token-delete",type:"button"},(0,_.t)("Revoke")))})):(0,te.tZ)(U.Z,{description:(0,_.t)("No tokens created yet.")})})),(0,a.Z)((0,s.Z)(e),"onFieldChange",(function(t,n){"webhookUrl"===t&&!n&&e.isInternal&&e.form.setValue("isAlertable",!1)})),e}return(0,c.Z)(n,[{key:"getDefaultState",value:function(){return Ze(Ze({},(0,i.Z)((0,f.Z)(n.prototype),"getDefaultState",this).call(this)),{},{app:null,tokens:[]})}},{key:"getEndpoints",value:function(){var e=this.props.params.appSlug;return e?[["app","/sentry-apps/".concat(e,"/")],["tokens","/sentry-apps/".concat(e,"/api-tokens/")]]:[]}},{key:"getTitle",value:function(){var e=this.props.params.orgId;return(0,z.Z)((0,_.t)("Sentry Integration Details"),e,!1)}},{key:"normalize",value:function(e){return 0===e.length?e:e.map((function(e){return e.split(".").shift()}))}},{key:"isInternal",get:function(){var e=this.state.app;return e?"internal"===e.status:"new-internal/"===this.props.route.path}},{key:"showAuthInfo",get:function(){var e=this.state.app;return!(e&&e.clientSecret&&"*"===e.clientSecret[0])}},{key:"renderBody",value:function(){var e,t=this,n=this.props.params.orgId,o=this.state.app,s=o&&(0,r.Z)(o.scopes)||[],i=o&&this.normalize(o.events)||[],a=o?"PUT":"POST",l=o?"/sentry-apps/".concat(o.slug,"/"):"/sentry-apps/",u=this.isInternal?A.internalIntegrationForms:A.publicIntegrationForms;return e=!this.isInternal&&(!o||o.verifyInstall),(0,te.tZ)("div",null,(0,te.tZ)(W.Z,{title:this.getTitle()}),(0,te.tZ)(V.Z,{apiMethod:a,apiEndpoint:l,allowUndo:!0,initialData:Ze(Ze({organization:n,isAlertable:!1,isInternal:this.isInternal,schema:{},scopes:[]},o),{},{verifyInstall:e}),model:this.form,onSubmitSuccess:this.handleSubmitSuccess,onSubmitError:this.handleSubmitError,onFieldChange:this.onFieldChange},(0,te.tZ)(x.Qj,null,(function(){var e=t.isInternal&&!t.form.getValue("webhookUrl");return(0,te.tZ)(y.Fragment,null,(0,te.tZ)(H.Z,{location:t.props.location,additionalFieldProps:{webhookDisabled:e},forms:u}),(0,te.tZ)(ye,{webhookDisabled:e,appPublished:!!o&&"published"===o.status,scopes:s,events:i}))})),o&&"internal"===o.status&&(0,te.tZ)(T.s_,null,(0,te.tZ)(T.V9,{hasButtons:!0},(0,_.t)("Tokens"),(0,te.tZ)(R.ZP,{size:"xsmall",icon:(0,te.tZ)(N.N_,{size:"xs",isCircled:!0}),onClick:function(e){return t.onAddToken(e)},"data-test-id":"token-add",type:"button"},(0,_.t)("New Token"))),(0,te.tZ)(T.N,null,this.renderTokens())),o&&(0,te.tZ)(T.s_,null,(0,te.tZ)(T.V9,null,(0,_.t)("Credentials")),(0,te.tZ)(T.N,null,"internal"!==o.status&&(0,te.tZ)(L.Z,{name:"clientId",label:"Client ID"},(function(e){var t=e.value;return(0,te.tZ)(M.Z,null,(0,E.Z)({value:t,fixed:"CI_CLIENT_ID"}))})),(0,te.tZ)(L.Z,{name:"clientSecret",label:"Client Secret"},(function(e){var n=e.value;return n?(0,te.tZ)(D.Z,{disabled:t.showAuthInfo,position:"right",containerDisplayMode:"inline",title:(0,_.t)("You do not have access to view these credentials because the permissions for this integration exceed those of your role.")},(0,te.tZ)(M.Z,null,(0,E.Z)({value:n,fixed:"CI_CLIENT_SECRET"}))):(0,te.tZ)("em",null,"hidden")}))))))}}]),n}(B.Z),ke=(0,m.Z)(T.Lv,{target:"e1yio6dz0",label:"StyledPanelItem"})({name:"gg4vpm",styles:"display:flex;justify-content:space-between;"}),_e=(0,m.Z)("div",{target:"e1yio6dz1",label:"TokenItem"})({name:"6gs9hh",styles:"width:70%;"}),Pe=(0,m.Z)("span",{target:"e1yio6dz2",label:"CreatedTitle"})("color:",(function(e){return e.theme.gray300}),";margin-bottom:2px;"),Oe=(0,m.Z)("div",{target:"e1yio6dz3",label:"CreatedDate"})({name:"9lkchr",styles:"display:flex;flex-direction:column;font-size:14px;margin:0 10px;"})},"../node_modules/lodash/_baseInverter.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseForOwn.js");e.exports=function(e,t,n,o){return r(e,(function(e,r,s){t(o,n(e),r,s)})),o}},"../node_modules/lodash/_createFind.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseIteratee.js"),o=n("../node_modules/lodash/isArrayLike.js"),s=n("../node_modules/lodash/keys.js");e.exports=function(e){return function(t,n,i){var a=Object(t);if(!o(t)){var l=r(n,3);t=s(t),n=function(e){return l(a[e],e,a)}}var u=e(t,n,i);return u>-1?a[l?t[u]:u]:void 0}}},"../node_modules/lodash/_createInverter.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseInverter.js");e.exports=function(e,t){return function(n,o){return r(n,e,t(o),{})}}},"../node_modules/lodash/find.js":(e,t,n)=>{var r=n("../node_modules/lodash/_createFind.js")(n("../node_modules/lodash/findIndex.js"));e.exports=r},"../node_modules/lodash/invertBy.js":(e,t,n)=>{var r=n("../node_modules/lodash/_baseIteratee.js"),o=n("../node_modules/lodash/_createInverter.js"),s=Object.prototype,i=s.hasOwnProperty,a=s.toString,l=o((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=a.call(t)),i.call(e,t)?e[t].push(n):e[t]=[n]}),r);e.exports=l}}]);
//# sourceMappingURL=sentryApplicationDetails.js.map