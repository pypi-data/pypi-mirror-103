{"version":3,"sources":["webpack:///./app/components/events/groupingInfo/groupingConfigSelect.tsx","webpack:///./app/components/events/groupingInfo/utils.tsx","webpack:///./app/components/events/groupingInfo/groupingComponentChildren.tsx","webpack:///./app/components/events/groupingInfo/groupingComponentFrames.tsx","webpack:///./app/components/events/groupingInfo/groupingComponentStacktrace.tsx","webpack:///./app/components/events/groupingInfo/groupingComponent.tsx","webpack:///./app/components/events/groupingInfo/groupingVariant.tsx","webpack:///./app/components/events/groupingInfo/index.tsx","webpack:///./app/data/forms/projectIssueGrouping.tsx"],"names":["GroupingConfigSelect","configs","this","renderBody","props","configId","eventConfigId","onSelect","options","state","map","id","hidden","value","label","GroupingConfigItem","isHidden","isActive","items","isOpen","title","t","StyledDropdownButton","size","AsyncComponent","DropdownButton","hasNonContributingComponent","component","contributes","values","isObject","groupingComponentFilter","showNonContributing","hint","length","GroupingComponentChildren","filter","idx","GroupingComponentListItem","key","GroupingValue","valueType","name","JSON","stringify","GroupingComponentFrames","collapsed","maxVisibleItems","isCollapsable","item","index","ToggleCollapse","priority","icon","onClick","setState","tct","numberOfFrames","React","Button","space","GroupingComponentStacktrace","frameGroups","forEach","v","sort","a","b","localeCompare","join","lastGroup","data","push","group","GroupingComponent","shouldInlineValue","every","shouldInlineComponentValue","GroupingComponentListItems","GroupingComponentWrapper","isContributing","GroupingHint","GroupingComponentList","isInline","p","theme","innerBorder","fontSizeSmall","gray200","addFingerprintInfo","variant","matched_rule","TextWithQuestionTooltip","position","client_values","GroupVariant","showGroupingConfig","hash","Hash","hashMismatch","type","EventGroupVariantType","config","GroupingTree","VariantTitle","ContributionIcon","description","split","i","capitalize","ContributingToggle","merged","active","barId","handleHideNonContributing","handleShowNonContributing","getVariantData","VariantWrapper","Header","renderTitle","renderContributionToggle","d","subject","isContextData","isSorted","breakpoints","fontSizeMedium","isCircled","color","ButtonBar","overflowEllipsis","EventGroupingInfo","configOverride","selection","reloadData","organization","event","projectId","path","slug","groupInfo","groupedBy","Object","toLowerCase","SummaryGroupedBy","data-test-id","groupingConfig","GroupConfigWrapper","handleConfigSelect","loading","variants","renderGroupConfigSelect","VariantDivider","renderGroupInfoSummary","actions","ToggleButton","toggle","renderGroupInfo","subText","textColor","text","familyMono","withOrganization","route","groupingConfigField","deprecatedSelectControl","saveOnBlur","saveMessageAlertType","saveMessage","selectionInfoFunction","args","groupingConfigs","find","changelog","Changelog","ChangelogTitle","version","dangerouslySetInnerHTML","__html","marked","choices","toString","help","visible","features","has","fields","fingerprintingRules","hideLabel","placeholder","multiline","monospace","autosize","inline","maxRows","formatMessageValue","RuleDescription","pattern","docs","href","RuleExample","groupingEnhancements","validate","secondaryGroupingConfig","secondaryGroupingExpiry","backgroundSecondary","borderRadius"],"mappings":"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","file":"app_data_forms_projectIssueGrouping_tsx.072dddaa70db6278c31d.js","sourcesContent":["import React from 'react';\nimport styled from '@emotion/styled';\n\nimport AsyncComponent from 'app/components/asyncComponent';\nimport DropdownAutoComplete from 'app/components/dropdownAutoComplete';\nimport DropdownButton from 'app/components/dropdownButton';\nimport Tooltip from 'app/components/tooltip';\nimport {t} from 'app/locale';\nimport {EventGroupingConfig} from 'app/types';\n\nimport {GroupingConfigItem} from '.';\n\ntype Props = AsyncComponent['props'] & {\n  eventConfigId: string;\n  configId: string;\n  onSelect: (selection: any) => void;\n};\n\ntype State = AsyncComponent['state'] & {\n  configs: EventGroupingConfig[];\n};\n\nclass GroupingConfigSelect extends AsyncComponent<Props, State> {\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      configs: [],\n    };\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    return [['configs', '/grouping-configs/']];\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderBody() {\n    const {configId, eventConfigId, onSelect} = this.props;\n    const {configs} = this.state;\n\n    const options = configs.map(({id, hidden}) => ({\n      value: id,\n      label: (\n        <GroupingConfigItem isHidden={hidden} isActive={id === eventConfigId}>\n          {id}\n        </GroupingConfigItem>\n      ),\n    }));\n\n    return (\n      <DropdownAutoComplete onSelect={onSelect} items={options}>\n        {({isOpen}) => (\n          <Tooltip title={t('Click here to experiment with other grouping configs')}>\n            <StyledDropdownButton isOpen={isOpen} size=\"small\">\n              <GroupingConfigItem isActive={eventConfigId === configId}>\n                {configId}\n              </GroupingConfigItem>\n            </StyledDropdownButton>\n          </Tooltip>\n        )}\n      </DropdownAutoComplete>\n    );\n  }\n}\n\nconst StyledDropdownButton = styled(DropdownButton)`\n  font-weight: inherit;\n`;\n\nexport default GroupingConfigSelect;\n","import isObject from 'lodash/isObject';\n\nimport {EventGroupComponent} from 'app/types';\n\nexport function hasNonContributingComponent(component: EventGroupComponent | undefined) {\n  if (!component?.contributes) {\n    return true;\n  }\n  for (const value of component.values) {\n    if (isObject(value) && hasNonContributingComponent(value)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function shouldInlineComponentValue(component: EventGroupComponent) {\n  return (component.values as EventGroupComponent[]).every(value => !isObject(value));\n}\n\nexport function groupingComponentFilter(\n  value: EventGroupComponent | string,\n  showNonContributing: boolean\n) {\n  if (isObject(value)) {\n    // no point rendering such nodes at all, we never show them\n    if (!value.contributes && !value.hint && value.values.length === 0) {\n      return false;\n    }\n    // non contributing values are otherwise optional\n    if (!showNonContributing && !value.contributes) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import React from 'react';\nimport isObject from 'lodash/isObject';\n\nimport {EventGroupComponent} from 'app/types';\n\nimport GroupingComponent, {\n  GroupingComponentListItem,\n  GroupingValue,\n} from './groupingComponent';\nimport {groupingComponentFilter} from './utils';\n\ntype Props = {\n  component: EventGroupComponent;\n  showNonContributing: boolean;\n};\n\nconst GroupingComponentChildren = ({component, showNonContributing}: Props) => {\n  return (\n    <React.Fragment>\n      {(component.values as EventGroupComponent[])\n        .filter(value => groupingComponentFilter(value, showNonContributing))\n        .map((value, idx) => (\n          <GroupingComponentListItem key={idx}>\n            {isObject(value) ? (\n              <GroupingComponent\n                component={value}\n                showNonContributing={showNonContributing}\n              />\n            ) : (\n              <GroupingValue valueType={component.name || component.id}>\n                {typeof value === 'string' || typeof value === 'number'\n                  ? value\n                  : JSON.stringify(value, null, 2)}\n              </GroupingValue>\n            )}\n          </GroupingComponentListItem>\n        ))}\n    </React.Fragment>\n  );\n};\n\nexport default GroupingComponentChildren;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport Button from 'app/components/button';\nimport {IconAdd, IconSubtract} from 'app/icons';\nimport {tct} from 'app/locale';\nimport space from 'app/styles/space';\n\nimport {GroupingComponentListItem} from './groupingComponent';\n\ntype DefaultProps = {\n  maxVisibleItems: number;\n};\n\ntype Props = DefaultProps & {\n  items: React.ReactNode[];\n};\n\ntype State = {\n  collapsed: boolean;\n};\n\nclass GroupingComponentFrames extends React.Component<Props, State> {\n  static defaultProps: DefaultProps = {\n    maxVisibleItems: 2,\n  };\n\n  state: State = {\n    collapsed: true,\n  };\n\n  render() {\n    const {items, maxVisibleItems} = this.props;\n    const {collapsed} = this.state;\n    const isCollapsable = items.length > maxVisibleItems;\n\n    return (\n      <React.Fragment>\n        {items.map((item, index) => {\n          if (!collapsed || index < maxVisibleItems) {\n            return (\n              <GroupingComponentListItem isCollapsable={isCollapsable} key={index}>\n                {item}\n              </GroupingComponentListItem>\n            );\n          }\n\n          if (index === maxVisibleItems) {\n            return (\n              <GroupingComponentListItem key={index}>\n                <ToggleCollapse\n                  size=\"small\"\n                  priority=\"link\"\n                  icon={<IconAdd size=\"8px\" />}\n                  onClick={() => this.setState({collapsed: false})}\n                >\n                  {tct('show [numberOfFrames] similiar', {\n                    numberOfFrames: items.length - maxVisibleItems,\n                  })}\n                </ToggleCollapse>\n              </GroupingComponentListItem>\n            );\n          }\n\n          return null;\n        })}\n\n        {!collapsed && items.length > maxVisibleItems && (\n          <GroupingComponentListItem>\n            <ToggleCollapse\n              size=\"small\"\n              priority=\"link\"\n              icon={<IconSubtract size=\"8px\" />}\n              onClick={() => this.setState({collapsed: true})}\n            >\n              {tct('collapse [numberOfFrames] similiar', {\n                numberOfFrames: items.length - maxVisibleItems,\n              })}\n            </ToggleCollapse>\n          </GroupingComponentListItem>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nconst ToggleCollapse = styled(Button)`\n  margin: ${space(0.5)} 0;\n`;\n\nexport default GroupingComponentFrames;\n","import React from 'react';\n\nimport {EventGroupComponent} from 'app/types';\n\nimport GroupingComponent from './groupingComponent';\nimport GroupingComponentFrames from './groupingComponentFrames';\nimport {groupingComponentFilter} from './utils';\n\ntype FrameGroup = {\n  key: string;\n  data: EventGroupComponent[];\n};\n\ntype Props = {\n  component: EventGroupComponent;\n  showNonContributing: boolean;\n};\n\nconst GroupingComponentStacktrace = ({component, showNonContributing}: Props) => {\n  const getFrameGroups = () => {\n    const frameGroups: FrameGroup[] = [];\n\n    (component.values as EventGroupComponent[])\n      .filter(value => groupingComponentFilter(value, showNonContributing))\n      .forEach(value => {\n        const key = (value.values as EventGroupComponent[])\n          .filter(v => groupingComponentFilter(v, showNonContributing))\n          .map(v => v.id)\n          .sort((a, b) => a.localeCompare(b))\n          .join('');\n\n        const lastGroup = frameGroups[frameGroups.length - 1];\n\n        if (lastGroup?.key === key) {\n          lastGroup.data.push(value);\n        } else {\n          frameGroups.push({key, data: [value]});\n        }\n      });\n\n    return frameGroups;\n  };\n\n  return (\n    <React.Fragment>\n      {getFrameGroups().map((group, index) => (\n        <GroupingComponentFrames\n          key={index}\n          items={group.data.map((v, idx) => (\n            <GroupingComponent\n              key={idx}\n              component={v}\n              showNonContributing={showNonContributing}\n            />\n          ))}\n        />\n      ))}\n    </React.Fragment>\n  );\n};\n\nexport default GroupingComponentStacktrace;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\nimport {EventGroupComponent} from 'app/types';\n\nimport GroupingComponentChildren from './groupingComponentChildren';\nimport GroupingComponentStacktrace from './groupingComponentStacktrace';\nimport {shouldInlineComponentValue} from './utils';\n\ntype Props = {\n  component: EventGroupComponent;\n  showNonContributing: boolean;\n};\n\nconst GroupingComponent = ({component, showNonContributing}: Props) => {\n  const shouldInlineValue = shouldInlineComponentValue(component);\n\n  const GroupingComponentListItems =\n    component.id === 'stacktrace'\n      ? GroupingComponentStacktrace\n      : GroupingComponentChildren;\n\n  return (\n    <GroupingComponentWrapper isContributing={component.contributes}>\n      <span>\n        {component.name || component.id}\n        {component.hint && <GroupingHint>{` (${component.hint})`}</GroupingHint>}\n      </span>\n\n      <GroupingComponentList isInline={shouldInlineValue}>\n        <GroupingComponentListItems\n          component={component}\n          showNonContributing={showNonContributing}\n        />\n      </GroupingComponentList>\n    </GroupingComponentWrapper>\n  );\n};\n\nconst GroupingComponentList = styled('ul')<{isInline: boolean}>`\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  &,\n  & > li {\n    display: ${p => (p.isInline ? 'inline' : 'block')};\n  }\n`;\n\nexport const GroupingComponentListItem = styled('li')<{isCollapsable?: boolean}>`\n  padding: 0;\n  margin: ${space(0.25)} 0 ${space(0.25)} ${space(1.5)};\n\n  ${p =>\n    p.isCollapsable &&\n    `\n    border-left: 1px solid ${p.theme.innerBorder};\n    margin: 0 0 -${space(0.25)} ${space(1)};\n    padding-left: ${space(0.5)};\n  `}\n`;\n\nexport const GroupingValue = styled('code')<{valueType: string}>`\n  display: inline-block;\n  margin: ${space(0.25)} ${space(0.5)} ${space(0.25)} 0;\n  font-size: ${p => p.theme.fontSizeSmall};\n  padding: 0 ${space(0.25)};\n  background: rgba(112, 163, 214, 0.1);\n  color: #4e3fb4;\n\n  ${({valueType}) =>\n    (valueType === 'function' || valueType === 'symbol') &&\n    `\n    font-weight: bold;\n    color: #2c58a8;\n  `}\n`;\n\nconst GroupingComponentWrapper = styled('div')<{isContributing: boolean}>`\n  color: ${p => (p.isContributing ? null : p.theme.gray200)};\n\n  ${GroupingValue}, button {\n    opacity: ${p => (p.isContributing ? 1 : 0.6)};\n  }\n`;\n\nconst GroupingHint = styled('small')`\n  font-size: 0.8em;\n`;\n\nexport default GroupingComponent;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport capitalize from 'lodash/capitalize';\n\nimport Button from 'app/components/button';\nimport ButtonBar from 'app/components/buttonBar';\nimport KeyValueList from 'app/components/events/interfaces/keyValueList';\nimport QuestionTooltip from 'app/components/questionTooltip';\nimport Tooltip from 'app/components/tooltip';\nimport {IconCheckmark, IconClose} from 'app/icons';\nimport {t} from 'app/locale';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\nimport space from 'app/styles/space';\nimport {EventGroupComponent, EventGroupVariant, EventGroupVariantType} from 'app/types';\n\nimport GroupingComponent from './groupingComponent';\nimport {hasNonContributingComponent} from './utils';\n\ntype Props = {\n  variant: EventGroupVariant;\n  showGroupingConfig: boolean;\n};\n\ntype State = {\n  showNonContributing: boolean;\n};\n\ntype VariantData = [string, React.ReactNode][];\n\nfunction addFingerprintInfo(data: VariantData, variant: EventGroupVariant) {\n  if (variant.matched_rule) {\n    data.push([\n      t('Fingerprint rule'),\n      <TextWithQuestionTooltip key=\"type\">\n        {variant.matched_rule}\n        <QuestionTooltip\n          size=\"xs\"\n          position=\"top\"\n          title={t('The server-side fingerprinting rule that produced the fingerprint.')}\n        />\n      </TextWithQuestionTooltip>,\n    ]);\n  }\n  if (variant.values) {\n    data.push([t('Fingerprint values'), variant.values]);\n  }\n  if (variant.client_values) {\n    data.push([\n      t('Client fingerprint values'),\n      <TextWithQuestionTooltip key=\"type\">\n        {variant.client_values}\n        <QuestionTooltip\n          size=\"xs\"\n          position=\"top\"\n          title={t(\n            'The client sent a fingerprint that was overridden by a server-side fingerprinting rule.'\n          )}\n        />\n      </TextWithQuestionTooltip>,\n    ]);\n  }\n}\n\nclass GroupVariant extends React.Component<Props, State> {\n  state = {\n    showNonContributing: false,\n  };\n\n  handleShowNonContributing = () => {\n    this.setState({showNonContributing: true});\n  };\n\n  handleHideNonContributing = () => {\n    this.setState({showNonContributing: false});\n  };\n\n  getVariantData(): [VariantData, EventGroupComponent | undefined] {\n    const {variant, showGroupingConfig} = this.props;\n    const data: VariantData = [];\n    let component: EventGroupComponent | undefined;\n\n    if (!this.state.showNonContributing && variant.hash === null) {\n      return [data, component];\n    }\n\n    if (variant.hash !== null) {\n      data.push([\n        t('Hash'),\n        <TextWithQuestionTooltip key=\"hash\">\n          <Hash>{variant.hash}</Hash>\n          <QuestionTooltip\n            size=\"xs\"\n            position=\"top\"\n            title={t('Events with the same hash are grouped together')}\n          />\n        </TextWithQuestionTooltip>,\n      ]);\n    }\n\n    if (variant.hashMismatch) {\n      data.push([\n        t('Hash mismatch'),\n        t('hashing algorithm produced a hash that does not match the event'),\n      ]);\n    }\n\n    switch (variant.type) {\n      case EventGroupVariantType.COMPONENT:\n        component = variant.component;\n        data.push([\n          t('Type'),\n          <TextWithQuestionTooltip key=\"type\">\n            {variant.type}\n            <QuestionTooltip\n              size=\"xs\"\n              position=\"top\"\n              title={t(\n                'Uses a complex grouping algorithm taking event data into account'\n              )}\n            />\n          </TextWithQuestionTooltip>,\n        ]);\n        if (showGroupingConfig && variant.config?.id) {\n          data.push([t('Grouping Config'), variant.config.id]);\n        }\n        break;\n      case EventGroupVariantType.CUSTOM_FINGERPRINT:\n        data.push([\n          t('Type'),\n          <TextWithQuestionTooltip key=\"type\">\n            {variant.type}\n            <QuestionTooltip\n              size=\"xs\"\n              position=\"top\"\n              title={t('Overrides the default grouping by a custom fingerprinting rule')}\n            />\n          </TextWithQuestionTooltip>,\n        ]);\n        addFingerprintInfo(data, variant);\n        break;\n      case EventGroupVariantType.SALTED_COMPONENT:\n        component = variant.component;\n        data.push([\n          t('Type'),\n          <TextWithQuestionTooltip key=\"type\">\n            {variant.type}\n            <QuestionTooltip\n              size=\"xs\"\n              position=\"top\"\n              title={t(\n                'Uses a complex grouping algorithm taking event data and a fingerprint into account'\n              )}\n            />\n          </TextWithQuestionTooltip>,\n        ]);\n        addFingerprintInfo(data, variant);\n        if (showGroupingConfig && variant.config?.id) {\n          data.push([t('Grouping Config'), variant.config.id]);\n        }\n        break;\n      default:\n        break;\n    }\n\n    if (component) {\n      data.push([\n        t('Grouping'),\n        <GroupingTree key={component.id}>\n          <GroupingComponent\n            component={component}\n            showNonContributing={this.state.showNonContributing}\n          />\n        </GroupingTree>,\n      ]);\n    }\n\n    return [data, component];\n  }\n\n  renderTitle() {\n    const {variant} = this.props;\n    const isContributing = variant.hash !== null;\n\n    let title: string;\n    if (isContributing) {\n      title = t('Contributing variant');\n    } else {\n      const hint = variant.component?.hint;\n      if (hint) {\n        title = t('Non-contributing variant: %s', hint);\n      } else {\n        title = t('Non-contributing variant');\n      }\n    }\n\n    return (\n      <Tooltip title={title}>\n        <VariantTitle>\n          <ContributionIcon isContributing={isContributing} />\n          {t('By')}{' '}\n          {variant.description\n            ?.split(' ')\n            .map(i => capitalize(i))\n            .join(' ') ?? t('Nothing')}\n        </VariantTitle>\n      </Tooltip>\n    );\n  }\n\n  renderContributionToggle() {\n    const {showNonContributing} = this.state;\n\n    return (\n      <ContributingToggle merged active={showNonContributing ? 'all' : 'relevant'}>\n        <Button barId=\"relevant\" size=\"xsmall\" onClick={this.handleHideNonContributing}>\n          {t('Contributing values')}\n        </Button>\n        <Button barId=\"all\" size=\"xsmall\" onClick={this.handleShowNonContributing}>\n          {t('All values')}\n        </Button>\n      </ContributingToggle>\n    );\n  }\n\n  render() {\n    const [data, component] = this.getVariantData();\n\n    return (\n      <VariantWrapper>\n        <Header>\n          {this.renderTitle()}\n          {hasNonContributingComponent(component) && this.renderContributionToggle()}\n        </Header>\n\n        <KeyValueList\n          data={data.map(d => ({\n            key: d[0],\n            subject: d[0],\n            value: d[1],\n          }))}\n          isContextData\n          isSorted={false}\n        />\n      </VariantWrapper>\n    );\n  }\n}\n\nconst VariantWrapper = styled('div')`\n  margin-bottom: ${space(4)};\n`;\n\nconst Header = styled('div')`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${space(2)};\n  @media (max-width: ${p => p.theme.breakpoints[0]}) {\n    display: block;\n  }\n`;\n\nconst VariantTitle = styled('h5')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin: 0;\n  display: flex;\n  align-items: center;\n`;\n\nconst ContributionIcon = styled(({isContributing, ...p}) =>\n  isContributing ? (\n    <IconCheckmark size=\"sm\" isCircled color=\"green300\" {...p} />\n  ) : (\n    <IconClose size=\"sm\" isCircled color=\"red300\" {...p} />\n  )\n)`\n  margin-right: ${space(1)};\n`;\n\nconst ContributingToggle = styled(ButtonBar)`\n  justify-content: flex-end;\n  @media (max-width: ${p => p.theme.breakpoints[0]}) {\n    margin-top: ${space(0.5)};\n  }\n`;\n\nconst GroupingTree = styled('div')`\n  color: #2f2936;\n`;\n\nconst TextWithQuestionTooltip = styled('div')`\n  display: grid;\n  align-items: center;\n  grid-template-columns: max-content min-content;\n  grid-gap: ${space(0.5)};\n`;\n\nconst Hash = styled('span')`\n  @media (max-width: ${p => p.theme.breakpoints[0]}) {\n    ${overflowEllipsis};\n    width: 210px;\n  }\n`;\n\nexport default GroupVariant;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport AsyncComponent from 'app/components/asyncComponent';\nimport Button from 'app/components/button';\nimport EventDataSection from 'app/components/events/eventDataSection';\nimport LoadingIndicator from 'app/components/loadingIndicator';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {EventGroupInfo, Organization} from 'app/types';\nimport {Event} from 'app/types/event';\nimport withOrganization from 'app/utils/withOrganization';\n\nimport GroupingConfigSelect from './groupingConfigSelect';\nimport GroupVariant from './groupingVariant';\n\ntype Props = AsyncComponent['props'] & {\n  organization: Organization;\n  projectId: string;\n  event: Event;\n  showGroupingConfig: boolean;\n};\n\ntype State = AsyncComponent['state'] & {\n  isOpen: boolean;\n  configOverride: string | null;\n  groupInfo: EventGroupInfo;\n};\n\nclass EventGroupingInfo extends AsyncComponent<Props, State> {\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {organization, event, projectId} = this.props;\n\n    let path = `/projects/${organization.slug}/${projectId}/events/${event.id}/grouping-info/`;\n    if (this.state?.configOverride) {\n      path = `${path}?config=${this.state.configOverride}`;\n    }\n\n    return [['groupInfo', path]];\n  }\n\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      isOpen: false,\n      configOverride: null,\n    };\n  }\n\n  toggle = () => {\n    this.setState(state => ({\n      isOpen: !state.isOpen,\n      configOverride: state.isOpen ? null : state.configOverride,\n    }));\n  };\n\n  handleConfigSelect = selection => {\n    this.setState({configOverride: selection.value}, () => this.reloadData());\n  };\n\n  renderGroupInfoSummary() {\n    const {groupInfo} = this.state;\n\n    if (!groupInfo) {\n      return null;\n    }\n\n    const groupedBy = Object.values(groupInfo)\n      .filter(variant => variant.hash !== null && variant.description !== null)\n      .map(variant => variant.description)\n      .sort((a, b) => a!.toLowerCase().localeCompare(b!.toLowerCase()))\n      .join(', ');\n\n    return (\n      <SummaryGroupedBy data-test-id=\"loaded-grouping-info\">{`(${t('grouped by')} ${\n        groupedBy || t('nothing')\n      })`}</SummaryGroupedBy>\n    );\n  }\n\n  renderGroupConfigSelect() {\n    const {configOverride} = this.state;\n    const {event} = this.props;\n\n    const configId = configOverride ?? event.groupingConfig.id;\n\n    return (\n      <GroupConfigWrapper>\n        <GroupingConfigSelect\n          eventConfigId={event.groupingConfig.id}\n          configId={configId}\n          onSelect={this.handleConfigSelect}\n        />\n      </GroupConfigWrapper>\n    );\n  }\n\n  renderGroupInfo() {\n    const {groupInfo, loading} = this.state;\n    const {showGroupingConfig} = this.props;\n\n    const variants = groupInfo\n      ? Object.values(groupInfo).sort((a, b) =>\n          a.hash && !b.hash\n            ? -1\n            : a.description\n                ?.toLowerCase()\n                .localeCompare(b.description?.toLowerCase() ?? '') ?? 1\n        )\n      : [];\n\n    return (\n      <React.Fragment>\n        {showGroupingConfig && this.renderGroupConfigSelect()}\n\n        {loading ? (\n          <LoadingIndicator />\n        ) : (\n          variants.map((variant, index) => (\n            <React.Fragment key={variant.key}>\n              <GroupVariant variant={variant} showGroupingConfig={showGroupingConfig} />\n              {index < variants.length - 1 && <VariantDivider />}\n            </React.Fragment>\n          ))\n        )}\n      </React.Fragment>\n    );\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderBody() {\n    const {isOpen} = this.state;\n\n    const title = (\n      <React.Fragment>\n        {t('Event Grouping Information')}\n        {!isOpen && this.renderGroupInfoSummary()}\n      </React.Fragment>\n    );\n\n    const actions = (\n      <ToggleButton onClick={this.toggle} priority=\"link\">\n        {isOpen ? t('Hide Details') : t('Show Details')}\n      </ToggleButton>\n    );\n\n    return (\n      <EventDataSection type=\"grouping-info\" title={title} actions={actions}>\n        {isOpen && this.renderGroupInfo()}\n      </EventDataSection>\n    );\n  }\n}\n\nconst SummaryGroupedBy = styled('small')`\n  @media (max-width: ${p => p.theme.breakpoints[0]}) {\n    display: block;\n    margin: 0 !important;\n  }\n`;\n\nconst ToggleButton = styled(Button)`\n  font-weight: 700;\n  color: ${p => p.theme.subText};\n  &:hover,\n  &:focus {\n    color: ${p => p.theme.textColor};\n  }\n`;\n\nconst GroupConfigWrapper = styled('div')`\n  margin-bottom: ${space(1.5)};\n  margin-top: -${space(1)};\n`;\n\nexport const GroupingConfigItem = styled('span')<{\n  isHidden?: boolean;\n  isActive?: boolean;\n}>`\n  font-family: ${p => p.theme.text.familyMono};\n  opacity: ${p => (p.isHidden ? 0.5 : null)};\n  font-weight: ${p => (p.isActive ? 'bold' : null)};\n  font-size: ${p => p.theme.fontSizeSmall};\n`;\n\nconst VariantDivider = styled('hr')`\n  padding-top: ${space(1)};\n`;\n\nexport default withOrganization(EventGroupingInfo);\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {GroupingConfigItem} from 'app/components/events/groupingInfo';\nimport ExternalLink from 'app/components/links/externalLink';\nimport {t, tct} from 'app/locale';\nimport space from 'app/styles/space';\nimport marked from 'app/utils/marked';\nimport {Field} from 'app/views/settings/components/forms/type';\n\n// Export route to make these forms searchable by label/help\nexport const route = '/settings/:orgId/projects/:projectId/issue-grouping/';\n\nconst groupingConfigField: Field = {\n  name: 'groupingConfig',\n  type: 'select',\n  deprecatedSelectControl: false,\n  label: t('Grouping Config'),\n  saveOnBlur: false,\n  saveMessageAlertType: 'info',\n  saveMessage: t(\n    'Changing grouping config will apply to future events only (can take up to a minute).'\n  ),\n  selectionInfoFunction: args => {\n    const {groupingConfigs, value} = args;\n    const selection = groupingConfigs.find(({id}) => id === value);\n    const changelog = selection?.changelog || '';\n    if (!changelog) {\n      return null;\n    }\n    return (\n      <Changelog>\n        <ChangelogTitle>\n          {tct('New in version [version]', {version: selection.id})}:\n        </ChangelogTitle>\n        <div dangerouslySetInnerHTML={{__html: marked(changelog)}} />\n      </Changelog>\n    );\n  },\n  choices: ({groupingConfigs}) =>\n    groupingConfigs.map(({id, hidden}) => [\n      id.toString(),\n      <GroupingConfigItem key={id} isHidden={hidden}>\n        {id}\n      </GroupingConfigItem>,\n    ]),\n  help: t('Sets the grouping algorithm to be used for new events.'),\n  visible: ({features}) => features.has('set-grouping-config'),\n};\n\nexport const fields: Record<string, Field> = {\n  fingerprintingRules: {\n    name: 'fingerprintingRules',\n    type: 'string',\n    label: t('Fingerprint Rules'),\n    hideLabel: true,\n    placeholder: t(\n      'error.type:MyException -> fingerprint-value\\nstack.function:some_panic_function -> fingerprint-value'\n    ),\n    multiline: true,\n    monospace: true,\n    autosize: true,\n    inline: false,\n    maxRows: 20,\n    saveOnBlur: false,\n    saveMessageAlertType: 'info',\n    saveMessage: t(\n      'Changing fingerprint rules will apply to future events only (can take up to a minute).'\n    ),\n    formatMessageValue: false,\n    help: () => (\n      <React.Fragment>\n        <RuleDescription>\n          {tct(\n            `This can be used to modify the fingerprint rules on the server with custom rules.\n        Rules follow the pattern [pattern]. To learn more about fingerprint rules, [docs:read the docs].`,\n            {\n              pattern: <code>matcher:glob -&gt; fingerprint, values</code>,\n              docs: (\n                <ExternalLink href=\"https://docs.sentry.io/platform-redirect/?next=%2Fdata-management%2Fevent-grouping%2Fserver-side-fingerprinting%2F\" />\n              ),\n            }\n          )}\n        </RuleDescription>\n        <RuleExample>\n          {`# force all errors of the same type to have the same fingerprint\nerror.type:DatabaseUnavailable -> system-down\n# force all memory allocation errors to be grouped together\nstack.function:malloc -> memory-allocation-error`}\n        </RuleExample>\n      </React.Fragment>\n    ),\n    visible: true,\n  },\n  groupingEnhancements: {\n    name: 'groupingEnhancements',\n    type: 'string',\n    label: t('Stack Trace Rules'),\n    hideLabel: true,\n    placeholder: t(\n      'stack.function:raise_an_exception ^-group\\nstack.function:namespace::* +app'\n    ),\n    multiline: true,\n    monospace: true,\n    autosize: true,\n    inline: false,\n    maxRows: 20,\n    saveOnBlur: false,\n    saveMessageAlertType: 'info',\n    saveMessage: t(\n      'Changing stack trace rules will apply to future events only (can take up to a minute).'\n    ),\n    formatMessageValue: false,\n    help: () => (\n      <React.Fragment>\n        <RuleDescription>\n          {tct(\n            `This can be used to enhance the grouping algorithm with custom rules.\n        Rules follow the pattern [pattern]. To learn more about stack trace rules, [docs:read the docs].`,\n            {\n              pattern: <code>matcher:glob [^v]?[+-]flag</code>,\n              docs: (\n                <ExternalLink href=\"https://docs.sentry.io/platform-redirect/?next=/data-management/event-grouping/stack-trace-rules/\" />\n              ),\n            }\n          )}\n        </RuleDescription>\n        <RuleExample>\n          {`# remove all frames above a certain function from grouping\nstack.function:panic_handler ^-group\n# mark all functions following a prefix in-app\nstack.function:mylibrary_* +app`}\n        </RuleExample>\n      </React.Fragment>\n    ),\n    validate: () => [],\n    visible: true,\n  },\n  groupingConfig: groupingConfigField,\n  secondaryGroupingConfig: {\n    ...groupingConfigField,\n    name: 'secondaryGroupingConfig',\n    label: t('Fallback/Secondary Grouping Config'),\n    help: t(\n      'Sets the secondary grouping algorithm that should be run in addition to avoid creating too many new groups. Controlled by expiration date below.'\n    ),\n  },\n  secondaryGroupingExpiry: {\n    name: 'secondaryGroupingExpiry',\n    type: 'number',\n    label: t('Expiration date of secondary grouping'),\n    help: t(\n      'If this UNIX timestamp is in the past, the secondary grouping configuration stops applying automatically.'\n    ),\n  },\n};\n\nconst RuleDescription = styled('div')`\n  margin-bottom: ${space(1)};\n  margin-top: -${space(1)};\n  margin-right: 36px;\n`;\n\nconst RuleExample = styled('pre')`\n  margin-bottom: ${space(1)};\n  margin-right: 36px;\n`;\n\nconst Changelog = styled('div')`\n  position: relative;\n  top: -1px;\n  margin-bottom: -1px;\n  padding: ${space(2)};\n  border-bottom: 1px solid ${p => p.theme.innerBorder};\n  background: ${p => p.theme.backgroundSecondary};\n  font-size: ${p => p.theme.fontSizeMedium};\n\n  &:last-child {\n    border: 0;\n    border-bottom-left-radius: ${p => p.theme.borderRadius};\n    border-bottom-right-radius: ${p => p.theme.borderRadius};\n  }\n`;\n\nconst ChangelogTitle = styled('h3')`\n  font-size: ${p => p.theme.fontSizeMedium};\n  margin-bottom: ${space(0.75)} !important;\n`;\n"],"sourceRoot":""}