(self.webpackChunk=self.webpackChunk||[]).push([["AccountSecurityWrapper"],{"./app/views/settings/account/accountSecurity/accountSecurityWrapper.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),u=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),i=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("../node_modules/@babel/runtime/regenerator/index.js"),d=n.n(p),h=n("../node_modules/react/index.js"),m=n("./app/actionCreators/indicator.tsx"),f=n("./app/components/asyncComponent.tsx"),b=n("./app/locale.tsx"),g=n("./app/utils.tsx");var v="/users/me/authenticators/";const y=function(e){(0,u.Z)(f,e);var t,n,p=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,i.Z)(t);if(n){var a=(0,i.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function f(){var e;(0,a.Z)(this,f);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e=p.call.apply(p,[this].concat(n)),(0,l.Z)((0,o.Z)(e),"handleDisable",function(){var t=(0,r.Z)(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.authId){t.next=2;break}return t.abrupt("return");case 2:return e.setState({loading:!0}),t.prev=3,t.next=6,e.api.requestPromise("".concat(v).concat(n.authId,"/"),{method:"DELETE"});case 6:e.remountComponent(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),e.setState({loading:!1}),(0,m.Iw)((0,b.t)("Error disabling %s",n.name));case 13:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()),(0,l.Z)((0,o.Z)(e),"handleRegenerateBackupCodes",(0,r.Z)(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,e.api.requestPromise("".concat(v).concat(e.props.params.authId,"/"),{method:"PUT"});case 4:e.remountComponent(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({loading:!1}),(0,m.Iw)((0,b.t)("Error regenerating backup codes"));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))),e}return(0,s.Z)(f,[{key:"getEndpoints",value:function(){return[["authenticators",v],["organizations","/organizations/"]]}},{key:"renderBody",value:function(){var e=this.props.children,t=this.state,n=t.authenticators,r=t.organizations,a=((null==n?void 0:n.filter((function(e){return e.isEnrolled&&!e.isBackupInterface})))||[]).length,s=(null==r?void 0:r.filter((function(e){return e.require2FA})))||[],o=s.length>0&&1===a;return(0,g.ri)(e)?h.cloneElement(this.props.children,{onDisable:this.handleDisable,onRegenerateBackupCodes:this.handleRegenerateBackupCodes,authenticators:n,deleteDisabled:o,orgsRequire2fa:s,countEnrolled:a}):null}}]),f}(f.Z)}}]);
//# sourceMappingURL=AccountSecurityWrapper.js.map