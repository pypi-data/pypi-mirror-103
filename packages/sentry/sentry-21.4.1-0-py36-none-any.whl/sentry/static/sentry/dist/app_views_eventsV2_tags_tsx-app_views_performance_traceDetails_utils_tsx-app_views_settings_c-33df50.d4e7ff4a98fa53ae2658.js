(self.webpackChunk=self.webpackChunk||[]).push([["app_views_eventsV2_tags_tsx-app_views_performance_traceDetails_utils_tsx-app_views_settings_c-33df50","PerformanceLanding"],{"./app/components/events/interfaces/spans/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{IG:()=>g,n0:()=>_,TC:()=>S,hw:()=>w,ro:()=>Z,Rr:()=>x,yk:()=>T,j_:()=>j,PA:()=>k,k9:()=>E,yn:()=>O,h_:()=>I,PC:()=>A,o0:()=>V,is:()=>C,vu:()=>R});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../node_modules/lodash/isNumber.js"),i=n.n(a),o=n("../node_modules/lodash/isString.js"),s=n.n(o),l=n("../node_modules/lodash/set.js"),u=n.n(l),c=n("../node_modules/moment/moment.js"),p=n.n(c),d=n("./app/types/event.tsx"),m=n("./app/types/utils.tsx"),f=n("./app/utils/performance/vitals/constants.tsx");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b,y=function(e){var t=e.startTimestamp,n=e.endTimestamp;return t>n?{startTimestamp:n,endTimestamp:t}:e};!function(e){e[e.Stable=0]="Stable",e[e.Reversed=1]="Reversed",e[e.Equal=2]="Equal"}(b||(b={}));var g=function(e){var t=e.viewStart,n=e.viewEnd,r=y({startTimestamp:e.traceStartTimestamp,endTimestamp:e.traceEndTimestamp}),a=r.startTimestamp,i=r.endTimestamp,o=i-a,s=a+t*o,l=i-(1-n)*o-s;return function(e){if(o<=0)return{type:"TRACE_TIMESTAMPS_EQUAL",isSpanVisibleInView:!0};if(l<=0)return{type:"INVALID_VIEW_WINDOW",isSpanVisibleInView:!0};var t=y(e),n=t.startTimestamp,r=t.endTimestamp,a=function(e){var t=e.startTimestamp,n=e.endTimestamp;return t<n?b.Stable:t===n?b.Equal:b.Reversed}(e),i=(n-s)/l,u=(r-s)/l,c=u>0&&i<1;switch(a){case b.Equal:return{type:"TIMESTAMPS_EQUAL",start:i,width:1,isSpanVisibleInView:u>=0&&i<=1};case b.Reversed:return{type:"TIMESTAMPS_REVERSED",start:i,end:u,isSpanVisibleInView:c};case b.Stable:return{type:"TIMESTAMPS_STABLE",start:i,end:u,isSpanVisibleInView:c};default:return a}}};function _(e){return{trace_id:e.traceID,span_id:e.rootSpanID,parent_span_id:e.parentSpanID,start_timestamp:e.traceStartTimestamp,timestamp:e.traceEndTimestamp,op:e.op,description:e.description,data:{},status:e.rootSpanStatus}}function S(e){return{start:p().unix(e.start).subtract(12,"hours").utc().format("YYYY-MM-DDTHH:mm:ss.SSS"),end:p().unix(e.end).add(12,"hours").utc().format("YYYY-MM-DDTHH:mm:ss.SSS")}}function w(e){return"type"in e&&"gap"===e.type}function Z(e){if("type"in e){if("orphan"===e.type)return!0;if("gap"===e.type)return e.isOrphan}return!1}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return w(e)?t:e.span_id}function T(e){if(!w(e))return e.op}function j(e){return w(e)?"gap-span":e.trace_id}function k(e){var t;return null==e||null===(t=e.contexts)||void 0===t?void 0:t.trace}function E(e){var t,n=e.entries.find((function(e){return e.type===d.U.SPANS})),r=null!==(t=null==n?void 0:n.data)&&void 0!==t?t:[],a=k(e),o=a&&a.trace_id||"",l=a&&a.span_id||"",c=a&&a.op||"transaction",p=a&&a.description,f=a&&a.parent_span_id,h=a&&a.status;if(!n||r.length<=0)return{op:c,childSpans:{},traceStartTimestamp:e.startTimestamp,traceEndTimestamp:e.endTimestamp,traceID:o,rootSpanID:l,rootSpanStatus:h,parentSpanID:f,numOfSpans:0,spans:[],description:p};var b=new Set(r.map((function(e){return e.span_id})));b.add(l);var y={op:c,childSpans:{},traceStartTimestamp:e.startTimestamp,traceEndTimestamp:e.endTimestamp,traceID:o,rootSpanID:l,rootSpanStatus:h,parentSpanID:f,numOfSpans:r.length,spans:r,description:p},g=r.reduce((function(e,t){var n,r,a=t,o=function(e){return w(e)?"gap-span":e.parent_span_id}(a),c=o&&b.has(o);r=o,s()(r)&&r.length>0&&c||(a.parent_span_id=l,a=v({type:"orphan"},a)),(0,m.hu)(a.parent_span_id);var p=null!==(n=e.childSpans[a.parent_span_id])&&void 0!==n?n:[];p.push(a),u()(e.childSpans,a.parent_span_id,p),(!e.traceStartTimestamp||a.start_timestamp<e.traceStartTimestamp)&&(e.traceStartTimestamp=a.start_timestamp);var d=i()(a.timestamp);return e.traceEndTimestamp?d&&a.timestamp>e.traceEndTimestamp?(e.traceEndTimestamp=a.timestamp,e):(a.start_timestamp>e.traceEndTimestamp&&(e.traceEndTimestamp=a.start_timestamp),e):d?(e.traceEndTimestamp=a.timestamp,e):(e.traceEndTimestamp=a.start_timestamp,e)}),y);return Object.values(g.childSpans).forEach((function(e){e.sort(P)})),g}function P(e,t){return Z(e)&&!Z(t)?1:!Z(e)&&Z(t)||e.start_timestamp<t.start_timestamp?-1:e.start_timestamp===t.start_timestamp?0:1}function O(e){return"number"!=typeof e&&"orphan"===(null==e?void 0:e.type)}function I(e){return O(e)?e.depth:e}function A(e){var t,n=null===(t=e.sdk)||void 0===t?void 0:t.name;return!!n&&["sentry.javascript.browser","sentry.javascript.react","sentry.javascript.gatsby","sentry.javascript.ember","sentry.javascript.vue","sentry.javascript.angular"].includes(n.toLowerCase())}var V=["mark","paint"];function D(e){var t=Object.keys(e);return Object.values(f.r).filter((function(e){return t.includes(e.slug)})).some((function(t){var n=e[t.slug];return"number"==typeof n&&n>=t.poorThreshold}))}function C(e){if(!e.measurements)return new Map;var t=Object.keys(e.measurements).filter((function(e){return e.startsWith("mark.")})).map((function(t){var n=t.slice("mark.".length),r=e.measurements[n];return{name:t,timestamp:e.measurements[t].value,value:r?r.value:void 0}})),n=new Map;return t.forEach((function(e){var t=e.name.slice("mark.".length),a=e.value;if(n.has(e.timestamp)){var i=n.get(e.timestamp);return i.marks=v(v({},i.marks),{},(0,r.Z)({},t,a)),i.failedThreshold||(i.failedThreshold=D(i.marks)),void n.set(e.timestamp,i)}var o=(0,r.Z)({},t,a);n.set(e.timestamp,{marks:o,failedThreshold:D(o)})})),n}function R(e,t){var n=t({startTimestamp:e,endTimestamp:e});switch(n.type){case"TRACE_TIMESTAMPS_EQUAL":case"INVALID_VIEW_WINDOW":return{warning:void 0,left:void 0,width:void 0,isSpanVisibleInView:n.isSpanVisibleInView};case"TIMESTAMPS_EQUAL":return{warning:void 0,left:n.start,width:1e-5,isSpanVisibleInView:n.isSpanVisibleInView};case"TIMESTAMPS_REVERSED":case"TIMESTAMPS_STABLE":return{warning:void 0,left:n.start,width:n.end-n.start,isSpanVisibleInView:n.isSpanVisibleInView};default:return n}}},"./app/components/radio.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=n("../node_modules/@emotion/core/dist/core.browser.esm.js"),i=n("./app/styles/animations.tsx"),o=function(e){return(0,a.iv)("display:block;width:","small"===e.radioSize?"8px":"1rem",";height:","small"===e.radioSize?"8px":"1rem",";border-radius:50%;background-color:",e.theme.active,";animation:0.2s ",i.kQ," ease;opacity:",e.disabled?.4:null,";")},s=(0,r.Z)("input",{target:"epd3w7v0",label:"Radio"})("display:flex;padding:0;width:",(function(e){return"small"===e.radioSize?"16px":"1.5em"}),";height:",(function(e){return"small"===e.radioSize?"16px":"1.5em"}),";position:relative;border-radius:50%;align-items:center;justify-content:center;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);background:none;appearance:none;margin:0 !important;&:focus,&.focus-visible{outline:none !important;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}&:checked:after{content:'';",o,"}");s.defaultProps={type:"radio"};const l=s},"./app/components/tagDistributionMeter.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),o=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),s=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),c=n("../node_modules/react/index.js"),p=n("../node_modules/react-router/es/index.js"),d=n("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),m=n("./app/components/tooltip.tsx"),f=n("./app/components/version.tsx"),h=n("./app/locale.tsx"),v=n("./app/styles/overflowEllipsis.tsx"),b=n("./app/styles/space.tsx"),y=n("./app/utils.tsx"),g=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var _=function(e){(0,i.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,o.Z)(this,e)});function u(){return(0,r.Z)(this,u),l.apply(this,arguments)}return(0,a.Z)(u,[{key:"renderTitle",value:function(){var e=this.props,t=e.segments,n=e.totalValues,r=e.title,a=e.isLoading,i=e.hasError,o=e.showReleasePackage;if(!Array.isArray(t)||t.length<=0)return(0,g.tZ)(x,null,(0,g.tZ)(T,null,r));var s=t[0],l=(0,y.aQ)(s.count,n),u=Math.floor(l);return(0,g.tZ)(x,null,(0,g.tZ)(T,null,r),(0,g.tZ)(j,null,function(){switch(r){case"release":return(0,g.tZ)(k,null,(0,g.tZ)(f.Z,{version:s.name,anchor:!1,tooltipRawVersion:!0,withPackage:o,truncate:!0}));default:return(0,g.tZ)(k,null,s.name||(0,h.t)("n/a"))}}(),a||i?null:(0,g.tZ)(E,null,u,"%")))}},{key:"renderSegments",value:function(){var e=this.props,t=e.segments,n=e.onTagClick,r=e.title,a=e.isLoading,i=e.hasError,o=e.totalValues,s=e.renderLoading,l=e.renderError,u=e.renderEmpty,p=e.showReleasePackage;return a?s():i?(0,g.tZ)(Z,null,l()):0===o?(0,g.tZ)(Z,null,u()):(0,g.tZ)(Z,null,t.map((function(e,t){var a=(0,y.aQ)(e.count,o),i=Math.floor(a),s=(0,g.tZ)(c.Fragment,null,(0,g.tZ)("div",{className:"truncate"},function(){switch(r){case"release":return(0,g.tZ)(f.Z,{version:e.name,anchor:!1,withPackage:p});default:return e.name||(0,h.t)("n/a")}}()),i,"%"),l={index:t,to:e.url,onClick:function(){n&&n(r,e)}};return(0,g.tZ)("div",{key:e.value,style:{width:a+"%"}},(0,g.tZ)(m.Z,{title:s,containerDisplayMode:"block"},e.isOther?(0,g.tZ)(P,null):(0,g.tZ)(O,l)))})))}},{key:"render",value:function(){var e=this.props,t=e.segments,n=e.totalValues,r=t.reduce((function(e,t){return e+t.count}),0);return r<n&&t.push({isOther:!0,name:(0,h.t)("Other"),value:"other",count:n-r,url:""}),(0,g.tZ)(w,null,this.renderTitle(),this.renderSegments())}}]),u}(c.Component);_.displayName="TagDistributionMeter",(0,l.Z)(_,"defaultProps",{isLoading:!1,hasError:!1,renderLoading:function(){return null},renderEmpty:function(){return(0,g.tZ)("p",null,(0,h.t)("No recent data."))},renderError:function(){return null},showReleasePackage:!1});var S=["#3A3387","#5F40A3","#8C4FBD","#B961D3","#DE76E4","#EF91E8","#F7B2EC","#FCD8F4","#FEEBF9"],w=(0,u.Z)("div",{target:"efzk5f10",label:"TagSummary"})("margin-bottom:",(0,b.Z)(1),";"),Z=(0,u.Z)("div",{target:"efzk5f11",label:"SegmentBar"})({name:"1unjkrn",styles:"display:flex;overflow:hidden;border-radius:2px;"}),x=(0,u.Z)("div",{target:"efzk5f12",label:"Title"})("display:flex;font-size:",(function(e){return e.theme.fontSizeSmall}),";justify-content:space-between;"),T=(0,u.Z)("div",{target:"efzk5f13",label:"TitleType"})("color:",(function(e){return e.theme.textColor}),";font-weight:bold;",v.Z,";"),j=(0,u.Z)("div",{target:"efzk5f14",label:"TitleDescription"})("display:flex;color:",(function(e){return e.theme.gray300}),";text-align:right;"),k=(0,u.Z)("div",{target:"efzk5f15",label:"Label"})(v.Z,";max-width:150px;"),E=(0,u.Z)("div",{target:"efzk5f16",label:"Percent"})("font-weight:bold;padding-left:",(0,b.Z)(.5),";color:",(function(e){return e.theme.textColor}),";"),P=(0,u.Z)("span",{target:"efzk5f17",label:"OtherSegment"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",S[S.length-1],";"),O=(0,u.Z)(p.Link,{shouldForwardProp:d.Z,target:"efzk5f18",label:"Segment"})("display:block;width:100%;height:16px;color:inherit;outline:none;background-color:",(function(e){return S[e.index]}),";")},"./app/utils/performance/quickTrace/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{hp:()=>m,eW:()=>h,R8:()=>b,VP:()=>g,eF:()=>_,_Z:()=>S,$J:()=>w,S2:()=>Z,xB:()=>x});var r=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),a=n("../node_modules/lodash/omit.js"),i=n.n(a),o=n("../node_modules/moment-timezone/index.js"),s=n.n(o),l=n("./app/components/events/interfaces/spans/utils.tsx"),u=n("./app/constants/globalSelectionHeader.tsx"),c=n("./app/utils/discover/eventView.tsx");function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){s=!0,i=e})),f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return"transaction"===e.type}function f(e,t){return m(t)?e.event_id===t.id:void 0!==e.errors&&e.errors.some((function(e){return e.event_id===t.id}))}function h(e,t){for(var n=[],a=[],i=[{event:t,path:[]}];i.length;){var o=i.shift();if(f(o.event,e)){var s,l=p(o.path);try{for(l.s();!(s=l.n()).done;){var u=s.value;n.push(u)}}catch(e){l.e(e)}finally{l.f()}a.push(o.event)}else{var c,d=[].concat((0,r.Z)(o.path),[v(o.event)]),m=p(o.event.children);try{for(m.s();!(c=m.n()).done;){var h=c.value;i.push({event:h,path:d})}}catch(e){m.e(e)}finally{m.f()}}}if(!a.length)throw new Error("No relevant path exists!");for(;a.length;){var b,y=a.shift(),g=p(y.children);try{for(g.s();!(b=g.n()).done;){var _=b.value;a.push(_)}}catch(e){g.e(e)}finally{g.f()}n.push(v(y))}return n}function v(e){return i()(e,["children"])}function b(e,t){var n,r,a,i=e.type,o=e.trace;if("empty"===i||null===o)throw new Error("Current event not in quick trace!");var s="full"===i,l=null!==(n=o.find((function(e){return f(e,t)})))&&void 0!==n?n:null;if(null===l)throw new Error("Current event not in quick trace!");var u=l.parent_event_id&&null!==(r=o.find((function(e){return e.event_id===l.parent_event_id})))&&void 0!==r?r:null,c=null!==(a=o.find((function(e){return e.event_id!==l.event_id&&e.event_id!==(null==u?void 0:u.event_id)&&0===e.generation})))&&void 0!==a?a:null,p=s?[]:null,d=[],m=s?[]:null;return o.forEach((function(e){!function(e){return e.parent_event_id===l.event_id}(e)?s&&(function(e){return null!==l.generation&&null!==e.generation&&e.generation>0&&l.generation-1>e.generation}(e)?null==p||p.push(e):function(e){return null!==l.generation&&null!==e.generation&&l.generation+1<e.generation}(e)&&(null==m||m.push(e))):d.push(e)})),{root:c,ancestors:null===p?null:y(p),parent:u,current:l,children:y(d),descendants:null===m?null:y(m)}}function y(e){return e.sort((function(e,t){return t["transaction.duration"]-e["transaction.duration"]}))}function g(e){e.clear()}function _(e){var t=e.eventView,n=e.location;return i()(t.getEventsAPIPayload(n),["field","sort","per_page"])}function S(e){var t=e.start,n=e.end,r=e.statsPeriod;return c.ZP.fromSavedQuery({id:void 0,version:2,name:"",fields:["transaction.duration"],projects:[u.mP],query:"",environment:[],start:t,end:n,range:r})}function w(e){var t=m(e)?e.startTimestamp:s()(e.dateReceived?e.dateReceived:e.dateCreated).valueOf()/1e3,n=m(e)?e.endTimestamp:t;return(0,l.TC)({start:t,end:n})}function Z(e,t,n){for(var r=n,a=[e];a.length;){var i,o=a.pop(),s=p(o.children);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l)}}catch(e){s.e(e)}finally{s.f()}r=t(r,o)}return r}function x(e,t){return Z(e,(function(e,n){return t(n)&&e.push(n),e}),[])}},"./app/views/eventsV2/tags.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var r=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),d=n("../node_modules/@babel/runtime/regenerator/index.js"),m=n.n(d),f=n("../node_modules/react/index.js"),h=n("../node_modules/@sentry/minimal/esm/index.js"),v=n("./app/actionCreators/events.tsx"),b=n("./app/components/charts/errorPanel.tsx"),y=n("./app/components/charts/styles.tsx"),g=n("./app/components/emptyStateWarning.tsx"),_=n("./app/components/placeholder.tsx"),S=n("./app/components/tagDistributionMeter.tsx"),w=n("./app/icons/index.tsx"),Z=n("./app/locale.tsx"),x=n("./app/styles/space.tsx"),T=n("./app/utils/analytics.tsx"),j=n("./app/utils/discover/eventView.tsx"),k=n("./app/utils/withApi.tsx"),E=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var P=function(e){(0,s.Z)(d,e);var t,n,p=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var a=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e;(0,a.Z)(this,d);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=p.call.apply(p,[this].concat(n)),(0,c.Z)((0,o.Z)(e),"state",{loading:!0,tags:[],totalValues:null,error:""}),(0,c.Z)((0,o.Z)(e),"shouldRefetchData",(function(t){var n=e.props.eventView.getFacetsAPIPayload(e.props.location),r=t.eventView.getFacetsAPIPayload(t.location);return!(0,j.ze)(n,r)})),(0,c.Z)((0,o.Z)(e),"fetchData",(0,r.Z)(m().mark((function t(){var n,r,a,i,o,s,l,u,c=arguments;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>0&&void 0!==c[0]&&c[0],r=e.props,a=r.api,i=r.organization,o=r.eventView,s=r.location,l=r.confirmedQuery,e.setState({loading:!0,error:"",tags:[]}),n||!1!==l){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,(0,v.eV)(a,i.slug,o.getFacetsAPIPayload(s));case 8:u=t.sent,e.setState({loading:!1,tags:u}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),h.Tb(t.t0),e.setState({loading:!1,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[5,12]])})))),(0,c.Z)((0,o.Z)(e),"handleTagClick",(function(t){var n=e.props.organization;(0,T.ec)({eventKey:"discover_v2.facet_map.clicked",eventName:"Discoverv2: Clicked on a tag on the facet map",tag:t,organization_id:parseInt(n.id,10)})})),(0,c.Z)((0,o.Z)(e),"renderBody",(function(){var t=e.state,n=t.loading,r=t.error,a=t.tags;return n?e.renderPlaceholders():r?(0,E.tZ)(b.Z,{height:"132px"},(0,E.tZ)(w.FC,{color:"gray300",size:"lg"})):a.length>0?a.map((function(t){return e.renderTag(t)})):(0,E.tZ)(O,{small:!0},(0,Z.t)("No tags found"))})),e}return(0,i.Z)(d,[{key:"componentDidMount",value:function(){this.fetchData(!0)}},{key:"componentDidUpdate",value:function(e){(this.shouldRefetchData(e)||e.confirmedQuery!==this.props.confirmedQuery)&&this.fetchData()}},{key:"renderTag",value:function(e){var t=this.props,n=t.generateUrl,r=t.totalValues,a=e.topValues.map((function(t){return t.url=n(e.key,t.value),t})),i=a.length>0?Math.max(Number(r),a[0].count):r;return(0,E.tZ)(S.Z,{key:e.key,title:e.key,segments:a,totalValues:Number(i),renderLoading:function(){return(0,E.tZ)(I,{height:"16px"})},onTagClick:this.handleTagClick,showReleasePackage:!0})}},{key:"renderPlaceholders",value:function(){return(0,E.tZ)(f.Fragment,null,(0,E.tZ)(A,{key:"title-1"}),(0,E.tZ)(I,{key:"bar-1"}),(0,E.tZ)(A,{key:"title-2"}),(0,E.tZ)(I,{key:"bar-2"}),(0,E.tZ)(A,{key:"title-3"}),(0,E.tZ)(I,{key:"bar-3"}))}},{key:"render",value:function(){return(0,E.tZ)(f.Fragment,null,(0,E.tZ)(y.OT,null,(0,Z.t)("Tag Summary")),this.renderBody())}}]),d}(f.Component);P.displayName="Tags";var O=(0,p.Z)(g.Z,{target:"e1pu9veq0",label:"StyledEmptyStateWarning"})({name:"1py4vb8",styles:"height:132px;padding:54px 15%;"}),I=(0,p.Z)(_.Z,{target:"e1pu9veq1",label:"StyledPlaceholder"})("border-radius:",(function(e){return e.theme.borderRadius}),";height:16px;margin-bottom:",(0,x.Z)(1.5),";"),A=(0,p.Z)(_.Z,{target:"e1pu9veq2",label:"StyledPlaceholderTitle"})("width:100px;height:12px;margin-bottom:",(0,x.Z)(.5),";");const V=(0,k.Z)(P)},"./app/views/performance/traceDetails/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{YA:()=>u,Rg:()=>c,Ci:()=>p,uM:()=>d});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("./app/constants/globalSelectionHeader.tsx"),i=n("./app/utils/performance/quickTrace/utils.tsx");function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n,i){var o,s=n.start,u=n.end,c=n.statsPeriod;return{pathname:"/organizations/".concat(e.slug,"/performance/trace/").concat(t,"/"),query:l(l({},i),{},(o={statsPeriod:c},(0,r.Z)(o,a.V.PAGE_START,s),(0,r.Z)(o,a.V.PAGE_END,u),o))}}function c(e){var t={projects:new Set,errors:new Set,transactions:new Set,startTimestamp:Number.MAX_SAFE_INTEGER,endTimestamp:0,maxGeneration:0};return e.reduce((function(e,t){return(0,i.S2)(t,(function(e,t){var n,r,a=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}(null!==(n=t.errors)&&void 0!==n?n:[]);try{for(a.s();!(r=a.n()).done;){var i=r.value;e.errors.add(i.event_id)}}catch(e){a.e(e)}finally{a.f()}return e.transactions.add(t.event_id),e.projects.add(t.project_slug),e.startTimestamp=Math.min(e.startTimestamp,t.start_timestamp),e.endTimestamp=Math.max(e.endTimestamp,t.timestamp),e.maxGeneration=Math.max(e.maxGeneration,t.generation),e}),e)}),t)}function p(e){return Boolean(e.event_id)}function d(e){return null===e.parent_span_id}},"./app/views/settings/components/forms/controls/radioGroup.tsx":(e,t,n)=>{"use strict";n.d(t,{V:()=>f,Z:()=>y});var r=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),a=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),l=n("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),u=n("./app/components/radio.tsx"),c=n("./app/styles/space.tsx"),p=n("../node_modules/@emotion/core/dist/core.browser.esm.js"),d=function(e){var t=e.value,n=e.disabled,o=e.choices,l=e.label,c=e.onChange,d=e.orientInline,m=(0,i.Z)(e,["value","disabled","choices","label","onChange","orientInline"]);return(0,p.tZ)(h,(0,r.Z)({orientInline:d},m,{role:"radiogroup","aria-labelledby":l}),(o||[]).map((function(e,r){var i=(0,a.Z)(e,3),o=i[0],l=i[1],d=i[2];return(0,p.tZ)(f,{key:r,role:"radio",index:r,"aria-checked":t===o,disabled:n},(0,p.tZ)(u.Z,{"aria-label":o,disabled:n,checked:t===o,onChange:function(e){return!n&&c(o,e)}}),(0,p.tZ)(v,{disabled:n},l),d&&(0,p.tZ)(s.Fragment,null,(0,p.tZ)("div",null),(0,p.tZ)(b,null,d)))})))};d.displayName="RadioGroup";var m=function(e){return!["disabled","animate"].includes(e)&&(0,l.Z)(e)},f=(0,o.Z)("label",{shouldForwardProp:m,target:"eusy9kz0",label:"RadioLineItem"})("display:grid;grid-gap:0.25em 0.5em;grid-template-columns:max-content auto;align-items:center;cursor:",(function(e){return e.disabled?"default":"pointer"}),";outline:none;font-weight:normal;margin:0;"),h=(0,o.Z)("div",{target:"eusy9kz1",label:"Container"})("display:grid;grid-gap:",(function(e){return(0,c.Z)(e.orientInline?3:1)}),";grid-auto-flow:",(function(e){return e.orientInline?"column":"row"}),";grid-auto-rows:max-content;grid-auto-columns:max-content;"),v=(0,o.Z)("div",{shouldForwardProp:m,target:"eusy9kz2",label:"RadioLineText"})("opacity:",(function(e){return e.disabled?.4:null}),";"),b=(0,o.Z)("div",{target:"eusy9kz3",label:"Description"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeRelativeSmall}),";line-height:1.4em;");const y=d}}]);
//# sourceMappingURL=app_views_eventsV2_tags_tsx-app_views_performance_traceDetails_utils_tsx-app_views_settings_c-33df50.js.map