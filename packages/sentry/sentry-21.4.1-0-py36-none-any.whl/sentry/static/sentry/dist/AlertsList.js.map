{"version":3,"sources":["webpack:///./app/components/onboardingPanel.tsx","webpack:///./app/components/sentryDocumentTitle.tsx","webpack:///./app/utils/performance/vitals/constants.tsx","webpack:///./app/views/alerts/list/header.tsx","webpack:///./app/views/alerts/list/onboarding.tsx","webpack:///./app/views/alerts/list/index.tsx","webpack:///./app/views/alerts/list/sparkLine.tsx","webpack:///./app/views/alerts/list/row.tsx","webpack:///./app/views/alerts/list/styles.tsx","webpack:///./app/views/alerts/rules/details/constants.tsx","webpack:///./app/views/performance/transactionSummary/utils.tsx","webpack:///./images/spot/alerts-empty-state.svg"],"names":["OnboardingPanel","className","image","children","Container","IlloBox","StyledBox","space","p","theme","breakpoints","SentryDocumentTitle","title","orgSlug","projectSlug","docTitle","WEB_VITAL_DETAILS","WebVital","slug","name","t","acronym","description","poorThreshold","type","measurementType","AlertHeader","router","organization","activeTab","alertRulesLink","to","BorderlessHeader","StyledLayoutHeaderContent","StyledLayoutTitle","Actions","gap","iconProps","size","priority","referrer","showPermissionGuide","onClick","e","preventDefault","navigateTo","href","icon","aria-label","TabLayoutHeader","underlined","features","hasFeature","Layout","ButtonBar","Onboarding","actions","AlertsImage","src","emptyStateImg","ButtonList","DOCS_URL","getQueryStatus","status","includes","IncidentsList","this","props","params","location","query","incidentsQuery","expand","orgId","incidentList","state","length","setState","hasAlertRule","firstVisitShown","loading","api","requestPromise","method","alertRules","promptsCheck","organizationId","id","feature","prompt","dismissedTime","promptsUpdate","external","isCircled","tct","link","renderBody","incidentListPageLinks","allProjectsFromIncidents","Set","flatten","map","projects","checkingForAlertRules","undefined","showLoadingIndicator","tryRenderOnboarding","StyledPanelHeader","PaddedTitleAndSparkLine","tryRenderEmpty","slugs","Array","from","initiallyLoaded","incident","key","projectsLoaded","filteredStatus","pageLinks","pathname","openIncidentsQuery","omit","closedIncidentsQuery","showDateSelector","fullWidth","StyledButtonBar","merged","active","barId","renderList","AsyncComponent","IncidentsListContainer","trackView","nextProps","trackAnalyticsEvent","eventKey","eventName","organization_id","hookName","renderDisabled","renderNoAccess","React","TitleAndSparkLine","PanelHeader","withOrganization","Sparklines","SparklinesLine","SparkLine","error","eventStats","SparklineError","SparkLinePlaceholder","data","value","isArray","count","fallback","data-test-id","width","height","style","stroke","fill","strokeWidth","StyledSparkLine","Placeholder","makeRuleDetailsQuery","timeWindowMillis","alertRule","timeWindow","minRange","API_INTERVAL_POINTS_MIN","maxRange","API_INTERVAL_POINTS_LIMIT","now","moment","startDate","dateStarted","endDate","dateClosed","incidentRange","Math","max","diff","range","min","halfRange","start","getUtcDateString","subtract","end","add","AlertListRow","memoize","find","project","getIncidentMetricPreset","identifier","date","CreatedResolvedTime","isResolved","IncidentStatus","isWarning","color","text","StatusIndicator","stats","started","duration","Date","as","alertLink","isIssueAlert","AlertRuleStatus","originalAlertRuleId","alert","IncidentPanelItem","Title","renderStatusIndicator","IncidentLink","ErrorLoadingStatsIcon","ProjectBadge","avatarSize","getProject","renderTimeSince","seconds","getDynamicText","fixed","overflowEllipsis","IdBadge","Link","PanelItem","fontSizeMedium","TableLayout","TIME_OPTIONS","label","TimePeriod","TIME_WINDOWS","TimeWindow","TransactionFilterOptions","transactionSummaryRouteWithQuery","transaction","projectID","unselectedSeries","display","trendFunction","trendColumn","showTransactions","environment","statsPeriod","SidebarSpacer","module","exports"],"mappings":"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","file":"AlertsList.d7fa77e5d68b8aaac4fe.js","sourcesContent":["import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {Panel} from 'app/components/panels';\nimport space from 'app/styles/space';\n\ntype Props = React.PropsWithChildren<{\n  image: React.ReactNode;\n  className?: string;\n}>;\n\nfunction OnboardingPanel({className, image, children}: Props) {\n  return (\n    <Panel className={className}>\n      <Container>\n        <IlloBox>{image}</IlloBox>\n        <StyledBox>{children}</StyledBox>\n      </Container>\n    </Panel>\n  );\n}\n\nconst Container = styled('div')`\n  padding: ${space(3)};\n  position: relative;\n\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    justify-content: center;\n    flex-wrap: wrap;\n    min-height: 300px;\n    max-width: 1000px;\n    margin: 0 auto;\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[1]}) {\n    min-height: 350px;\n  }\n`;\n\nconst StyledBox = styled('div')`\n  z-index: 1;\n\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    flex: 2;\n  }\n`;\n\nconst IlloBox = styled(StyledBox)`\n  position: relative;\n  min-height: 100px;\n  max-width: 300px;\n  margin: ${space(2)} auto;\n\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    flex: 1;\n    margin: ${space(3)};\n    max-width: auto;\n  }\n`;\n\nexport default OnboardingPanel;\n","import React from 'react';\nimport DocumentTitle from 'react-document-title';\n\ntype Props = {\n  // Main page title\n  title: string;\n  orgSlug?: string;\n  projectSlug?: string;\n  children?: React.ReactNode;\n};\n\nfunction SentryDocumentTitle({title, orgSlug, projectSlug, children}: Props) {\n  function getDocTitle() {\n    if (!orgSlug && !projectSlug) {\n      return title;\n    }\n\n    if (orgSlug && projectSlug) {\n      return `${title} - ${orgSlug} - ${projectSlug}`;\n    }\n\n    if (orgSlug) {\n      return `${title} - ${orgSlug}`;\n    }\n\n    return `${title} - ${projectSlug}`;\n  }\n\n  const docTitle = getDocTitle();\n\n  return (\n    <DocumentTitle title={`${docTitle} - Sentry`}>\n      {children as React.ReactChild}\n    </DocumentTitle>\n  );\n}\n\nexport default SentryDocumentTitle;\n","import {t} from 'app/locale';\nimport {measurementType, WebVital} from 'app/utils/discover/fields';\nimport {Vital} from 'app/utils/performance/vitals/types';\n\nexport const WEB_VITAL_DETAILS: Record<WebVital, Vital> = {\n  [WebVital.FP]: {\n    slug: 'fp',\n    name: t('First Paint'),\n    acronym: 'FP',\n    description: t(\n      'Render time of the first pixel loaded in the viewport (may overlap with FCP).'\n    ),\n    poorThreshold: 3000,\n    type: measurementType(WebVital.FP),\n  },\n  [WebVital.FCP]: {\n    slug: 'fcp',\n    name: t('First Contentful Paint'),\n    acronym: 'FCP',\n    description: t(\n      'Render time of the first image, text or other DOM node in the viewport.'\n    ),\n    poorThreshold: 3000,\n    type: measurementType(WebVital.FCP),\n  },\n  [WebVital.LCP]: {\n    slug: 'lcp',\n    name: t('Largest Contentful Paint'),\n    acronym: 'LCP',\n    description: t(\n      'Render time of the largest image, text or other DOM node in the viewport.'\n    ),\n    poorThreshold: 4000,\n    type: measurementType(WebVital.LCP),\n  },\n  [WebVital.FID]: {\n    slug: 'fid',\n    name: t('First Input Delay'),\n    acronym: 'FID',\n    description: t(\n      'Response time of the browser to a user interaction (clicking, tapping, etc).'\n    ),\n    poorThreshold: 300,\n    type: measurementType(WebVital.FID),\n  },\n  [WebVital.CLS]: {\n    slug: 'cls',\n    name: t('Cumulative Layout Shift'),\n    acronym: 'CLS',\n    description: t(\n      'Sum of layout shift scores that measure the visual stability of the page.'\n    ),\n    poorThreshold: 0.25,\n    type: measurementType(WebVital.CLS),\n  },\n  [WebVital.TTFB]: {\n    slug: 'ttfb',\n    name: t('Time to First Byte'),\n    acronym: 'TTFB',\n    description: t(\n      \"The time that it takes for a user's browser to receive the first byte of page content.\"\n    ),\n    poorThreshold: 600,\n    type: measurementType(WebVital.TTFB),\n  },\n  [WebVital.RequestTime]: {\n    slug: 'ttfb.requesttime',\n    name: t('Request Time'),\n    acronym: 'RT',\n    description: t(\n      'Captures the time spent making the request and receiving the first byte of the response.'\n    ),\n    poorThreshold: 600,\n    type: measurementType(WebVital.RequestTime),\n  },\n};\n","import React from 'react';\nimport {InjectedRouter} from 'react-router/lib/Router';\nimport styled from '@emotion/styled';\n\nimport {navigateTo} from 'app/actionCreators/navigation';\nimport Feature from 'app/components/acl/feature';\nimport Button from 'app/components/button';\nimport ButtonBar from 'app/components/buttonBar';\nimport CreateAlertButton from 'app/components/createAlertButton';\nimport GlobalSelectionLink from 'app/components/globalSelectionLink';\nimport * as Layout from 'app/components/layouts/thirds';\nimport {IconSettings} from 'app/icons';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {Organization} from 'app/types';\n\ntype Props = {\n  router: InjectedRouter;\n  organization: Organization;\n  activeTab: 'stream' | 'rules';\n};\n\nconst AlertHeader = ({router, organization, activeTab}: Props) => {\n  /**\n   * Incidents list is currently at the organization level, but the link needs to\n   * go down to a specific project scope.\n   */\n  const handleNavigateToSettings = (e: React.MouseEvent) => {\n    e.preventDefault();\n    navigateTo(`/settings/${organization.slug}/projects/:projectId/alerts/`, router);\n  };\n\n  const alertRulesLink = (\n    <li className={activeTab === 'rules' ? 'active' : ''}>\n      <GlobalSelectionLink to={`/organizations/${organization.slug}/alerts/rules/`}>\n        {t('Alert Rules')}\n      </GlobalSelectionLink>\n    </li>\n  );\n\n  return (\n    <React.Fragment>\n      <BorderlessHeader>\n        <StyledLayoutHeaderContent>\n          <StyledLayoutTitle>{t('Alerts')}</StyledLayoutTitle>\n        </StyledLayoutHeaderContent>\n        <Layout.HeaderActions>\n          <Actions gap={1}>\n            <CreateAlertButton\n              organization={organization}\n              iconProps={{size: 'sm'}}\n              priority=\"primary\"\n              referrer=\"alert_stream\"\n              showPermissionGuide\n            >\n              {t('Create Alert Rule')}\n            </CreateAlertButton>\n            <Button\n              onClick={handleNavigateToSettings}\n              href=\"#\"\n              icon={<IconSettings size=\"sm\" />}\n              aria-label=\"Settings\"\n            />\n          </Actions>\n        </Layout.HeaderActions>\n      </BorderlessHeader>\n      <TabLayoutHeader>\n        <Layout.HeaderNavTabs underlined>\n          <Feature features={['alert-list']} organization={organization}>\n            {({hasFeature}) =>\n              !hasFeature ? (\n                <React.Fragment>\n                  <Feature features={['incidents']} organization={organization}>\n                    <li className={activeTab === 'stream' ? 'active' : ''}>\n                      <GlobalSelectionLink\n                        to={`/organizations/${organization.slug}/alerts/`}\n                      >\n                        {t('Metric Alerts')}\n                      </GlobalSelectionLink>\n                    </li>\n                  </Feature>\n                  {alertRulesLink}\n                </React.Fragment>\n              ) : (\n                <React.Fragment>\n                  {alertRulesLink}\n                  <li className={activeTab === 'stream' ? 'active' : ''}>\n                    <GlobalSelectionLink\n                      to={`/organizations/${organization.slug}/alerts/`}\n                    >\n                      {t('History')}\n                    </GlobalSelectionLink>\n                  </li>\n                </React.Fragment>\n              )\n            }\n          </Feature>\n        </Layout.HeaderNavTabs>\n      </TabLayoutHeader>\n    </React.Fragment>\n  );\n};\n\nexport default AlertHeader;\n\nconst BorderlessHeader = styled(Layout.Header)`\n  border-bottom: 0;\n\n  /* Not enough buttons to change direction for tablet view */\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    grid-template-columns: 1fr auto;\n  }\n`;\n\nconst StyledLayoutHeaderContent = styled(Layout.HeaderContent)`\n  margin-bottom: 0;\n  margin-right: ${space(2)};\n`;\n\nconst StyledLayoutTitle = styled(Layout.Title)`\n  margin-top: ${space(0.5)};\n`;\n\nconst TabLayoutHeader = styled(Layout.Header)`\n  padding-top: ${space(1)};\n\n  @media (max-width: ${p => p.theme.breakpoints[1]}) {\n    padding-top: ${space(1)};\n  }\n`;\n\nconst Actions = styled(ButtonBar)`\n  height: 32px;\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport emptyStateImg from 'sentry-images/spot/alerts-empty-state.svg';\n\nimport ButtonBar from 'app/components/buttonBar';\nimport OnboardingPanel from 'app/components/onboardingPanel';\nimport {t} from 'app/locale';\n\ntype Props = {\n  actions: React.ReactNode;\n};\n\nfunction Onboarding({actions}: Props) {\n  return (\n    <OnboardingPanel image={<AlertsImage src={emptyStateImg} />}>\n      <h3>{t('More signal, less noise')}</h3>\n      <p>\n        {t(\n          'Not every error is worth an email. Set your own rules for alerts you need, with information that helps.'\n        )}\n      </p>\n      <ButtonList gap={1}>{actions}</ButtonList>\n    </OnboardingPanel>\n  );\n}\n\nconst AlertsImage = styled('img')`\n  @media (min-width: ${p => p.theme.breakpoints[0]}) {\n    user-select: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 220px;\n    margin-top: auto;\n    margin-bottom: auto;\n    transform: translateX(-50%);\n    left: 50%;\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[2]}) {\n    transform: translateX(-60%);\n    width: 280px;\n  }\n\n  @media (min-width: ${p => p.theme.breakpoints[3]}) {\n    transform: translateX(-75%);\n    width: 320px;\n  }\n`;\n\nconst ButtonList = styled(ButtonBar)`\n  grid-template-columns: repeat(auto-fit, minmax(130px, max-content));\n`;\n\nexport default Onboarding;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport flatten from 'lodash/flatten';\nimport omit from 'lodash/omit';\n\nimport {promptsCheck, promptsUpdate} from 'app/actionCreators/prompts';\nimport Feature from 'app/components/acl/feature';\nimport Alert from 'app/components/alert';\nimport AsyncComponent from 'app/components/asyncComponent';\nimport Button from 'app/components/button';\nimport ButtonBar from 'app/components/buttonBar';\nimport CreateAlertButton from 'app/components/createAlertButton';\nimport * as Layout from 'app/components/layouts/thirds';\nimport ExternalLink from 'app/components/links/externalLink';\nimport LoadingIndicator from 'app/components/loadingIndicator';\nimport GlobalSelectionHeader from 'app/components/organizations/globalSelectionHeader';\nimport Pagination from 'app/components/pagination';\nimport {Panel, PanelBody, PanelHeader} from 'app/components/panels';\nimport SentryDocumentTitle from 'app/components/sentryDocumentTitle';\nimport {IconCheckmark} from 'app/icons';\nimport {t, tct} from 'app/locale';\nimport space from 'app/styles/space';\nimport {Organization, Project} from 'app/types';\nimport {trackAnalyticsEvent} from 'app/utils/analytics';\nimport Projects from 'app/utils/projects';\nimport withOrganization from 'app/utils/withOrganization';\nimport EmptyMessage from 'app/views/settings/components/emptyMessage';\n\nimport {Incident} from '../types';\n\nimport AlertHeader from './header';\nimport Onboarding from './onboarding';\nimport AlertListRow from './row';\nimport {TableLayout, TitleAndSparkLine} from './styles';\n\nconst DEFAULT_QUERY_STATUS = 'open';\n\nconst DOCS_URL =\n  'https://docs.sentry.io/workflow/alerts-notifications/alerts/?_ga=2.21848383.580096147.1592364314-1444595810.1582160976';\n\nfunction getQueryStatus(status: any): 'open' | 'closed' {\n  return ['open', 'closed'].includes(status) ? status : DEFAULT_QUERY_STATUS;\n}\n\ntype Props = RouteComponentProps<{orgId: string}, {}> & {\n  organization: Organization;\n};\n\ntype State = {\n  incidentList: Incident[];\n  /**\n   * Is there at least one alert rule configured for the currently selected\n   * projects?\n   */\n  hasAlertRule?: boolean;\n  /**\n   * User has not yet seen the 'alert_stream' welcome prompt for this\n   * organization.\n   */\n  firstVisitShown?: boolean;\n};\n\nclass IncidentsList extends AsyncComponent<Props, State & AsyncComponent['state']> {\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {params, location, organization} = this.props;\n    const {query} = location;\n    const status = getQueryStatus(query.status);\n    const incidentsQuery = {\n      ...query,\n      ...(organization.features.includes('alert-details-redesign')\n        ? {expand: ['original_alert_rule']}\n        : {}),\n      status,\n    };\n\n    return [\n      [\n        'incidentList',\n        `/organizations/${params && params.orgId}/incidents/`,\n        {query: incidentsQuery},\n      ],\n    ];\n  }\n\n  /**\n   * If our incidentList is empty, determine if we've configured alert rules or\n   * if the user has seen the welcome prompt.\n   */\n  async onLoadAllEndpointsSuccess() {\n    const {incidentList} = this.state;\n\n    if (!incidentList || incidentList.length !== 0) {\n      this.setState({hasAlertRule: true, firstVisitShown: false});\n      return;\n    }\n\n    this.setState({loading: true});\n\n    // Check if they have rules or not, to know which empty state message to\n    // display\n    const {params, location, organization} = this.props;\n\n    const alertRules = await this.api.requestPromise(\n      `/organizations/${params?.orgId}/alert-rules/`,\n      {\n        method: 'GET',\n        query: location.query,\n      }\n    );\n    const hasAlertRule = alertRules.length > 0;\n\n    // We've already configured alert rules, no need to check if we should show\n    // the \"first time welcome\" prompt\n    if (hasAlertRule) {\n      this.setState({hasAlertRule, firstVisitShown: false, loading: false});\n      return;\n    }\n\n    // Check if they have already seen the prompt for the alert stream\n    const prompt = await promptsCheck(this.api, {\n      organizationId: organization.id,\n      feature: 'alert_stream',\n    });\n\n    const firstVisitShown = !prompt?.dismissedTime;\n\n    if (firstVisitShown) {\n      // Prompt has not been seen, mark the prompt as seen immediately so they\n      // don't see it again\n      promptsUpdate(this.api, {\n        feature: 'alert_stream',\n        organizationId: organization.id,\n        status: 'dismissed',\n      });\n    }\n\n    this.setState({hasAlertRule, firstVisitShown, loading: false});\n  }\n\n  tryRenderOnboarding() {\n    const {firstVisitShown} = this.state;\n    const {organization} = this.props;\n\n    if (!firstVisitShown) {\n      return null;\n    }\n\n    const actions = (\n      <React.Fragment>\n        <Button size=\"small\" external href={DOCS_URL}>\n          {t('View Features')}\n        </Button>\n        <CreateAlertButton\n          organization={organization}\n          iconProps={{size: 'xs'}}\n          size=\"small\"\n          priority=\"primary\"\n          referrer=\"alert_stream\"\n        >\n          {t('Create Alert Rule')}\n        </CreateAlertButton>\n      </React.Fragment>\n    );\n\n    return <Onboarding actions={actions} />;\n  }\n\n  tryRenderEmpty() {\n    const {hasAlertRule, incidentList} = this.state;\n    const status = getQueryStatus(this.props.location.query.status);\n\n    if (!incidentList || incidentList.length > 0) {\n      return null;\n    }\n\n    return (\n      <EmptyMessage\n        size=\"medium\"\n        icon={<IconCheckmark isCircled size=\"48\" />}\n        title={\n          !hasAlertRule\n            ? t('No metric alert rules exist for the selected projects.')\n            : status === 'open'\n            ? t('No unresolved metric alerts in the selected projects.')\n            : t('No resolved metric alerts in the selected projects.')\n        }\n        description={tct('Learn more about [link:Metric Alerts]', {\n          link: <ExternalLink href={DOCS_URL} />,\n        })}\n      />\n    );\n  }\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderList() {\n    const {loading, incidentList, incidentListPageLinks, hasAlertRule} = this.state;\n    const {\n      params: {orgId},\n      organization,\n    } = this.props;\n\n    const allProjectsFromIncidents = new Set(\n      flatten(incidentList?.map(({projects}) => projects))\n    );\n    const checkingForAlertRules =\n      incidentList && incidentList.length === 0 && hasAlertRule === undefined\n        ? true\n        : false;\n    const showLoadingIndicator = loading || checkingForAlertRules;\n    const status = getQueryStatus(this.props.location.query.status);\n\n    return (\n      <React.Fragment>\n        {this.tryRenderOnboarding() ?? (\n          <Panel>\n            {!loading && (\n              <StyledPanelHeader>\n                <TableLayout status={status}>\n                  <PaddedTitleAndSparkLine status={status}>\n                    <div>{t('Alert')}</div>\n                    {status === 'open' && <div>{t('Graph')}</div>}\n                  </PaddedTitleAndSparkLine>\n                  <div>{t('Project')}</div>\n                  <div>{t('Triggered')}</div>\n                  {status === 'closed' && <div>{t('Duration')}</div>}\n                  {status === 'closed' && <div>{t('Resolved')}</div>}\n                </TableLayout>\n              </StyledPanelHeader>\n            )}\n            {showLoadingIndicator ? (\n              <LoadingIndicator />\n            ) : (\n              this.tryRenderEmpty() ?? (\n                <PanelBody>\n                  <Projects orgId={orgId} slugs={Array.from(allProjectsFromIncidents)}>\n                    {({initiallyLoaded, projects}) =>\n                      incidentList.map(incident => (\n                        <AlertListRow\n                          key={incident.id}\n                          projectsLoaded={initiallyLoaded}\n                          projects={projects as Project[]}\n                          incident={incident}\n                          orgId={orgId}\n                          filteredStatus={status}\n                          organization={organization}\n                        />\n                      ))\n                    }\n                  </Projects>\n                </PanelBody>\n              )\n            )}\n          </Panel>\n        )}\n        <Pagination pageLinks={incidentListPageLinks} />\n      </React.Fragment>\n    );\n  }\n\n  renderBody() {\n    const {params, location, organization, router} = this.props;\n    const {pathname, query} = location;\n    const {orgId} = params;\n\n    const openIncidentsQuery = omit({...query, status: 'open'}, 'cursor');\n    const closedIncidentsQuery = omit({...query, status: 'closed'}, 'cursor');\n\n    const status = getQueryStatus(query.status);\n\n    return (\n      <SentryDocumentTitle title={t('Alerts')} orgSlug={orgId}>\n        <GlobalSelectionHeader organization={organization} showDateSelector={false}>\n          <AlertHeader organization={organization} router={router} activeTab=\"stream\" />\n          <Layout.Body>\n            <Layout.Main fullWidth>\n              {!this.tryRenderOnboarding() && (\n                <StyledButtonBar merged active={status}>\n                  <Button\n                    to={{pathname, query: openIncidentsQuery}}\n                    barId=\"open\"\n                    size=\"small\"\n                  >\n                    {t('Unresolved')}\n                  </Button>\n                  <Button\n                    to={{pathname, query: closedIncidentsQuery}}\n                    barId=\"closed\"\n                    size=\"small\"\n                  >\n                    {t('Resolved')}\n                  </Button>\n                </StyledButtonBar>\n              )}\n              {this.renderList()}\n            </Layout.Main>\n          </Layout.Body>\n        </GlobalSelectionHeader>\n      </SentryDocumentTitle>\n    );\n  }\n}\n\nclass IncidentsListContainer extends React.Component<Props> {\n  componentDidMount() {\n    this.trackView();\n  }\n\n  componentDidUpdate(nextProps: Props) {\n    if (nextProps.location.query?.status !== this.props.location.query?.status) {\n      this.trackView();\n    }\n  }\n\n  trackView() {\n    const {location, organization} = this.props;\n    const status = getQueryStatus(location.query.status);\n\n    trackAnalyticsEvent({\n      eventKey: 'alert_stream.viewed',\n      eventName: 'Alert Stream: Viewed',\n      organization_id: organization.id,\n      status,\n    });\n  }\n\n  renderNoAccess() {\n    return (\n      <Layout.Body>\n        <Layout.Main fullWidth>\n          <Alert type=\"warning\">{t(\"You don't have access to this feature\")}</Alert>\n        </Layout.Main>\n      </Layout.Body>\n    );\n  }\n\n  render() {\n    const {organization} = this.props;\n\n    return (\n      <Feature\n        features={['organizations:incidents']}\n        organization={organization}\n        hookName=\"feature-disabled:alerts-page\"\n        renderDisabled={this.renderNoAccess}\n      >\n        <IncidentsList {...this.props} />\n      </Feature>\n    );\n  }\n}\n\nconst StyledButtonBar = styled(ButtonBar)`\n  width: 100px;\n  margin-bottom: ${space(1)};\n`;\n\nconst PaddedTitleAndSparkLine = styled(TitleAndSparkLine)`\n  padding-left: ${space(2)};\n`;\n\nconst StyledPanelHeader = styled(PanelHeader)`\n  /* Match table row padding for the grid to align */\n  padding: ${space(1.5)} ${space(2)} ${space(1.5)} 0;\n`;\n\nexport default withOrganization(IncidentsListContainer);\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport Placeholder from 'app/components/placeholder';\nimport theme from 'app/utils/theme';\nimport {IncidentStats} from 'app/views/alerts/types';\n\n// Height of sparkline\nconst SPARKLINE_HEIGHT = 38;\n\ntype Props = {\n  className?: string;\n  eventStats: IncidentStats['eventStats'];\n  error?: React.ReactNode;\n};\n\nconst Sparklines = React.lazy(\n  () => import(/* webpackChunkName: \"Sparklines\" */ 'app/components/sparklines')\n);\nconst SparklinesLine = React.lazy(\n  () => import(/* webpackChunkName: \"SparklinesLine\" */ 'app/components/sparklines/line')\n);\n\nclass SparkLine extends React.Component<Props> {\n  render() {\n    const {className, error, eventStats} = this.props;\n\n    if (error) {\n      return <SparklineError error={error} />;\n    }\n\n    if (!eventStats) {\n      return <SparkLinePlaceholder />;\n    }\n\n    const data = eventStats.data.map(([, value]) =>\n      value && Array.isArray(value) && value.length ? value[0].count || 0 : 0\n    );\n\n    return (\n      <React.Suspense fallback={<SparkLinePlaceholder />}>\n        <div data-test-id=\"incident-sparkline\" className={className}>\n          <Sparklines data={data} width={100} height={32}>\n            <SparklinesLine\n              style={{stroke: theme.gray300, fill: 'none', strokeWidth: 2}}\n            />\n          </Sparklines>\n        </div>\n      </React.Suspense>\n    );\n  }\n}\n\nconst StyledSparkLine = styled(SparkLine)`\n  flex-shrink: 0;\n  width: 100%;\n  height: ${SPARKLINE_HEIGHT}px;\n`;\n\nconst SparkLinePlaceholder = styled(Placeholder)`\n  height: ${SPARKLINE_HEIGHT}px;\n`;\n\nconst SparklineError = styled(SparkLinePlaceholder)`\n  align-items: center;\n  line-height: 1;\n`;\n\nexport default StyledSparkLine;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport memoize from 'lodash/memoize';\nimport moment from 'moment';\n\nimport AsyncComponent from 'app/components/asyncComponent';\nimport Duration from 'app/components/duration';\nimport ErrorBoundary from 'app/components/errorBoundary';\nimport IdBadge from 'app/components/idBadge';\nimport Link from 'app/components/links/link';\nimport {PanelItem} from 'app/components/panels';\nimport TimeSince from 'app/components/timeSince';\nimport Tooltip from 'app/components/tooltip';\nimport {IconWarning} from 'app/icons';\nimport {t, tct} from 'app/locale';\nimport overflowEllipsis from 'app/styles/overflowEllipsis';\nimport space from 'app/styles/space';\nimport {Organization, Project} from 'app/types';\nimport {getUtcDateString} from 'app/utils/dates';\nimport getDynamicText from 'app/utils/getDynamicText';\nimport theme from 'app/utils/theme';\n\nimport {\n  API_INTERVAL_POINTS_LIMIT,\n  API_INTERVAL_POINTS_MIN,\n} from '../rules/details/constants';\nimport {AlertRuleStatus, Incident, IncidentStats, IncidentStatus} from '../types';\nimport {getIncidentMetricPreset, isIssueAlert} from '../utils';\n\nimport SparkLine from './sparkLine';\nimport {TableLayout, TitleAndSparkLine} from './styles';\n\n/**\n * Retrieve the start/end for showing the graph of the metric\n * Will show at least 150 and no more than 10,000 data points\n */\nexport const makeRuleDetailsQuery = (\n  incident: Incident\n): {start: string; end: string} => {\n  const {timeWindow} = incident.alertRule;\n  const timeWindowMillis = timeWindow * 60 * 1000;\n  const minRange = timeWindowMillis * API_INTERVAL_POINTS_MIN;\n  const maxRange = timeWindowMillis * API_INTERVAL_POINTS_LIMIT;\n  const now = moment.utc();\n  const startDate = moment.utc(incident.dateStarted);\n  // make a copy of now since we will modify endDate and use now for comparing\n  const endDate = incident.dateClosed ? moment.utc(incident.dateClosed) : moment(now);\n  const incidentRange = Math.max(endDate.diff(startDate), 3 * timeWindowMillis);\n  const range = Math.min(maxRange, Math.max(minRange, incidentRange));\n  const halfRange = moment.duration(range / 2);\n\n  return {\n    start: getUtcDateString(startDate.subtract(halfRange)),\n    end: getUtcDateString(moment.min(endDate.add(halfRange), now)),\n  };\n};\n\ntype Props = {\n  incident: Incident;\n  projects: Project[];\n  projectsLoaded: boolean;\n  orgId: string;\n  filteredStatus: 'open' | 'closed';\n  organization: Organization;\n} & AsyncComponent['props'];\n\ntype State = {\n  stats: IncidentStats;\n} & AsyncComponent['state'];\n\nclass AlertListRow extends AsyncComponent<Props, State> {\n  get metricPreset() {\n    const {incident} = this.props;\n    return incident ? getIncidentMetricPreset(incident) : undefined;\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {orgId, incident, filteredStatus} = this.props;\n\n    if (filteredStatus === 'open') {\n      return [\n        ['stats', `/organizations/${orgId}/incidents/${incident.identifier}/stats/`],\n      ];\n    }\n\n    return [];\n  }\n\n  /**\n   * Memoized function to find a project from a list of projects\n   */\n  getProject = memoize((slug: string, projects: Project[]) =>\n    projects.find(project => project.slug === slug)\n  );\n\n  renderLoading() {\n    return this.renderBody();\n  }\n\n  renderError() {\n    return this.renderBody();\n  }\n\n  renderTimeSince(date: string) {\n    return (\n      <CreatedResolvedTime>\n        <TimeSince date={date} />\n      </CreatedResolvedTime>\n    );\n  }\n\n  renderStatusIndicator() {\n    const {status} = this.props.incident;\n    const isResolved = status === IncidentStatus.CLOSED;\n    const isWarning = status === IncidentStatus.WARNING;\n\n    const color = isResolved ? theme.gray200 : isWarning ? theme.orange300 : theme.red200;\n    const text = isResolved ? t('Resolved') : isWarning ? t('Warning') : t('Critical');\n\n    return (\n      <Tooltip title={tct('Status: [text]', {text})}>\n        <StatusIndicator color={color} />\n      </Tooltip>\n    );\n  }\n\n  renderBody() {\n    const {\n      incident,\n      orgId,\n      projectsLoaded,\n      projects,\n      filteredStatus,\n      organization,\n    } = this.props;\n    const {error, stats} = this.state;\n    const started = moment(incident.dateStarted);\n    const duration = moment\n      .duration(moment(incident.dateClosed || new Date()).diff(started))\n      .as('seconds');\n    const slug = incident.projects[0];\n\n    const hasRedesign =\n      !isIssueAlert(incident.alertRule) &&\n      organization.features.includes('alert-details-redesign');\n\n    const alertLink = hasRedesign\n      ? {\n          pathname: `/organizations/${orgId}/alerts/rules/details/${\n            incident.alertRule.status === AlertRuleStatus.SNAPSHOT &&\n            incident.alertRule.originalAlertRuleId\n              ? incident.alertRule.originalAlertRuleId\n              : incident.alertRule.id\n          }/`,\n          query: {alert: incident.identifier},\n        }\n      : {\n          pathname: `/organizations/${orgId}/alerts/${incident.identifier}/`,\n        };\n\n    return (\n      <ErrorBoundary>\n        <IncidentPanelItem>\n          <TableLayout status={filteredStatus}>\n            <TitleAndSparkLine status={filteredStatus}>\n              <Title>\n                {this.renderStatusIndicator()}\n                <IncidentLink to={alertLink}>Alert #{incident.id}</IncidentLink>\n                {incident.title}\n              </Title>\n\n              {filteredStatus === 'open' && (\n                <SparkLine\n                  error={error && <ErrorLoadingStatsIcon />}\n                  eventStats={stats?.eventStats}\n                />\n              )}\n            </TitleAndSparkLine>\n\n            <ProjectBadge\n              avatarSize={18}\n              project={!projectsLoaded ? {slug} : this.getProject(slug, projects)}\n            />\n\n            {this.renderTimeSince(incident.dateStarted)}\n\n            {filteredStatus === 'closed' && (\n              <Duration seconds={getDynamicText({value: duration, fixed: 1200})} />\n            )}\n\n            {filteredStatus === 'closed' &&\n              incident.dateClosed &&\n              this.renderTimeSince(incident.dateClosed)}\n          </TableLayout>\n        </IncidentPanelItem>\n      </ErrorBoundary>\n    );\n  }\n}\n\nfunction ErrorLoadingStatsIcon() {\n  return (\n    <Tooltip title={t('Error loading alert stats')}>\n      <IconWarning />\n    </Tooltip>\n  );\n}\n\nconst CreatedResolvedTime = styled('div')`\n  ${overflowEllipsis}\n  line-height: 1.4;\n  display: flex;\n  align-items: center;\n`;\n\nconst ProjectBadge = styled(IdBadge)`\n  flex-shrink: 0;\n`;\n\nconst StatusIndicator = styled('div')<{color: string}>`\n  width: 10px;\n  height: 12px;\n  background: ${p => p.color};\n  display: inline-block;\n  border-top-right-radius: 40%;\n  border-bottom-right-radius: 40%;\n  margin-bottom: -1px;\n`;\n\nconst Title = styled('span')`\n  ${overflowEllipsis}\n`;\n\nconst IncidentLink = styled(Link)`\n  padding: 0 ${space(1)};\n`;\n\nconst IncidentPanelItem = styled(PanelItem)`\n  font-size: ${p => p.theme.fontSizeMedium};\n  padding: ${space(1.5)} ${space(2)} ${space(1.5)} 0;\n`;\n\nexport default AlertListRow;\n","import styled from '@emotion/styled';\n\nimport space from 'app/styles/space';\n\nconst TableLayout = styled('div')<{status: 'open' | 'closed'}>`\n  display: grid;\n  grid-template-columns: ${p =>\n    p.status === 'open' ? '4fr 1fr 2fr' : '3fr 2fr 2fr 1fr 2fr'};\n  grid-column-gap: ${space(1.5)};\n  width: 100%;\n  align-items: center;\n`;\n\nconst TitleAndSparkLine = styled('div')<{status: 'open' | 'closed'}>`\n  display: ${p => (p.status === 'open' ? 'grid' : 'flex')};\n  grid-gap: ${space(1)};\n  grid-template-columns: auto 120px;\n  align-items: center;\n  padding-right: ${space(2)};\n  overflow: hidden;\n`;\n\nexport {TableLayout, TitleAndSparkLine};\n","import React from 'react';\n\nimport {t} from 'app/locale';\nimport {SelectValue} from 'app/types';\nimport {TimePeriod, TimeWindow} from 'app/views/settings/incidentRules/types';\n\nexport const TIME_OPTIONS: SelectValue<string>[] = [\n  {label: t('Last 6 hours'), value: TimePeriod.SIX_HOURS},\n  {label: t('Last 24 hours'), value: TimePeriod.ONE_DAY},\n  {label: t('Last 3 days'), value: TimePeriod.THREE_DAYS},\n  {label: t('Last 7 days'), value: TimePeriod.SEVEN_DAYS},\n];\n\nexport const TIME_WINDOWS = {\n  [TimePeriod.SIX_HOURS]: TimeWindow.ONE_HOUR * 6 * 60 * 1000,\n  [TimePeriod.ONE_DAY]: TimeWindow.ONE_DAY * 60 * 1000,\n  [TimePeriod.THREE_DAYS]: TimeWindow.ONE_DAY * 3 * 60 * 1000,\n  [TimePeriod.SEVEN_DAYS]: TimeWindow.ONE_DAY * 7 * 60 * 1000,\n};\n\nexport const API_INTERVAL_POINTS_LIMIT = 10000;\nexport const API_INTERVAL_POINTS_MIN = 150;\n\nexport type TimePeriodType = {\n  start: string;\n  end: string;\n  period: string;\n  label: string;\n  display: React.ReactNode;\n  custom?: boolean;\n};\n","import styled from '@emotion/styled';\nimport {Query} from 'history';\n\nimport space from 'app/styles/space';\n\nimport {DisplayModes} from './charts';\n\nexport enum TransactionFilterOptions {\n  FASTEST = 'fastest',\n  SLOW = 'slow',\n  OUTLIER = 'outlier',\n  RECENT = 'recent',\n}\n\nexport function generateTransactionSummaryRoute({orgSlug}: {orgSlug: String}): string {\n  return `/organizations/${orgSlug}/performance/summary/`;\n}\n\nexport function transactionSummaryRouteWithQuery({\n  orgSlug,\n  transaction,\n  projectID,\n  query,\n  unselectedSeries = 'p100()',\n  display,\n  trendFunction,\n  trendColumn,\n  showTransactions,\n}: {\n  orgSlug: string;\n  transaction: string;\n  query: Query;\n  display?: DisplayModes;\n  trendFunction?: string;\n  trendColumn?: string;\n  unselectedSeries?: string | string[];\n  projectID?: string | string[];\n  showTransactions?: TransactionFilterOptions;\n}) {\n  const pathname = generateTransactionSummaryRoute({\n    orgSlug,\n  });\n\n  return {\n    pathname,\n    query: {\n      transaction,\n      project: projectID,\n      environment: query.environment,\n      statsPeriod: query.statsPeriod,\n      start: query.start,\n      end: query.end,\n      query: query.query,\n      unselectedSeries,\n      showTransactions,\n      display,\n      trendFunction,\n      trendColumn,\n    },\n  };\n}\n\nexport const SidebarSpacer = styled('div')`\n  margin-top: ${space(3)};\n`;\n","module.exports = __webpack_public_path__ + \"spot/alerts-empty-state.4d03bc.svg\";"],"sourceRoot":""}