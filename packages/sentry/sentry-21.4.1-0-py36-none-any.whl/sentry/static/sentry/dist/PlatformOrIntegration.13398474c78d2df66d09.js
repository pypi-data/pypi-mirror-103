(self.webpackChunk=self.webpackChunk||[]).push([["PlatformOrIntegration"],{"./app/components/sentryDocumentTitle.tsx":(t,e,r)=>{"use strict";r.d(e,{Z:()=>s}),r("../node_modules/react/index.js");var n=r("../node_modules/react-document-title/index.js"),o=r.n(n),a=r("../node_modules/@emotion/core/dist/core.browser.esm.js");function i(t){var e=t.title,r=t.orgSlug,n=t.projectSlug,i=t.children,s=r||n?r&&n?"".concat(e," - ").concat(r," - ").concat(n):r?"".concat(e," - ").concat(r):"".concat(e," - ").concat(n):e;return(0,a.tZ)(o(),{title:"".concat(s," - Sentry")},i)}i.displayName="SentryDocumentTitle";const s=i},"./app/views/projectInstall/platformOrIntegration.tsx":(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>st});var n=r("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=r("../node_modules/react/index.js"),a=r("../node_modules/query-string/index.js"),i=r("./app/utils/integrationUtil.tsx"),s=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),l=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),c=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),p=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),u=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),d=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),m=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),g=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),f=r("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),h=r("../node_modules/@babel/runtime/regenerator/index.js"),Z=r.n(h),y=(r("../node_modules/prism-sentry/index.css"),r("../node_modules/react-router/es/index.js")),b=r("./app/actionCreators/projects.tsx"),v=r("./app/components/acl/feature.tsx"),w=r("./app/components/alert.tsx"),j=r("./app/components/button.tsx"),x=r("./app/components/buttonBar.tsx"),k=r("./app/components/errors/notFound.tsx"),S=r("./app/components/loadingError.tsx"),I=r("./app/components/loadingIndicator.tsx"),P=r("./app/components/sentryDocumentTitle.tsx"),_=r("./app/data/platformCategories.tsx"),O=r("./app/data/platforms.tsx"),z=r("./app/icons/index.tsx"),D=r("./app/locale.tsx"),T=r("./app/styles/organization.tsx"),C=r("./app/styles/space.tsx"),B=r("./app/utils/projects.tsx"),R=r("./app/utils/withApi.tsx"),F=r("./app/utils/withOrganization.tsx"),N=r("../node_modules/@emotion/core/dist/core.browser.esm.js");var L=function(t){(0,u.Z)(a,t);var e,r,n=(e=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,m.Z)(e);if(r){var o=(0,m.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,d.Z)(this,t)});function a(){var t;(0,l.Z)(this,a);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,g.Z)((0,p.Z)(t),"state",{loading:!0,error:!1,html:""}),(0,g.Z)((0,p.Z)(t),"fetchData",(0,s.Z)(Z().mark((function e(){var r,n,o,a,i,s,l,c;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props,n=r.api,o=r.params,a=o.orgId,i=o.projectId,s=o.platform,t.setState({loading:!0}),e.prev=3,e.next=6,(0,b.iC)(n,a,i,s);case 6:l=e.sent,c=l.html,t.setState({html:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.setState({error:e.t0});case 14:t.setState({loading:!1});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))),t}return(0,c.Z)(a,[{key:"componentDidMount",value:function(){this.fetchData(),window.scrollTo(0,0);var t=this.props.params.platform;t&&"other"!==t||this.redirectToNeutralDocs()}},{key:"isGettingStarted",get:function(){return window.location.href.indexOf("getting-started")>0}},{key:"redirectToNeutralDocs",value:function(){var t=this.props.params,e=t.orgId,r=t.projectId,n="/organizations/".concat(e,"/projects/").concat(r,"/getting-started/");y.browserHistory.push(n)}},{key:"render",value:function(){var t,e=this.props.params,r=e.orgId,n=e.projectId,a=O.Z.find((function(t){return t.id===e.platform}));if(!a)return(0,N.tZ)(k.Z,null);var i="/organizations/".concat(r,"/issues/"),s="/organizations/".concat(r,"/performance/"),l="/organizations/".concat(r,"/projects/").concat(n,"/getting-started/"),c=null!==(t=a.link)&&void 0!==t?t:void 0;return(0,N.tZ)(o.Fragment,null,(0,N.tZ)(H,null,(0,N.tZ)("h2",null,(0,D.t)("Configure %(platform)s",{platform:a.name})),(0,N.tZ)(x.Z,{gap:1},(0,N.tZ)(j.ZP,{size:"small",to:l},(0,D.t)("< Back")),(0,N.tZ)(j.ZP,{size:"small",href:c,external:!0},(0,D.t)("Full Documentation")))),(0,N.tZ)("div",null,(0,N.tZ)(w.Z,{type:"info",icon:(0,N.tZ)(z.aU,null)},(0,D._N)("\n             This is a quick getting started guide. For in-depth instructions\n             on integrating Sentry with [platform], view\n             [docLink:our complete documentation].",{platform:a.name,docLink:(0,N.tZ)("a",{href:c})})),this.state.loading?(0,N.tZ)(I.Z,null):this.state.error?(0,N.tZ)(S.Z,{onRetry:this.fetchData}):(0,N.tZ)(o.Fragment,null,(0,N.tZ)(P.Z,{title:"".concat((0,D.t)("Configure")," ").concat(a.name),projectSlug:n}),(0,N.tZ)(A,{dangerouslySetInnerHTML:{__html:this.state.html}})),this.isGettingStarted&&(0,N.tZ)(B.Z,{key:"".concat(r,"-").concat(n),orgId:r,slugs:[n],passthroughPlaceholderProject:!1},(function(t){var e=t.projects,r=t.initiallyLoaded,n=t.fetching,l=t.fetchError,c=!r&&n,p=c||l||!e.length?{}:{project:e[0].id},u=_.Sv.includes(a.id);return(0,N.tZ)(o.Fragment,null,u&&(0,N.tZ)(v.Z,{features:["performance-view"],hookName:"feature-disabled:performance-new-project"},(function(t){return t.hasFeature?null:(0,N.tZ)(M,{type:"info",icon:(0,N.tZ)(z.aU,null)},(0,D.t)("Your selected platform supports performance, but your organization does not have performance enabled."))})),(0,N.tZ)(E,{gap:1},(0,N.tZ)(j.ZP,{priority:"primary",busy:c,to:{pathname:i,query:p,hash:"#welcome"}},(0,D.t)("Take me to Issues")),(0,N.tZ)(j.ZP,{busy:c,to:{pathname:s,query:p}},(0,D.t)("Take me to Performance"))))}))))}}]),a}(o.Component);L.displayName="ProjectInstallPlatform";var A=(0,f.Z)("div",{target:"esjegue0",label:"DocumentationWrapper"})(".gatsby-highlight{margin-bottom:",(0,C.Z)(3),";&:last-child{margin-bottom:0;}}.alert{margin-bottom:",(0,C.Z)(3),";border-radius:",(function(t){return t.theme.borderRadius}),";}p{line-height:1.5;}pre{word-break:break-all;white-space:pre-wrap;}"),E=(0,f.Z)(x.Z,{target:"esjegue1",label:"StyledButtonBar"})("margin-top:",(0,C.Z)(3),";width:max-content;@media (max-width:",(function(t){return t.theme.breakpoints[0]}),"){width:auto;grid-row-gap:",(0,C.Z)(1),";grid-auto-flow:row;}"),H=(0,f.Z)(T.mr,{target:"esjegue2",label:"StyledPageHeader"})("margin-bottom:",(0,C.Z)(3),";h2{margin:0;}@media (max-width:",(function(t){return t.theme.breakpoints[0]}),"){flex-direction:column;align-items:flex-start;h2{margin-bottom:",(0,C.Z)(2),";}}"),M=(0,f.Z)(w.Z,{target:"esjegue3",label:"StyledAlert"})("margin-top:",(0,C.Z)(2),";");const q=(0,R.Z)((0,F.Z)(L));var G=r("../node_modules/@babel/runtime/helpers/esm/get.js"),U=r("./app/components/asyncComponent.tsx"),W=r("./app/views/onboarding/components/firstEventFooter.tsx"),Q=r("./app/views/onboarding/components/integrations/addInstallationInstructions.tsx"),Y=r("./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx"),J=r("./app/views/organizationIntegrations/addIntegrationButton.tsx");function K(t){var e=t.gettingStartedLink,r=t.docsLink;return(0,N.tZ)(x.Z,{gap:1},(0,N.tZ)(j.ZP,{size:"small",to:e},(0,D.t)("< Back")),(0,N.tZ)(j.ZP,{size:"small",href:r,external:!0},(0,D.t)("Full Documentation")))}function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){(0,g.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}K.displayName="PlatformHeaderButtonBar";var $=function(t){(0,u.Z)(a,t);var e,r,n=(e=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,m.Z)(e);if(r){var o=(0,m.Z)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return(0,d.Z)(this,t)});function a(){var t;(0,l.Z)(this,a);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,g.Z)((0,p.Z)(t),"handleAddIntegration",(function(){t.setState({installed:!0})})),(0,g.Z)((0,p.Z)(t),"trackSwitchToManual",(function(){var e=t.props,r=e.organization,n=e.integrationSlug;(0,i.pd)("integrations.switch_manual_sdk_setup",{integration_type:"first_party",integration:n,view:"project_creation"},r)})),t}return(0,c.Z)(a,[{key:"getDefaultState",value:function(){return X(X({},(0,G.Z)((0,m.Z)(a.prototype),"getDefaultState",this).call(this)),{},{installed:!1,integrations:{providers:[]},project:null})}},{key:"componentDidMount",value:function(){window.scrollTo(0,0);var t=this.props.params.platform;t&&"other"!==t||this.redirectToNeutralDocs()}},{key:"provider",get:function(){var t=this.state.integrations.providers;return t.length?t[0]:null}},{key:"getEndpoints",value:function(){var t=this.props,e=t.organization,r=t.integrationSlug,n=t.params;return r?[["integrations","/organizations/".concat(e.slug,"/config/integrations/?provider_key=").concat(r)],["project","/projects/".concat(e.slug,"/").concat(n.projectId,"/")]]:[]}},{key:"redirectToNeutralDocs",value:function(){var t=this.props.params,e=t.orgId,r=t.projectId,n="/organizations/".concat(e,"/projects/").concat(r,"/getting-started/");y.browserHistory.push(n)}},{key:"render",value:function(){var t=this.props,e=t.organization,r=t.params,n=this.state,a=n.installed,i=n.project,s=r.projectId,l=r.orgId,c=r.platform,p=this.provider,u=O.Z.find((function(t){return t.id===c}));if(!p||!u||!i)return null;var d="/organizations/".concat(l,"/projects/").concat(s,"/getting-started/"),m="https://docs.sentry.io/product/integrations/aws-lambda/";return(0,N.tZ)(rt,null,(0,N.tZ)(nt,null,(0,N.tZ)(ot,null,(0,D.t)("Automatically instrument %s",u.name)),(0,N.tZ)(K,{gettingStartedLink:d,docsLink:m})),(0,N.tZ)(et,null,a?(0,N.tZ)(o.Fragment,null,(0,N.tZ)(Y.Z,{provider:p}),(0,N.tZ)(W.Z,{project:i,organization:e,docsLink:m})):(0,N.tZ)(o.Fragment,null,(0,N.tZ)(Q.Z,null),(0,N.tZ)(tt,{gap:1},(0,N.tZ)(J.Z,{provider:p,onAddIntegration:this.handleAddIntegration,organization:e,priority:"primary",size:"small",analyticsParams:{view:"project_creation",already_installed:!1},modalParams:{projectId:i.id}}),(0,N.tZ)(j.ZP,{size:"small",to:{pathname:window.location.pathname,query:{manual:"1"}},onClick:this.trackSwitchToManual},(0,D.t)("Manual Setup"))))))}}]),a}(U.Z);$.displayName="PlatformIntegrationSetup";var tt=(0,f.Z)(x.Z,{target:"e1ri928w0",label:"StyledButtonBar"})("margin-top:",(0,C.Z)(3),";width:max-content;@media (max-width:",(function(t){return t.theme.breakpoints[0]}),"){width:auto;grid-row-gap:",(0,C.Z)(1),";grid-auto-flow:row;}"),et=(0,f.Z)("div",{target:"e1ri928w1",label:"InnerWrapper"})({name:"ltfg7h",styles:"width:850px;"}),rt=(0,f.Z)("div",{target:"e1ri928w2",label:"OuterWrapper"})({name:"iyvmju",styles:"display:flex;flex-direction:column;align-items:center;margin-top:50px;"}),nt=(0,f.Z)(T.mr,{target:"e1ri928w3",label:"StyledPageHeader"})("margin-bottom:",(0,C.Z)(3),";"),ot=(0,f.Z)("h2",{target:"e1ri928w4",label:"StyledTitle"})("margin:0 ",(0,C.Z)(3)," 0 0;");const at=(0,F.Z)($);var it=function(t){var e=a.Qc(window.location.search),r=t.params.platform,o=r&&i.Eo[r];return o&&"1"!==e.manual?(0,N.tZ)(at,(0,n.Z)({integrationSlug:o},t)):(0,N.tZ)(q,t)};it.displayName="PlatformOrIntegration";const st=it}}]);
//# sourceMappingURL=PlatformOrIntegration.js.map