(self.webpackChunk=self.webpackChunk||[]).push([["AccountSecurityDetails"],{"./app/views/asyncView.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),i=(n("../node_modules/react/index.js"),n("../node_modules/react-document-title/index.js")),c=n.n(i),u=n("./app/components/asyncComponent.tsx"),d=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var m=function(e){(0,o.Z)(u,e);var t,n,i=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,l.Z)(t);if(n){var r=(0,l.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function u(){return(0,s.Z)(this,u),i.apply(this,arguments)}return(0,r.Z)(u,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,d.tZ)(c(),{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),u}(u.Z);m.displayName="AsyncView"},"./app/views/settings/account/accountSecurity/accountSecurityDetails.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var s=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),m=n("../node_modules/@babel/runtime/regenerator/index.js"),p=n.n(m),Z=n("../node_modules/react/index.js"),f=n("./app/actionCreators/indicator.tsx"),v=n("./app/components/button.tsx"),y=n("./app/components/circleIndicator.tsx"),h=n("./app/components/dateTime.tsx"),b=n("./app/components/tooltip.tsx"),g=n("./app/locale.tsx"),x=n("./app/styles/space.tsx"),w=n("./app/views/asyncView.tsx"),j=n("./app/components/clipboard.tsx"),C=n("./app/components/confirm.tsx"),_=n("./app/components/panels/index.tsx"),k=n("./app/icons/index.tsx"),R=n("./app/views/settings/components/emptyMessage.tsx"),P=n("../node_modules/@emotion/core/dist/core.browser.esm.js"),S={name:"1lpqzh6-RecoveryCodes",styles:"display:none;;label:RecoveryCodes;"},A=function(e){var t=e.className,n=e.isEnrolled,s=e.codes,r=e.onRegenerateBackupCodes;if(!n||!s)return null;var o=s.join(" \n");return(0,P.tZ)(D,{className:t},(0,P.tZ)(_.V9,{hasButtons:!0},(0,g.t)("Unused Codes"),(0,P.tZ)(N,null,(0,P.tZ)(j.Z,{hideUnsupported:!0,value:o},(0,P.tZ)(v.ZP,{size:"small",label:(0,g.t)("copy")},(0,P.tZ)(k.vU,null))),(0,P.tZ)(v.ZP,{size:"small",onClick:function(){var e=window.frames.printable;e.document.write(s.join("<br>")),e.print(),e.document.close()},label:(0,g.t)("print")},(0,P.tZ)(k.nS,null)),(0,P.tZ)(v.ZP,{size:"small",download:"sentry-recovery-codes.txt",href:"data:text/plain;charset=utf-8,".concat(o),label:(0,g.t)("download")},(0,P.tZ)(k.Dj,null)),(0,P.tZ)(C.Z,{onConfirm:r,message:(0,g.t)("Are you sure you want to regenerate recovery codes? Your old codes will no longer work.")},(0,P.tZ)(v.ZP,{priority:"danger",size:"small"},(0,g.t)("Regenerate Codes"))))),(0,P.tZ)(_.N,null,(0,P.tZ)(_.aU,{type:"warning"},(0,g.t)("Make sure to save a copy of your recovery codes and store them in a safe place.")),(0,P.tZ)("div",null,!!s.length&&s.map((function(e){return(0,P.tZ)(B,{key:e},e)}))),!s.length&&(0,P.tZ)(R.Z,null,(0,g.t)("You have no more recovery codes to use"))),(0,P.tZ)("iframe",{name:"printable",css:S}))};A.displayName="RecoveryCodes";const z=A;var D=(0,d.Z)(_.s_,{target:"e1nntg9l0",label:"CodeContainer"})("margin-top:",(0,x.Z)(4),";"),N=(0,d.Z)("div",{target:"e1nntg9l1",label:"Actions"})("display:grid;grid-auto-flow:column;grid-gap:",(0,x.Z)(1),";"),B=(0,d.Z)(_.Lv,{target:"e1nntg9l2",label:"Code"})("font-family:",(function(e){return e.theme.text.familyMono}),";padding:",(0,x.Z)(2),";"),T=n("./app/views/settings/account/accountSecurity/components/removeConfirm.tsx"),E=n("./app/views/settings/account/accountSecurity/components/confirmHeader.tsx"),U=n("./app/views/settings/components/text/textBlock.tsx");function q(e){var t=e.className,n=e.isEnrolled,s=e.devices,r=e.id,o=e.onRemoveU2fDevice;if("u2f"!==r||!n)return null;var a=null==s?void 0:s.length,l=1===a;return(0,P.tZ)(_.s_,{className:t},(0,P.tZ)(_.V9,null,(0,g.t)("Device name")),(0,P.tZ)(_.N,null,!a&&(0,P.tZ)(R.Z,null,(0,g.t)("You have not added any U2F devices")),a&&(null==s?void 0:s.map((function(e){return(0,P.tZ)(F,{key:e.name},(0,P.tZ)(I,null,(0,P.tZ)(L,null,e.name),(0,P.tZ)(H,{date:e.timestamp})),(0,P.tZ)(O,null,(0,P.tZ)(C.Z,{onConfirm:function(){return o(e)},disabled:l,message:(0,P.tZ)(Z.Fragment,null,(0,P.tZ)(E.Z,null,(0,g.t)("Do you want to remove U2F device?")),(0,P.tZ)(U.Z,null,(0,g.t)('Are you sure you want to remove the U2F device "'.concat(e.name,'"?'))))},(0,P.tZ)(v.ZP,{size:"small",priority:"danger"},(0,P.tZ)(b.Z,{disabled:!l,title:(0,g.t)("Can not remove last U2F device")},(0,P.tZ)(k.Fz,{size:"xs"}))))))}))),(0,P.tZ)(V,null,(0,P.tZ)(v.ZP,{type:"button",to:"/settings/account/security/mfa/u2f/enroll/",size:"small"},(0,g.t)("Add Another Device")))))}q.displayName="U2fEnrolledDetails";var F=(0,d.Z)(_.Lv,{target:"eisv0kh0",label:"DevicePanelItem"})({name:"y8aj3r",styles:"padding:0;"}),I=(0,d.Z)("div",{target:"eisv0kh1",label:"DeviceInformation"})("display:flex;align-items:center;flex:1;padding:",(0,x.Z)(2),";padding-right:0;"),H=(0,d.Z)(h.Z,{target:"eisv0kh2",label:"FadedDateTime"})("font-size:",(function(e){return e.theme.fontSizeRelativeSmall}),";opacity:0.6;"),L=(0,d.Z)("div",{target:"eisv0kh3",label:"Name"})({name:"1rr4qq7",styles:"flex:1;"}),O=(0,d.Z)("div",{target:"eisv0kh4",label:"Actions"})("margin:",(0,x.Z)(2),";"),V=(0,d.Z)(_.Lv,{target:"eisv0kh5",label:"AddAnotherPanelItem"})("justify-content:flex-end;padding:",(0,x.Z)(2),";");const W=(0,d.Z)(q,{target:"eisv0kh6"})("margin-top:",(0,x.Z)(4),";");var M=n("./app/views/settings/components/settingsPageHeader.tsx");var Y="/users/me/authenticators/";function G(e){var t=e.label,n=e.date;return(0,P.tZ)(Z.Fragment,null,(0,P.tZ)(X,null,t),(0,P.tZ)("div",null,n?(0,P.tZ)(h.Z,{date:n}):(0,g.t)("never")))}G.displayName="AuthenticatorDate";const J=function(e){(0,l.Z)(m,e);var t,n,d=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,i.Z)(this,e)});function m(){var e;(0,r.Z)(this,m);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=d.call.apply(d,[this].concat(n)),(0,u.Z)((0,a.Z)(e),"handleRemove",function(){var t=(0,s.Z)(p().mark((function t(n){var s,r,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=e.state.authenticator)&&s.authId){t.next=3;break}return t.abrupt("return");case 3:return r=n?"".concat(n.key_handle,"/"):"",o=n?n.name:(0,g.t)("Authenticator"),e.setState({loading:!0}),t.prev=6,t.next=9,e.api.requestPromise("".concat(Y).concat(s.authId,"/").concat(r),{method:"DELETE"});case 9:e.props.router.push("/settings/account/security"),(0,f.S9)((0,g.t)("%s has been removed",o)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),e.setState({loading:!1}),(0,f.Iw)((0,g.t)("Error removing %s",o));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,o.Z)(m,[{key:"getTitle",value:function(){return(0,g.t)("Security")}},{key:"getEndpoints",value:function(){var e=this.props.params.authId;return[["authenticator","".concat(Y).concat(e,"/")]]}},{key:"renderBody",value:function(){var e=this.state.authenticator;if(!e)return null;var t=this.props,n=t.deleteDisabled,s=t.onRegenerateBackupCodes;return(0,P.tZ)(Z.Fragment,null,(0,P.tZ)(M.Z,{title:(0,P.tZ)(Z.Fragment,null,(0,P.tZ)("span",null,e.name),(0,P.tZ)(K,{enabled:e.isEnrolled})),action:e.isEnrolled&&e.removeButton&&(0,P.tZ)(b.Z,{title:(0,g.t)("Two-factor authentication is required for at least one organization you're a member of."),disabled:!n},(0,P.tZ)(T.Z,{onConfirm:this.handleRemove,disabled:n},(0,P.tZ)(v.ZP,{priority:"danger"},e.removeButton)))}),(0,P.tZ)(U.Z,null,e.description),(0,P.tZ)(Q,null,(0,P.tZ)(G,{label:(0,g.t)("Created at"),date:e.createdAt}),(0,P.tZ)(G,{label:(0,g.t)("Last used"),date:e.lastUsedAt})),(0,P.tZ)(W,{isEnrolled:e.isEnrolled,id:e.id,devices:e.devices,onRemoveU2fDevice:this.handleRemove}),e.isEnrolled&&e.phone&&(0,P.tZ)($,null,(0,g.t)("Confirmation codes are sent to the following phone number"),":",(0,P.tZ)(ee,null,e.phone)),(0,P.tZ)(z,{onRegenerateBackupCodes:s,isEnrolled:e.isEnrolled,codes:e.codes}))}}]),m}(w.Z);var K=(0,d.Z)(y.Z,{target:"e19qrwsm0",label:"AuthenticatorStatus"})("margin-left:",(0,x.Z)(1),";"),Q=(0,d.Z)("div",{target:"e19qrwsm1",label:"AuthenticatorDates"})("display:grid;grid-gap:",(0,x.Z)(2),";grid-template-columns:max-content auto;"),X=(0,d.Z)("span",{target:"e19qrwsm2",label:"DateLabel"})({name:"in3yi3",styles:"font-weight:bold;"}),$=(0,d.Z)("div",{target:"e19qrwsm3",label:"PhoneWrapper"})("margin-top:",(0,x.Z)(4),";"),ee=(0,d.Z)("span",{target:"e19qrwsm4",label:"Phone"})("font-weight:bold;margin-left:",(0,x.Z)(1),";")},"./app/views/settings/account/accountSecurity/components/confirmHeader.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=(0,n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js").Z)("div",{target:"e1er9gj10",label:"ConfirmHeader"})({name:"1pihav0",styles:"font-size:1.2em;margin-bottom:10px;"})},"./app/views/settings/account/accountSecurity/components/removeConfirm.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var s=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),r=n("../node_modules/react/index.js"),o=n("./app/components/confirm.tsx"),a=n("./app/locale.tsx"),l=n("./app/views/settings/account/accountSecurity/components/confirmHeader.tsx"),i=n("./app/views/settings/components/text/textBlock.tsx"),c=n("../node_modules/@emotion/core/dist/core.browser.esm.js"),u=(0,c.tZ)(r.Fragment,null,(0,c.tZ)(l.Z,null,(0,a.t)("Do you want to remove this method?")),(0,c.tZ)(i.Z,null,(0,a.t)("Removing the last authentication method will disable two-factor authentication completely."))),d=function(e){return(0,c.tZ)(o.Z,(0,s.Z)({},e,{message:u}))};d.displayName="RemoveConfirm";const m=d},"./app/views/settings/components/settingsPageHeader.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var s=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),i=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),d=n("../node_modules/react/index.js"),m=n("./app/styles/organization.tsx"),p=n("./app/styles/space.tsx"),Z=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var f=function(e){(0,a.Z)(u,e);var t,n,c=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,i.Z)(t);if(n){var r=(0,i.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,l.Z)(this,e)});function u(){return(0,r.Z)(this,u),c.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.subtitle,o=e.action,a=e.tabs,l=e.noTitleStyles,i=e.body,c=(0,s.Z)(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),u=!r;return(0,Z.tZ)("div",c,(0,Z.tZ)(v,{isNarrow:u},(0,Z.tZ)(y,null,t&&(0,Z.tZ)(g,null,t),n&&(0,Z.tZ)(h,{tabs:a,styled:l},(0,Z.tZ)(m.Gh,null,n),r&&(0,Z.tZ)(b,null,r))),o&&(0,Z.tZ)(x,{isNarrow:u},o)),i&&(0,Z.tZ)(j,null,i),a&&(0,Z.tZ)(C,null,a))}}]),u}(d.Component);f.displayName="UnstyledSettingsPageHeader",(0,c.Z)(f,"defaultProps",{noTitleStyles:!1});var v=(0,u.Z)("div",{target:"e1nr98yc0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),y=(0,u.Z)("div",{target:"e1nr98yc1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),h=(0,u.Z)("div",{target:"e1nr98yc2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",(0,p.Z)(4)," ",(0,p.Z)(2)," ",(0,p.Z)(3)," 0;"),b=(0,u.Z)("div",{target:"e1nr98yc3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",(0,p.Z)(1.5)," 0 0;"),g=(0,u.Z)("div",{target:"e1nr98yc4",label:"Icon"})("margin-right:",(0,p.Z)(1),";"),x=(0,u.Z)("div",{target:"e1nr98yc5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":(0,p.Z)(4)}),";"),w=(0,u.Z)(f,{target:"e1nr98yc6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",(0,p.Z)(4),";"),j=(0,u.Z)("div",{target:"e1nr98yc7",label:"BodyWrapper"})("flex:1;margin:0 0 ",(0,p.Z)(3),";"),C=(0,u.Z)("div",{target:"e1nr98yc8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});const _=w}}]);
//# sourceMappingURL=AccountSecurityDetails.js.map