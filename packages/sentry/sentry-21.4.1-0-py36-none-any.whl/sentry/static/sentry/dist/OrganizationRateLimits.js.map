{"version":3,"sources":["webpack:///./app/views/settings/components/forms/controls/rangeSlider.tsx","webpack:///./app/views/settings/components/forms/form.tsx","webpack:///./app/views/settings/components/forms/rangeField.tsx","webpack:///./app/views/settings/components/settingsPageHeader.tsx","webpack:///./app/views/settings/organizationRateLimits/organizationRateLimits.tsx","webpack:///./app/views/settings/organizationRateLimits/index.tsx"],"names":["RangeSlider","sliderValue","props","allowedValues","indexOf","Number","value","setState","e","onChange","getActualValue","parseInt","target","setValue","changeValue","onBlur","isNaN","handleInput","nextProps","this","min","max","step","name","disabled","formatLabel","placeholder","showCustomInput","state","actualValue","displayValue","length","t","Label","htmlFor","SliderAndInputWrapper","Slider","type","onInput","onMouseUp","handleBlur","onKeyUp","hasLabel","handleCustomInputChange","handleCustomInputBlur","React","p","theme","grid","border","background","active","subText","space","Form","context","model","FormModel","skipPreventDefault","preventDefault","isSaving","onPreSubmit","onSubmit","getData","onSubmitSuccess","onSubmitError","saveForm","data","submitSuccess","error","submitError","saveOnBlur","apiEndpoint","apiMethod","resetOnError","onFieldChange","initialData","allowUndo","setInitialData","setFormOptions","form","reset","className","children","footerClass","footerStyle","submitDisabled","submitLabel","submitPriority","cancelLabel","onCancel","extraButton","requireChanges","hideFooter","shouldShowFooter","data-test-id","isRenderFunc","StyledFooter","style","DefaultButtons","onClick","marginLeft","priority","isError","formChanged","PropTypes","Panel","defaultFormatMessageValue","RangeField","formatMessageValue","otherProps","resolvedDisabled","field","fieldOnChange","fieldProps","val","event","UnstyledSettingsPageHeader","icon","title","subtitle","action","tabs","noTitleStyles","body","isNarrow","TitleAndActions","TitleWrapper","Icon","Title","styled","Subtitle","Action","BodyWrapper","TabsWrapper","gray400","fontSizeLarge","SettingsPageHeader","ACCOUNT_RATE_LIMIT_VALUES","steps","i","push","getRateLimitValues","OrganizationRateLimit","organization","quota","maxRate","maxRateInterval","projectRateLimit","projectLimit","accountRateLimit","accountLimit","slug","label","help","css","tct","number","toLocaleString","dangerouslySetInnerHTML","__html","withOrganization"],"mappings":"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","file":"OrganizationRateLimits.c8d3867255ee8b35b4f7.js","sourcesContent":["import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport Input from 'app/views/settings/components/forms/controls/input';\n\ntype Props = {\n  name: string;\n\n  /**\n   * min allowed value, not needed if using `allowedValues`\n   */\n  min?: number;\n\n  /**\n   * max allowed value, not needed if using `allowedValues`\n   */\n  max?: number;\n\n  /**\n   * String is a valid type here only for empty string\n   * Otherwise react complains:\n   * \"`value` prop on `input` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.\"\n   *\n   * And we want this to be a controlled input when value is empty\n   */\n  value: number | '';\n  step?: number;\n  disabled?: boolean;\n\n  /**\n   * Render prop for slider's label\n   * Is passed the value as an argument\n   */\n  formatLabel?: (value: number | '') => React.ReactNode;\n\n  /**\n   * Array of allowed values. Make sure `value` is in this list.\n   * THIS NEEDS TO BE SORTED\n   */\n  allowedValues?: number[];\n\n  /**\n   * Show input control for custom values\n   */\n  showCustomInput?: boolean;\n\n  // Placeholder for custom input\n  placeholder?: string;\n\n  /**\n   * This is called when *any* MouseUp or KeyUp event happens.\n   * Used for \"smart\" Fields to trigger a \"blur\" event. `onChange` can\n   * be triggered quite frequently\n   */\n  onBlur?: (value, event?) => void;\n  onChange?: Function;\n};\n\ntype State = {\n  sliderValue: number | '';\n};\n\nclass RangeSlider extends React.Component<Props, State> {\n  state: State = {\n    sliderValue: this.props.allowedValues\n      ? // With `allowedValues` sliderValue will be the index to value in `allowedValues`\n        // This is so we can snap the rangeSlider using `step`\n        // This means that the range slider will have a uniform `step` in the UI\n        // and scale won't match `allowedValues\n        // e.g. with allowedValues = [0, 100, 1000, 10000] - in UI we'll have values = [0, 3] w/ step of 1\n        // so it always snaps at 25% width\n        this.props.allowedValues.indexOf(Number(this.props.value || 0))\n      : this.props.value,\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps: Props) {\n    // Update local state when re-rendered with next `props.value` (e.g if this is controlled)\n    if (typeof nextProps.value !== 'undefined') {\n      const {allowedValues} = this.props;\n      let sliderValue = nextProps.value;\n\n      // If `allowedValues` is defined, then `sliderValue` represents index to `allowedValues`\n      if (allowedValues && allowedValues.indexOf(Number(sliderValue || 0)) > -1) {\n        sliderValue = allowedValues.indexOf(Number(sliderValue || 0));\n      }\n      this.setState({sliderValue});\n    }\n  }\n\n  getActualValue = (sliderValue: State['sliderValue']): number | '' => {\n    const {allowedValues} = this.props;\n    let value: number | '';\n\n    if (allowedValues) {\n      // If `allowedValues` is defined, then `sliderValue` represents index to `allowedValues`\n      value = allowedValues[sliderValue];\n    } else {\n      value = sliderValue;\n    }\n\n    return value;\n  };\n\n  setValue = value => {\n    this.setState({\n      sliderValue: value,\n    });\n  };\n\n  changeValue = (value, e) => {\n    if (this.props.onChange) {\n      this.props.onChange(this.getActualValue(value), e);\n    }\n  };\n\n  handleInput = e => {\n    const sliderValue = parseInt(e.target.value, 10);\n    this.setValue(sliderValue);\n    this.changeValue(sliderValue, e);\n  };\n\n  handleBlur = e => {\n    const {onBlur} = this.props;\n    if (typeof onBlur !== 'function') {\n      return;\n    }\n\n    onBlur(e);\n  };\n\n  handleCustomInputChange = e => {\n    const value = parseInt(e.target.value, 10);\n    this.setValue(isNaN(value) ? 0 : value);\n  };\n\n  handleCustomInputBlur = e => {\n    this.handleInput(e);\n  };\n\n  render() {\n    let {min, max, step} = this.props;\n    const {\n      name,\n      disabled,\n      allowedValues,\n      formatLabel,\n      placeholder,\n      showCustomInput,\n    } = this.props;\n    const {sliderValue} = this.state;\n    let actualValue = sliderValue;\n    let displayValue: React.ReactNode = actualValue;\n\n    if (allowedValues) {\n      step = 1;\n      min = 0;\n      max = allowedValues.length - 1;\n      actualValue = allowedValues[sliderValue];\n      displayValue =\n        typeof actualValue !== 'undefined' ? actualValue : t('Invalid value');\n    }\n\n    displayValue =\n      typeof formatLabel === 'function' ? formatLabel(actualValue) : displayValue;\n\n    return (\n      <div>\n        {!showCustomInput && <Label htmlFor={name}>{displayValue}</Label>}\n        <SliderAndInputWrapper showCustomInput={showCustomInput}>\n          <Slider\n            type=\"range\"\n            name={name}\n            min={min}\n            max={max}\n            step={step}\n            disabled={disabled}\n            onInput={this.handleInput}\n            onChange={() => {}}\n            onMouseUp={this.handleBlur}\n            onKeyUp={this.handleBlur}\n            value={sliderValue}\n            hasLabel={!showCustomInput}\n          />\n          {showCustomInput && (\n            <Input\n              placeholder={placeholder}\n              value={sliderValue}\n              onChange={this.handleCustomInputChange}\n              onBlur={this.handleCustomInputBlur}\n            />\n          )}\n        </SliderAndInputWrapper>\n      </div>\n    );\n  }\n}\n\nexport default RangeSlider;\n\nconst Slider = styled('input')<{hasLabel: boolean}>`\n  /* stylelint-disable-next-line property-no-vendor-prefix */\n  -webkit-appearance: none;\n  width: 100%;\n  margin: ${p => p.theme.grid}px 0 ${p => p.theme.grid * (p.hasLabel ? 2 : 1)}px;\n\n  &::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 3px;\n    cursor: pointer;\n    background: ${p => p.theme.border};\n    border-radius: 3px;\n    border: 0;\n  }\n\n  &::-moz-range-track {\n    width: 100%;\n    height: 3px;\n    cursor: pointer;\n    background: ${p => p.theme.border};\n    border-radius: 3px;\n    border: 0;\n  }\n\n  &::-ms-track {\n    width: 100%;\n    height: 3px;\n    cursor: pointer;\n    background: ${p => p.theme.border};\n    border-radius: 3px;\n    border: 0;\n  }\n\n  &::-webkit-slider-thumb {\n    box-shadow: 0 0 0 3px ${p => p.theme.background};\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: ${p => p.theme.active};\n    cursor: pointer;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-appearance: none;\n    margin-top: -7px;\n    border: 0;\n  }\n\n  &::-moz-range-thumb {\n    box-shadow: 0 0 0 3px ${p => p.theme.background};\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: ${p => p.theme.active};\n    cursor: pointer;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-appearance: none;\n    margin-top: -7px;\n    border: 0;\n  }\n\n  &::-ms-thumb {\n    box-shadow: 0 0 0 3px ${p => p.theme.background};\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: ${p => p.theme.active};\n    cursor: pointer;\n    /* stylelint-disable-next-line property-no-vendor-prefix */\n    -webkit-appearance: none;\n    margin-top: -7px;\n    border: 0;\n  }\n\n  &::-ms-fill-lower {\n    background: ${p => p.theme.border};\n    border: 0;\n    border-radius: 50%;\n  }\n\n  &::-ms-fill-upper {\n    background: ${p => p.theme.border};\n    border: 0;\n    border-radius: 50%;\n  }\n\n  &:focus {\n    outline: none;\n\n    &::-webkit-slider-runnable-track {\n      background: ${p => p.theme.border};\n    }\n\n    &::-ms-fill-upper {\n      background: ${p => p.theme.border};\n    }\n\n    &::-ms-fill-lower {\n      background: ${p => p.theme.border};\n    }\n  }\n\n  &[disabled] {\n    &::-webkit-slider-thumb {\n      background: ${p => p.theme.border};\n      cursor: default;\n    }\n\n    &::-moz-range-thumb {\n      background: ${p => p.theme.border};\n      cursor: default;\n    }\n\n    &::-ms-thumb {\n      background: ${p => p.theme.border};\n      cursor: default;\n    }\n\n    &::-webkit-slider-runnable-track {\n      cursor: default;\n    }\n\n    &::-moz-range-track {\n      cursor: default;\n    }\n\n    &::-ms-track {\n      cursor: default;\n    }\n  }\n`;\n\nconst Label = styled('label')`\n  font-size: 14px;\n  margin-bottom: ${p => p.theme.grid}px;\n  color: ${p => p.theme.subText};\n`;\n\nconst SliderAndInputWrapper = styled('div')<{showCustomInput?: boolean}>`\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-template-columns: 4fr ${p => p.showCustomInput && '1fr'};\n  grid-gap: ${space(1)};\n`;\n","import React from 'react';\nimport styled from '@emotion/styled';\nimport {Observer} from 'mobx-react';\nimport PropTypes from 'prop-types';\n\nimport {APIRequestMethod} from 'app/api';\nimport Button from 'app/components/button';\nimport Panel from 'app/components/panels/panel';\nimport {t} from 'app/locale';\nimport space from 'app/styles/space';\nimport {isRenderFunc} from 'app/utils/isRenderFunc';\nimport FormModel, {FormOptions} from 'app/views/settings/components/forms/model';\n\ntype Data = Record<string, any>;\n\ntype RenderProps = {\n  model: FormModel;\n};\n\ntype RenderFunc = (props: RenderProps) => React.ReactNode;\n\ntype Props = {\n  apiMethod?: APIRequestMethod;\n  apiEndpoint?: string;\n  children?: React.ReactNode | RenderFunc;\n  className?: string;\n  cancelLabel?: string;\n  submitDisabled?: boolean;\n  submitLabel?: string;\n  submitPriority?: React.ComponentProps<typeof Button>['priority'];\n  footerClass?: string;\n  footerStyle?: React.CSSProperties;\n  extraButton?: React.ReactNode;\n  initialData?: Data;\n  // Require changes before able to submit form\n  requireChanges?: boolean;\n  // Reset form when there are errors; after submit\n  resetOnError?: boolean;\n  hideFooter?: boolean;\n  allowUndo?: boolean;\n  // Save field on control blur\n  saveOnBlur?: boolean;\n  model?: FormModel;\n  // if set to true, preventDefault is not called\n  skipPreventDefault?: boolean;\n  additionalFieldProps?: {[key: string]: any};\n  'data-test-id'?: string;\n\n  onCancel?: (e: React.MouseEvent) => void;\n  onSubmit?: (\n    data: Data,\n    onSubmitSuccess: (data: Data) => void,\n    onSubmitError: (error: any) => void,\n    e: React.FormEvent,\n    model: FormModel\n  ) => void;\n  onPreSubmit?: () => void;\n} & Pick<FormOptions, 'onSubmitSuccess' | 'onSubmitError' | 'onFieldChange'>;\n\ntype Context = {\n  saveOnBlur: boolean;\n  form: FormModel;\n};\n\nexport default class Form extends React.Component<Props> {\n  static childContextTypes = {\n    saveOnBlur: PropTypes.bool,\n    form: PropTypes.object,\n  };\n\n  constructor(props: Props, context: Context) {\n    super(props, context);\n    const {\n      saveOnBlur,\n      apiEndpoint,\n      apiMethod,\n      resetOnError,\n      onSubmitSuccess,\n      onSubmitError,\n      onFieldChange,\n      initialData,\n      allowUndo,\n    } = props;\n\n    this.model.setInitialData(initialData);\n    this.model.setFormOptions({\n      resetOnError,\n      allowUndo,\n      onFieldChange,\n      onSubmitSuccess,\n      onSubmitError,\n      saveOnBlur,\n      apiEndpoint,\n      apiMethod,\n    });\n  }\n\n  getChildContext() {\n    return {\n      saveOnBlur: this.props.saveOnBlur,\n      form: this.model,\n    };\n  }\n\n  componentWillUnmount() {\n    this.model.reset();\n  }\n\n  model: FormModel = this.props.model || new FormModel();\n\n  onSubmit = e => {\n    !this.props.skipPreventDefault && e.preventDefault();\n    if (this.model.isSaving) {\n      return;\n    }\n\n    this.props.onPreSubmit?.();\n\n    if (this.props.onSubmit) {\n      this.props.onSubmit(\n        this.model.getData(),\n        this.onSubmitSuccess,\n        this.onSubmitError,\n        e,\n        this.model\n      );\n    } else {\n      this.model.saveForm();\n    }\n  };\n\n  onSubmitSuccess = data => {\n    const {onSubmitSuccess} = this.props;\n    this.model.submitSuccess(data);\n\n    if (onSubmitSuccess) {\n      onSubmitSuccess(data, this.model);\n    }\n  };\n\n  onSubmitError = error => {\n    const {onSubmitError} = this.props;\n    this.model.submitError(error);\n\n    if (onSubmitError) {\n      onSubmitError(error, this.model);\n    }\n  };\n\n  render() {\n    const {\n      className,\n      children,\n      footerClass,\n      footerStyle,\n      submitDisabled,\n      submitLabel,\n      submitPriority,\n      cancelLabel,\n      onCancel,\n      extraButton,\n      requireChanges,\n      saveOnBlur,\n      hideFooter,\n    } = this.props;\n    const shouldShowFooter =\n      typeof hideFooter !== 'undefined' ? !hideFooter : !saveOnBlur;\n\n    return (\n      <form\n        onSubmit={this.onSubmit}\n        className={className ?? 'form-stacked'}\n        data-test-id={this.props['data-test-id']}\n      >\n        <div>\n          {isRenderFunc<RenderFunc>(children) ? children({model: this.model}) : children}\n        </div>\n\n        {shouldShowFooter && (\n          <StyledFooter\n            className={footerClass}\n            style={footerStyle}\n            saveOnBlur={saveOnBlur}\n          >\n            {extraButton}\n            <DefaultButtons>\n              {onCancel && (\n                <Observer>\n                  {() => (\n                    <Button\n                      type=\"button\"\n                      disabled={this.model.isSaving}\n                      onClick={onCancel}\n                      style={{marginLeft: 5}}\n                    >\n                      {cancelLabel ?? t('Cancel')}\n                    </Button>\n                  )}\n                </Observer>\n              )}\n\n              <Observer>\n                {() => (\n                  <Button\n                    data-test-id=\"form-submit\"\n                    priority={submitPriority ?? 'primary'}\n                    disabled={\n                      this.model.isError ||\n                      this.model.isSaving ||\n                      submitDisabled ||\n                      (requireChanges ? !this.model.formChanged : false)\n                    }\n                    type=\"submit\"\n                  >\n                    {submitLabel ?? t('Save Changes')}\n                  </Button>\n                )}\n              </Observer>\n            </DefaultButtons>\n          </StyledFooter>\n        )}\n      </form>\n    );\n  }\n}\n\nconst StyledFooter = styled('div')<{saveOnBlur?: boolean}>`\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 25px;\n  border-top: 1px solid #e9ebec;\n  background: none;\n  padding: 16px 0 0;\n  margin-bottom: 16px;\n\n  ${p =>\n    !p.saveOnBlur &&\n    `\n  ${Panel} & {\n    margin-top: 0;\n    padding-right: 36px;\n  }\n\n  /* Better padding with form inside of a modal */\n  .modal-content & {\n    padding-right: 30px;\n    margin-left: -30px;\n    margin-right: -30px;\n    margin-bottom: -30px;\n    margin-top: 16px;\n    padding-bottom: 16px;\n  }\n  `};\n`;\n\nconst DefaultButtons = styled('div')`\n  display: grid;\n  grid-gap: ${space(1)};\n  grid-auto-flow: column;\n  justify-content: flex-end;\n  flex: 1;\n`;\n","import React from 'react';\n\nimport RangeSlider from 'app/views/settings/components/forms/controls/rangeSlider';\nimport InputField, {onEvent} from 'app/views/settings/components/forms/inputField';\n\ntype DefaultProps = {\n  formatMessageValue?: false | Function;\n};\n\ntype DisabledFunction = (props: Omit<Props, 'formatMessageValue'>) => boolean;\ntype PlaceholderFunction = (props: any) => React.ReactNode;\n\ntype Props = DefaultProps &\n  Omit<RangeSlider['props'], 'value' | 'disabled' | 'placeholder'> &\n  Omit<InputField['props'], 'disabled' | 'field'> & {\n    disabled?: boolean | DisabledFunction;\n    placeholder?: string | PlaceholderFunction;\n  };\n\nfunction onChange(\n  fieldOnChange: onEvent,\n  value: number | '',\n  e: React.FormEvent<HTMLInputElement>\n) {\n  fieldOnChange(value, e);\n}\n\nfunction defaultFormatMessageValue(value, props: Props) {\n  return (typeof props.formatLabel === 'function' && props.formatLabel(value)) || value;\n}\n\nexport default function RangeField({\n  formatMessageValue = defaultFormatMessageValue,\n  disabled,\n  ...otherProps\n}: Props) {\n  const resolvedDisabled =\n    typeof disabled === 'function' ? disabled(otherProps) : disabled;\n\n  const props: InputField['props'] = {\n    ...otherProps,\n    disabled: resolvedDisabled,\n    formatMessageValue,\n  };\n\n  return (\n    <InputField\n      {...props}\n      field={({onChange: fieldOnChange, onBlur, value, ...fieldProps}) => (\n        <RangeSlider\n          {...fieldProps}\n          value={value}\n          onBlur={onBlur}\n          onChange={(val, event) => onChange(fieldOnChange, val, event)}\n        />\n      )}\n    />\n  );\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport {HeaderTitle} from 'app/styles/organization';\nimport space from 'app/styles/space';\n\ntype Props = {\n  // Icon left of title\n  icon?: React.ReactNode;\n\n  // The title\n  title: React.ReactNode;\n  subtitle?: React.ReactNode;\n\n  // Disables font styles in the title. Allows for more custom titles.\n  noTitleStyles?: boolean;\n  className?: string;\n\n  // CTA button\n  action?: React.ReactNode;\n\n  body?: React.ReactNode;\n\n  tabs?: React.ReactNode;\n};\n\nclass UnstyledSettingsPageHeader extends React.Component<Props> {\n  static defaultProps = {\n    noTitleStyles: false,\n  };\n\n  render() {\n    const {\n      icon,\n      title,\n      subtitle,\n      action,\n      tabs,\n      noTitleStyles,\n      body,\n      ...props\n    } = this.props;\n\n    // If Header is narrow, use align-items to center <Action>.\n    // Otherwise, use a fixed margin to prevent an odd alignment.\n    // This is needed as Actions could be a button or a dropdown.\n    const isNarrow = !subtitle;\n\n    return (\n      <div {...props}>\n        <TitleAndActions isNarrow={isNarrow}>\n          <TitleWrapper>\n            {icon && <Icon>{icon}</Icon>}\n            {title && (\n              <Title tabs={tabs} styled={noTitleStyles}>\n                <HeaderTitle>{title}</HeaderTitle>\n                {subtitle && <Subtitle>{subtitle}</Subtitle>}\n              </Title>\n            )}\n          </TitleWrapper>\n          {action && <Action isNarrow={isNarrow}>{action}</Action>}\n        </TitleAndActions>\n\n        {body && <BodyWrapper>{body}</BodyWrapper>}\n        {tabs && <TabsWrapper>{tabs}</TabsWrapper>}\n      </div>\n    );\n  }\n}\n\ntype TitleProps = {\n  styled?: boolean;\n  tabs?: React.ReactNode;\n};\n\nconst TitleAndActions = styled('div')<{isNarrow?: boolean}>`\n  display: flex;\n  align-items: ${p => (p.isNarrow ? 'center' : 'flex-start')};\n`;\nconst TitleWrapper = styled('div')`\n  flex: 1;\n`;\n\nconst Title = styled('div')<TitleProps & React.HTMLProps<HTMLDivElement>>`\n  ${p => !p.styled && `font-size: 20px; font-weight: 600;`};\n  margin: ${space(4)} ${space(2)} ${space(3)} 0;\n`;\nconst Subtitle = styled('div')`\n  color: ${p => p.theme.gray400};\n  font-weight: 400;\n  font-size: ${p => p.theme.fontSizeLarge};\n  padding: ${space(1.5)} 0 0;\n`;\n\nconst Icon = styled('div')`\n  margin-right: ${space(1)};\n`;\n\nconst Action = styled('div')<{isNarrow?: boolean}>`\n  margin-top: ${p => (p.isNarrow ? '0' : space(4))};\n`;\n\nconst SettingsPageHeader = styled(UnstyledSettingsPageHeader)<\n  Omit<React.HTMLProps<HTMLDivElement>, keyof Props> & Props\n>`\n  font-size: 14px;\n  margin-top: -${space(4)};\n`;\n\nconst BodyWrapper = styled('div')`\n  flex: 1;\n  margin: 0 0 ${space(3)};\n`;\nconst TabsWrapper = styled('div')`\n  flex: 1;\n  margin: 0; /* sentry/components/navTabs has added margin */\n`;\n\nexport default SettingsPageHeader;\n","import React from 'react';\nimport {RouteComponentProps} from 'react-router';\n\nimport {Panel, PanelAlert, PanelBody, PanelHeader} from 'app/components/panels';\nimport {t, tct} from 'app/locale';\nimport {Organization} from 'app/types';\nimport Field from 'app/views/settings/components/forms/field';\nimport Form from 'app/views/settings/components/forms/form';\nimport RangeField from 'app/views/settings/components/forms/rangeField';\nimport SettingsPageHeader from 'app/views/settings/components/settingsPageHeader';\nimport TextBlock from 'app/views/settings/components/text/textBlock';\n\ntype Props = RouteComponentProps<{}, {}> & {\n  organization: Organization;\n};\n\nconst getRateLimitValues = () => {\n  const steps: number[] = [];\n  let i = 0;\n  while (i <= 1000000) {\n    steps.push(i);\n    if (i < 10000) {\n      i += 1000;\n    } else if (i < 100000) {\n      i += 10000;\n    } else {\n      i += 100000;\n    }\n  }\n  return steps;\n};\n\n// We can just generate this once\nconst ACCOUNT_RATE_LIMIT_VALUES = getRateLimitValues();\n\nconst OrganizationRateLimit = ({organization}: Props) => {\n  // TODO(billy): Update organization.quota in organizationStore with new values\n\n  const {quota} = organization;\n  const {maxRate, maxRateInterval, projectLimit, accountLimit} = quota;\n  const initialData = {\n    projectRateLimit: projectLimit || 100,\n    accountRateLimit: accountLimit,\n  };\n\n  return (\n    <div>\n      <SettingsPageHeader title={t('Rate Limits')} />\n\n      <Panel>\n        <PanelHeader>{t('Adjust Limits')}</PanelHeader>\n        <PanelBody>\n          <PanelAlert type=\"info\">\n            {t(`Rate limits allow you to control how much data is stored for this\n                organization. When a rate is exceeded the system will begin discarding\n                data until the next interval.`)}\n          </PanelAlert>\n\n          <Form\n            data-test-id=\"rate-limit-editor\"\n            saveOnBlur\n            allowUndo\n            apiMethod=\"PUT\"\n            apiEndpoint={`/organizations/${organization.slug}/`}\n            initialData={initialData}\n          >\n            {!maxRate ? (\n              <RangeField\n                name=\"accountRateLimit\"\n                label={t('Account Limit')}\n                min={0}\n                max={1000000}\n                allowedValues={ACCOUNT_RATE_LIMIT_VALUES}\n                help={t(\n                  'The maximum number of events to accept across this entire organization.'\n                )}\n                placeholder=\"e.g. 500\"\n                formatLabel={value =>\n                  !value\n                    ? t('No Limit')\n                    : tct('[number] per hour', {\n                        number: value.toLocaleString(),\n                      })\n                }\n              />\n            ) : (\n              <Field\n                label={t('Account Limit')}\n                help={t(\n                  'The maximum number of events to accept across this entire organization.'\n                )}\n              >\n                <TextBlock css={{marginBottom: 0}}>\n                  {tct(\n                    'Your account is limited to a maximum of [maxRate] events per [maxRateInterval] seconds.',\n                    {\n                      maxRate,\n                      maxRateInterval,\n                    }\n                  )}\n                </TextBlock>\n              </Field>\n            )}\n            <RangeField\n              name=\"projectRateLimit\"\n              label={t('Per-Project Limit')}\n              help={t(\n                'The maximum percentage of the account limit (set above) that an individual project can consume.'\n              )}\n              step={5}\n              min={50}\n              max={100}\n              formatLabel={value =>\n                value !== 100 ? (\n                  `${value}%`\n                ) : (\n                  <span\n                    dangerouslySetInnerHTML={{__html: `${t('No Limit')} &mdash; 100%`}}\n                  />\n                )\n              }\n            />\n          </Form>\n        </PanelBody>\n      </Panel>\n    </div>\n  );\n};\n\nexport default OrganizationRateLimit;\n","import React from 'react';\n\nimport withOrganization from 'app/utils/withOrganization';\n\nimport OrganizationRateLimits from './organizationRateLimits';\n\nconst OrganizationRateLimitsContainer = (\n  props: React.ComponentProps<typeof OrganizationRateLimits>\n) => (!props.organization ? null : <OrganizationRateLimits {...props} />);\n\nexport default withOrganization(OrganizationRateLimitsContainer);\n"],"sourceRoot":""}