(self.webpackChunk=self.webpackChunk||[]).push([["DebugImageDetails"],{"./app/components/events/interfaces/debugMeta-v2/debugImageDetails/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Zt,modalCss:()=>St});var a=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),r=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),u=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),d=n("../node_modules/@babel/runtime/helpers/esm/get.js"),c=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),p=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),m=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),f=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),g=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),h=n("../node_modules/@babel/runtime/regenerator/index.js"),b=n.n(h),Z=n("../node_modules/react/index.js"),y=n("../node_modules/@emotion/core/dist/core.browser.esm.js"),v=n("../node_modules/lodash/partition.js"),w=n.n(v),x=n("../node_modules/lodash/sortBy.js"),S=n.n(x),D=n("./app/actionCreators/indicator.tsx"),k=n("./app/components/alertLink.tsx"),O=n("./app/components/asyncComponent.tsx"),j=n("./app/components/button.tsx"),C=n("./app/components/buttonBar.tsx"),_=n("./app/locale.tsx"),E=n("./app/styles/space.tsx"),F=n("./app/types/debugFiles.tsx"),T=n("./app/types/debugImage.tsx"),R=n("./app/utils/displayReprocessEventAction.tsx"),B=n("./app/utils/theme.tsx"),z=n("./app/views/settings/projectDebugFiles/utils.tsx"),I=n("./app/components/events/interfaces/debugMeta-v2/utils.tsx"),P=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),N=n("../node_modules/lodash/debounce.js"),L=n.n(N),U=n("../node_modules/lodash/isEqual.js"),A=n.n(U),M=n("../node_modules/lodash/pick.js"),W=n.n(M),q=n("./app/components/links/externalLink.tsx"),K=n("./app/components/panels/panelTable.tsx"),G=n("./app/components/questionTooltip.tsx"),J=n("./app/components/searchBar.tsx"),Y=n("./app/utils.tsx"),$=n("./app/components/events/interfaces/debugMeta-v2/filter/index.tsx"),H=n("../node_modules/@sentry/minimal/esm/index.js"),V=n("../node_modules/@sentry/types/esm/severity.js"),X=n("./app/components/tag.tsx");const Q=function(e){switch(e.status){case T.il.OK:return(0,y.tZ)(X.Z,{type:"success"},(0,_.t)("Ok"));case T.il.ERROR:case T.il.MALFORMED:return(0,y.tZ)(X.Z,{type:"error"},(0,_.t)("Failed"));case T.il.NOT_FOUND:return(0,y.tZ)(X.Z,null,(0,_.t)("Not Found"));case T.il.NO_PERMISSION:return(0,y.tZ)(X.Z,{type:"highlight"},(0,_.t)("Permissions"));case T.il.DELETED:return(0,y.tZ)(X.Z,{type:"success"},(0,_.t)("Deleted"));case T.il.UNAPPLIED:return(0,y.tZ)(X.Z,{type:"warning"},(0,_.t)("Unapplied"));default:return H.$e((function(e){e.setLevel(V.z.Warning),H.Tb(new Error("Unknown image candidate download status"))})),(0,y.tZ)(X.Z,null,(0,_.t)("Unknown"))}};var ee="sentry:project",te="sentry://project_debug_file/",ne=n("./app/components/tooltip.tsx");function ae(e){var t=e.candidate,n=e.hasReprocessWarning,a=t.download,i=function(e,t){var n=e.download,a=e.location,i=e.source;switch(n.status){case T.il.OK:return{label:(0,_.t)("Download Details"),description:a,disabled:!a||i===ee};case T.il.ERROR:case T.il.MALFORMED:var r=n.details;return{label:(0,_.t)("Download Details"),description:r,disabled:!r};case T.il.NOT_FOUND:return{};case T.il.NO_PERMISSION:var o=n.details;return{label:(0,_.t)("Permission Error"),description:o,disabled:!o};case T.il.DELETED:return{label:(0,_.t)("This file was deleted after the issue was processed.")};case T.il.UNAPPLIED:return{label:t?(0,_.t)("This issue was processed before this debug information file was available. To apply new debug information, reprocess this issue."):(0,_.t)("This issue was processed before this debug information file was available")};default:return H.$e((function(e){e.setLevel(V.z.Warning),H.Tb(new Error("Unknown image candidate download status"))})),{}}}(t,n),r=i.label,o=i.description,s=i.disabled;return(0,y.tZ)(ne.Z,{title:r&&(0,y.tZ)(re,null,(0,y.tZ)(oe,null,r),o&&(0,y.tZ)("div",null,o)),disabled:s},(0,y.tZ)(Q,{status:a.status}))}ae.displayName="StatusTooltip";const ie=ae;var re=(0,g.Z)("div",{target:"exze6f60",label:"Title"})({name:"13brihr",styles:"text-align:left;"}),oe=(0,g.Z)("div",{target:"exze6f61",label:"Label"})("display:inline-block;margin-bottom:",(0,E.Z)(.25),";"),se=n("./app/components/acl/access.tsx"),le=n("./app/components/acl/role.tsx"),ue=n("./app/components/actions/button.tsx"),de=n("./app/components/actions/menuItemActionLink.tsx"),ce=n("./app/components/confirm.tsx"),pe=n("./app/components/dropdownLink.tsx"),me=n("./app/icons/index.tsx"),fe=(0,_.t)("You do not have permission to download debug files"),ge=(0,_.t)("You do not have permission to delete debug files"),he=(0,_.t)("Are you sure you wish to delete this file?");function be(e){var t=e.candidate,n=e.organization,a=e.isInternalSource,i=e.baseUrl,r=e.projectId,o=e.onDelete,s=t.download,l=t.location,u=s.status;if(!l||!a)return null;var d=u===T.il.DELETED,c="".concat(i,"/projects/").concat(n.slug,"/").concat(r,"/files/dsyms/?id=").concat(l),p=(0,y.tZ)(le.Z,{role:n.debugFilesRole,organization:n},(function(e){var t=e.hasRole;return(0,y.tZ)(se.Z,{access:["project:write"],organization:n},(function(e){var n=e.hasAccess;return(0,y.tZ)(Z.Fragment,null,(0,y.tZ)(ye,{caret:!1,customTitle:(0,y.tZ)(ue.Z,{label:(0,_.t)("Actions"),disabled:d,icon:(0,y.tZ)(me.YR,{size:"sm"})}),anchorRight:!0},(0,y.tZ)(ne.Z,{disabled:t,title:fe},(0,y.tZ)(de.Z,{shouldConfirm:!1,icon:(0,y.tZ)(me.Dj,{size:"xs"}),title:(0,_.t)("Download"),href:c,onClick:function(e){d&&e.preventDefault()},disabled:!t||d},(0,_.t)("Download"))),(0,y.tZ)(ne.Z,{disabled:n,title:ge},(0,y.tZ)(de.Z,{onAction:function(){return o(l)},message:he,title:(0,_.t)("Delete"),disabled:!n||d,shouldConfirm:!0},(0,_.t)("Delete")))),(0,y.tZ)(ve,{gap:1},(0,y.tZ)(ne.Z,{disabled:t,title:fe},(0,y.tZ)(j.ZP,{size:"xsmall",icon:(0,y.tZ)(me.Dj,{size:"xs"}),href:c,disabled:!t},(0,_.t)("Download"))),(0,y.tZ)(ne.Z,{disabled:n,title:ge},(0,y.tZ)(ce.Z,{confirmText:(0,_.t)("Delete"),message:he,onConfirm:function(){return o(l)},disabled:!n},(0,y.tZ)(j.ZP,{priority:"danger",icon:(0,y.tZ)(me.Fz,{size:"xs"}),size:"xsmall",disabled:!n})))))}))}));return d?(0,y.tZ)(ne.Z,{title:(0,_.t)("Actions not available because this debug file was deleted")},p):p}be.displayName="Actions";const Ze=be;var ye=(0,g.Z)(pe.Z,{target:"e1yh202n0",label:"StyledDropdownLink"})("display:none;@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){display:flex;align-items:center;transition:none;}"),ve=(0,g.Z)(C.Z,{target:"e1yh202n1",label:"StyledButtonBar"})("@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){display:none;}"),we=n("../node_modules/lodash/capitalize.js"),xe=n.n(we),Se=n("../node_modules/moment-timezone/index.js"),De=n.n(Se),ke=n("./app/components/dateTime.tsx"),Oe=n("./app/components/fileSize.tsx"),je=n("./app/components/timeSince.tsx"),Ce=n("./app/components/events/interfaces/debugMeta-v2/processing/item.tsx"),_e=n("./app/components/events/interfaces/debugMeta-v2/processing/list.tsx");function Ee(){return(0,y.tZ)(Te,null,"|")}Ee.displayName="Divider";const Fe=Ee;var Te=(0,g.Z)("div",{target:"e12uydbn0",label:"Wrapper"})("color:",(function(e){return e.theme.gray200}),";");function Re(e){var t=e.download,n=[];return t.status!==T.il.OK&&t.status!==T.il.DELETED&&t.status!==T.il.UNAPPLIED||(n=Object.keys(t.features).filter((function(e){return t.features[e]}))),(0,y.tZ)(Z.Fragment,null,Object.keys(T.xe).map((function(e){var t=function(e){switch(e){case T.xe.has_debug_info:return{label:(0,_.t)("debug"),description:(0,_.t)("Debug information provides function names and resolves inlined frames during symbolication")};case T.xe.has_sources:return{label:(0,_.t)("sources"),description:(0,_.t)("Source code information allows Sentry to display source code context for stack frames")};case T.xe.has_symbols:return{label:(0,_.t)("symtab"),description:(0,_.t)("Symbol tables are used as a fallback when full debug information is not available")};case T.xe.has_unwind_info:return{label:(0,_.t)("unwind"),description:(0,_.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps")};default:return H.$e((function(e){e.setLevel(V.z.Warning),H.Tb(new Error("Unknown image candidate feature"))})),{}}}(e),a=t.label,i=t.description,r=!n.includes(e);return(0,y.tZ)(ze,{key:a,disabled:r,tooltipText:r?void 0:i},a)})))}Re.displayName="Features";const Be=Re;var ze=(0,g.Z)(X.Z,{target:"e18zsjal0",label:"StyledTag"})("opacity:",(function(e){return e.disabled?"0.35":1}),";");const Ie=function(e){var t=e.processingInfo;switch(t.status){case T.kJ.OK:return(0,y.tZ)(me.DL,{color:"green300",size:"xs"});case T.kJ.ERROR:var n=t.details;return(0,y.tZ)(ne.Z,{title:n,disabled:!n},(0,y.tZ)(me.bM,{color:"red300",size:"xs"}));case T.kJ.MALFORMED:var a=t.details;return(0,y.tZ)(ne.Z,{title:a,disabled:!a},(0,y.tZ)(me.FC,{color:"yellow300",size:"xs"}));default:return H.$e((function(e){e.setLevel(V.z.Warning),H.Tb(new Error("Unknown image candidate ProcessingIcon status"))})),null}};function Pe(e){var t=e.candidate,n=e.isInternalSource,a=e.hasReprocessWarning,i=e.eventDateReceived,r=t.source_name,o=t.source,s=t.location,l=t.download;function u(e){var n=(0,y.tZ)(ke.Z,{date:e});return t.download.status===T.il.OK?n:De()(e).isBefore(i)?a?(0,y.tZ)(Z.Fragment,null,(0,_._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate. To apply new debug information, reprocess this issue.",{when:De()(i).from(e,!0)}),(0,y.tZ)(We,null,n)):(0,y.tZ)(Z.Fragment,null,(0,_._N)("This debug file was uploaded [when] before this event. It takes up to 1 hour for new files to propagate.",{when:De()(i).from(e,!0)}),(0,y.tZ)(We,null,n)):(a&&(0,y.tZ)(Z.Fragment,null,(0,_._N)("This debug file was uploaded [when] after this event. To apply new debug information, reprocess this issue.",{when:De()(e).from(i,!0)}),(0,y.tZ)(We,null,n)),(0,y.tZ)(Z.Fragment,null,(0,_._N)("This debug file was uploaded [when] after this event.",{when:De()(i).from(e,!0)}),(0,y.tZ)(We,null,n)))}var d=function(){if(t.download.status===T.il.UNAPPLIED||t.download.status===T.il.OK&&n){var e=t,a=e.symbolType,i=e.filename;return a===T.Ko.PROGUARD&&"proguard-mapping"===i?null:i}return s&&!n?s:null}();return(0,y.tZ)(Le,null,(0,y.tZ)("div",null,(0,y.tZ)("strong",{"data-test-id":"source_name"},r?xe()(r):(0,_.t)("Unknown")),d&&(0,y.tZ)(Ue,null,d)),(0,y.tZ)(Ae,null,function(){if(t.download.status!==T.il.UNAPPLIED&&t.download.status!==T.il.OK||o!==ee)return null;var e=t,n=e.symbolType,a=e.fileType,i=e.cpuName,r=e.size,s=e.dateCreated;return(0,y.tZ)(Z.Fragment,null,(0,y.tZ)(ne.Z,{title:u(s)},(0,y.tZ)(Me,null,t.download.status===T.il.UNAPPLIED&&(0,y.tZ)(me.FC,{color:"red300",size:"xs"}),(0,_._N)("Uploaded [timesince]",{timesince:(0,y.tZ)(je.Z,{disabledAbsoluteTooltip:!0,date:s})}))),(0,y.tZ)(Fe,null),(0,y.tZ)(Oe.Z,{bytes:r}),(0,y.tZ)(Fe,null),(0,y.tZ)("span",null,n===T.Ko.PROGUARD&&"any"===i?(0,_.t)("proguard mapping"):"".concat(n).concat(a?" ".concat(a):"")),(0,y.tZ)(Fe,null))}(),function(){if(t.download.status!==T.il.OK&&t.download.status!==T.il.DELETED)return null;var e=[],n=t,a=n.debug,i=n.unwind;return a&&e.push((0,y.tZ)(Ce.Z,{key:"symbolication",type:"symbolication",icon:(0,y.tZ)(Ie,{processingInfo:a})})),i&&e.push((0,y.tZ)(Ce.Z,{key:"stack_unwinding",type:"stack_unwinding",icon:(0,y.tZ)(Ie,{processingInfo:i})})),e.length?(0,y.tZ)(Z.Fragment,null,(0,y.tZ)(qe,{items:e}),(0,y.tZ)(Fe,null)):null}(),(0,y.tZ)(Be,{download:l})))}Pe.displayName="Information";const Ne=Pe;var Le=(0,g.Z)("div",{target:"ehqoafm0",label:"Wrapper"})({name:"lh0gox",styles:"white-space:pre-wrap;word-break:break-all;max-width:100%;"}),Ue=(0,g.Z)("span",{target:"ehqoafm1",label:"FilenameOrLocation"})("padding-left:",(0,E.Z)(1),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),Ae=(0,g.Z)("div",{target:"ehqoafm2",label:"Details"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",(0,E.Z)(1),";color:",(function(e){return e.theme.gray400}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";"),Me=(0,g.Z)("div",{target:"ehqoafm3",label:"TimeSinceWrapper"})("display:grid;grid-template-columns:max-content 1fr;align-items:center;grid-gap:",(0,E.Z)(.5),";"),We=(0,g.Z)("div",{target:"ehqoafm4",label:"DateTimeWrapper"})("padding-top:",(0,E.Z)(1),";"),qe=(0,g.Z)(_e.Z,{target:"ehqoafm5",label:"StyledProcessingList"})("display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",(0,E.Z)(1),";");function Ke(e){var t=e.candidate,n=e.builtinSymbolSources,a=e.organization,i=e.projectId,r=e.baseUrl,o=e.haveCandidatesAtLeastOneAction,s=e.hasReprocessWarning,l=e.onDelete,u=e.eventDateReceived,d=t.source===ee;return(0,y.tZ)(Z.Fragment,null,(0,y.tZ)(Je,null,(0,y.tZ)(ie,{candidate:t,hasReprocessWarning:s})),(0,y.tZ)(Ye,null,(0,y.tZ)(Ne,{candidate:t,builtinSymbolSources:n,isInternalSource:d,eventDateReceived:u,hasReprocessWarning:s})),o&&(0,y.tZ)($e,null,(0,y.tZ)(Ze,{onDelete:l,baseUrl:r,projectId:i,organization:a,candidate:t,isInternalSource:d})))}Ke.displayName="Candidate";const Ge=Ke;var Je=(0,g.Z)("div",{target:"e19z2lid0",label:"Column"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),Ye=(0,g.Z)(Je,{target:"e19z2lid1",label:"InformationColumn"})({name:"103surx",styles:"flex-direction:column;align-items:flex-start;"}),$e=(0,g.Z)(Je,{target:"e19z2lid2",label:"ActionsColumn"})({name:"1a9getn",styles:"justify-content:flex-end;"});function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe=(0,_.t)("Status"),Qe=(0,_.t)("Source"),et=function(e){(0,c.Z)(r,e);var t,n,a=(t=r,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,m.Z)(t);if(n){var i=(0,m.Z)(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return(0,p.Z)(this,e)});function r(){var e;(0,s.Z)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=a.call.apply(a,[this].concat(n)),(0,f.Z)((0,u.Z)(e),"state",{searchTerm:"",filterOptions:{},filteredCandidatesBySearch:[],filteredCandidatesByFilter:[]}),(0,f.Z)((0,u.Z)(e),"doSearch",L()(e.filterCandidatesBySearch,300)),(0,f.Z)((0,u.Z)(e),"handleChangeSearchTerm",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({searchTerm:t})})),(0,f.Z)((0,u.Z)(e),"handleChangeFilter",(function(t){var n=e.state.filteredCandidatesBySearch,a=e.getFilteredCandidatedByFilter(n,t);e.setState({filterOptions:t,filteredCandidatesByFilter:a})})),(0,f.Z)((0,u.Z)(e),"handleResetFilter",(function(){var t=e.state.filterOptions;e.setState({filterOptions:Object.keys(t).reduce((function(e,n){return e[n]=t[n].map((function(e){return Ve(Ve({},e),{},{isChecked:!1})})),e}),{})},e.filterCandidatesBySearch)})),(0,f.Z)((0,u.Z)(e),"handleResetSearchBar",(function(){var t=e.props.candidates;e.setState({searchTerm:"",filteredCandidatesByFilter:t,filteredCandidatesBySearch:t})})),e}return(0,l.Z)(r,[{key:"componentDidMount",value:function(){this.getFilters()}},{key:"componentDidUpdate",value:function(e,t){A()(e.candidates,this.props.candidates)?t.searchTerm!==this.state.searchTerm&&this.doSearch():this.getFilters()}},{key:"filterCandidatesBySearch",value:function(){var e=this.state,t=e.searchTerm,n=e.filterOptions,a=this.props.candidates;if(t.trim()){var i=JSON.stringify(t).replace(/((^")|("$))/g,"").toLocaleLowerCase(),r=a.filter((function(e){return Object.keys(W()(e,["source_name","location"])).some((function(t){var n=e[t];return("location"!==t||"number"!=typeof Number(n))&&!(!(0,Y.ri)(n)||!String(n).trim())&&JSON.stringify(n).replace(/((^")|("$))/g,"").toLocaleLowerCase().trim().includes(i)}))})),o=this.getFilteredCandidatedByFilter(r,n);this.setState({filteredCandidatesBySearch:r,filteredCandidatesByFilter:o})}else{var s=this.getFilteredCandidatedByFilter(a,n);this.setState({filteredCandidatesBySearch:a,filteredCandidatesByFilter:s})}}},{key:"getFilters",value:function(){var e=(0,i.Z)(this.props.candidates),t=this.getFilterOptions(e);this.setState({filterOptions:t,filteredCandidatesBySearch:e,filteredCandidatesByFilter:this.getFilteredCandidatedByFilter(e,t)})}},{key:"getFilterOptions",value:function(e){var t=this.props.imageStatus,n={},a=(0,i.Z)(new Set(e.map((function(e){return e.download.status}))));a.length>1&&(n[Xe]=a.map((function(e){return{id:e,symbol:(0,y.tZ)(Q,{status:e}),isChecked:e!==T.il.NOT_FOUND||t===T.zu.MISSING}})));var r=(0,i.Z)(new Set(e.map((function(e){var t;return null!==(t=e.source_name)&&void 0!==t?t:(0,_.t)("Unknown")}))));return r.length>1&&(n[Qe]=r.map((function(e){return{id:e,symbol:e,isChecked:!1}}))),n}},{key:"getFilteredCandidatedByFilter",value:function(e,t){var n,a,i=new Set(null===(n=t[Xe])||void 0===n?void 0:n.filter((function(e){return e.isChecked})).map((function(e){return e.id}))),r=new Set(null===(a=t[Qe])||void 0===a?void 0:a.filter((function(e){return e.isChecked})).map((function(e){return e.id})));if(0===i.size&&0===r.size)return e;if(i.size>0){var o=e.filter((function(e){return i.has(e.download.status)}));return 0===r.size?o:o.filter((function(e){var t;return r.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}return e.filter((function(e){var t;return r.has(null!==(t=null==e?void 0:e.source_name)&&void 0!==t?t:"")}))}},{key:"getEmptyMessage",value:function(){var e=this.state,t=e.searchTerm,n=e.filteredCandidatesByFilter,a=e.filterOptions;if(n.length)return{};var i=Object.values(a).flatMap((function(e){return e})).find((function(e){return e.isChecked}));return t||i?{emptyMessage:(0,_.t)("Sorry, no debug files match your search query"),emptyAction:i?(0,y.tZ)(j.ZP,{onClick:this.handleResetFilter,priority:"primary"},(0,_.t)("Reset filter")):(0,y.tZ)(j.ZP,{onClick:this.handleResetSearchBar,priority:"primary"},(0,_.t)("Clear search bar"))}:{emptyMessage:(0,_.t)("There are no debug files to be displayed")}}},{key:"render",value:function(){var e=this,t=this.props,n=t.organization,a=t.projectId,i=t.baseUrl,r=t.builtinSymbolSources,o=t.onDelete,s=t.isLoading,l=t.candidates,u=t.eventDateReceived,d=t.hasReprocessWarning,c=this.state,p=c.searchTerm,m=c.filterOptions,f=c.filteredCandidatesByFilter,g=l.some((function(e){return e.download.status===T.il.OK&&e.source===ee||e.download.status===T.il.DELETED}))||d;return(0,y.tZ)(nt,null,(0,y.tZ)(at,null,(0,y.tZ)(it,null,(0,_.t)("Debug File Candidates"),(0,y.tZ)(G.Z,{title:(0,_._N)("These are the Debug Information Files (DIFs) corresponding to this image which have been looked up on [docLink:symbol servers] during the processing of the stacktrace.",{docLink:(0,y.tZ)(q.Z,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/symbol-servers/"})}),size:"xs",position:"top",isHoverable:!0})),!!l.length&&(0,y.tZ)(rt,null,(0,y.tZ)(ot,{options:m,onFilter:this.handleChangeFilter}),(0,y.tZ)(st,{query:p,onChange:function(t){return e.handleChangeSearchTerm(t)},placeholder:(0,_.t)("Search debug file candidates")}))),(0,y.tZ)(lt,(0,P.Z)({headers:g?[(0,_.t)("Status"),(0,_.t)("Information"),""]:[(0,_.t)("Status"),(0,_.t)("Information")],isEmpty:!f.length,isLoading:s},this.getEmptyMessage()),f.map((function(e,t){return(0,y.tZ)(Ge,{key:t,candidate:e,builtinSymbolSources:r,organization:n,baseUrl:i,projectId:a,eventDateReceived:u,hasReprocessWarning:d,haveCandidatesAtLeastOneAction:g,onDelete:o})}))))}}]),r}(Z.Component);et.displayName="Candidates";const tt=et;var nt=(0,g.Z)("div",{target:"eex5oi50",label:"Wrapper"})({name:"lgj0h8",styles:"display:grid;"}),at=(0,g.Z)("div",{target:"eex5oi51",label:"Header"})("display:flex;flex-direction:column;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){flex-wrap:wrap;flex-direction:row;}"),it=(0,g.Z)("div",{target:"eex5oi52",label:"Title"})("padding-right:",(0,E.Z)(4),";display:grid;grid-gap:",(0,E.Z)(.5),";grid-template-columns:repeat(2,max-content);align-items:center;font-weight:600;color:",(function(e){return e.theme.gray400}),";margin-bottom:",(0,E.Z)(2),";"),rt=(0,g.Z)("div",{target:"eex5oi53",label:"Search"})("flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start;.drop-down-filter-menu{border-top-right-radius:",(function(e){return e.theme.borderRadius}),";}@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){flex-direction:row;justify-content:flex-end;}"),ot=(0,g.Z)($.Z,{target:"eex5oi54",label:"StyledFilter"})("margin-bottom:",(0,E.Z)(2),";"),st=(0,g.Z)(J.Z,{target:"eex5oi55",label:"StyledSearchBar"})("width:100%;margin-bottom:",(0,E.Z)(2),";position:relative;.search-input{height:32px;}.search-clear-form,.search-input-icon{height:32px;display:flex;align-items:center;}@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){max-width:600px;.search-input,.search-input:focus{border-top-left-radius:0;border-bottom-left-radius:0;}}"),lt=(0,g.Z)(K.Z,{target:"eex5oi56",label:"StyledPanelTable"})("grid-template-columns:",(function(e){return 3===e.headers.length?"max-content 1fr max-content":"max-content 1fr"}),";height:100%;@media (min-width:",(function(e){return e.theme.breakpoints[2]}),"){overflow:visible;}"),ut=n("./app/components/notAvailable.tsx"),dt=n("./app/components/events/interfaces/debugMeta-v2/debugImage/processings.tsx");function ct(e){var t=e.image,n=null!=t?t:{},a=n.debug_id,i=n.debug_file,r=n.code_id,o=n.code_file,s=n.arch,l=n.unwind_status,u=n.debug_status,d=t?(0,I.a$)(t):void 0;return(0,y.tZ)(mt,null,(0,y.tZ)(ft,{coloredBg:!0},(0,_.t)("Address Range")),(0,y.tZ)(gt,{coloredBg:!0},null!=d?d:(0,y.tZ)(ut.Z,null)),(0,y.tZ)(ft,null,(0,_.t)("Debug ID")),(0,y.tZ)(gt,null,null!=a?a:(0,y.tZ)(ut.Z,null)),(0,y.tZ)(ft,{coloredBg:!0},(0,_.t)("Debug File")),(0,y.tZ)(gt,{coloredBg:!0},null!=i?i:(0,y.tZ)(ut.Z,null)),(0,y.tZ)(ft,null,(0,_.t)("Code ID")),(0,y.tZ)(gt,null,null!=r?r:(0,y.tZ)(ut.Z,null)),(0,y.tZ)(ft,{coloredBg:!0},(0,_.t)("Code File")),(0,y.tZ)(gt,{coloredBg:!0},null!=o?o:(0,y.tZ)(ut.Z,null)),(0,y.tZ)(ft,null,(0,_.t)("Architecture")),(0,y.tZ)(gt,null,null!=s?s:(0,y.tZ)(ut.Z,null)),(0,y.tZ)(ft,{coloredBg:!0},(0,_.t)("Processing")),(0,y.tZ)(gt,{coloredBg:!0},l||u?(0,y.tZ)(dt.Z,{unwind_status:l,debug_status:u}):(0,y.tZ)(ut.Z,null)))}ct.displayName="GeneralInfo";const pt=ct;var mt=(0,g.Z)("div",{target:"eqrtww0",label:"Wrapper"})({name:"1drfnak",styles:"display:grid;grid-template-columns:max-content 1fr;"}),ft=(0,g.Z)("div",{target:"eqrtww1",label:"Label"})("color:",(function(e){return e.theme.textColor}),";padding:",(0,E.Z)(1)," ",(0,E.Z)(1.5)," ",(0,E.Z)(1)," ",(0,E.Z)(1),";",(function(e){return e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")})),gt=(0,g.Z)(ft,{target:"eqrtww2",label:"Value"})("white-space:pre-wrap;word-break:break-all;color:",(function(e){return e.theme.subText}),";padding:",(0,E.Z)(1),";font-family:",(function(e){return e.theme.text.familyMono}),";",(function(e){return e.coloredBg&&"background-color: ".concat(e.theme.backgroundSecondary,";")}));function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Zt=function(e){(0,c.Z)(h,e);var t,n,g=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,m.Z)(t);if(n){var i=(0,m.Z)(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return(0,p.Z)(this,e)});function h(){var e;(0,s.Z)(this,h);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=g.call.apply(g,[this].concat(n)),(0,f.Z)((0,u.Z)(e),"handleDelete",function(){var t=(0,o.Z)(b().mark((function t(n){var a,i,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,i=a.organization,r=a.projectId,e.setState({loading:!0}),t.prev=2,t.next=5,e.api.requestPromise("/projects/".concat(i.slug,"/").concat(r,"/files/dsyms/?id=").concat(n),{method:"DELETE"});case 5:e.fetchData(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),(0,D.Iw)((0,_.t)("An error occurred while deleting the debug file.")),e.setState({loading:!1});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,l.Z)(h,[{key:"getDefaultState",value:function(){return bt(bt({},(0,d.Z)((0,m.Z)(h.prototype),"getDefaultState",this).call(this)),{},{debugFiles:[],builtinSymbolSources:[]})}},{key:"componentDidUpdate",value:function(e,t){!e.image&&this.props.image&&this.remountComponent(),(0,d.Z)((0,m.Z)(h.prototype),"componentDidUpdate",this).call(this,e,t)}},{key:"getUplodedDebugFiles",value:function(e){return e.find((function(e){return e.source===ee}))}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.projectId,a=e.image;if(!a)return[];var i=a.debug_id,r=a.candidates,o=void 0===r?[]:r,s=(this.state||{}).builtinSymbolSources,l=[];return this.getUplodedDebugFiles(o)&&l.push(["debugFiles","/projects/".concat(t.slug,"/").concat(n,"/files/dsyms/?debug_id=").concat(i),{query:{file_formats:["breakpad","macho","elf","pe","pdb","sourcebundle"]}}]),null!=s&&s.length||!t.features.includes("symbol-sources")||l.push(["builtinSymbolSources","/builtin-symbol-sources/",{}]),l}},{key:"sortCandidates",value:function(e,t){var n=w()(e,(function(e){return e.download.status===T.il.NO_PERMISSION})),a=(0,r.Z)(n,2),o=a[0],s=a[1],l=w()(s,(function(e){return e.download.status===T.il.MALFORMED})),u=(0,r.Z)(l,2),d=u[0],c=u[1],p=w()(c,(function(e){return e.download.status===T.il.ERROR})),m=(0,r.Z)(p,2),f=m[0],g=m[1],h=w()(g,(function(e){return e.download.status===T.il.OK})),b=(0,r.Z)(h,2),Z=b[0],y=b[1],v=w()(y,(function(e){return e.download.status===T.il.DELETED})),x=(0,r.Z)(v,2),D=x[0],k=x[1];return[].concat((0,i.Z)(S()(o,["source_name","location"])),(0,i.Z)(S()(d,["source_name","location"])),(0,i.Z)(S()(f,["source_name","location"])),(0,i.Z)(S()(Z,["source_name","location"])),(0,i.Z)(S()(D,["source_name","location"])),(0,i.Z)(S()(t,["source_name","location"])),(0,i.Z)(S()(k,["source_name","location"])))}},{key:"getCandidates",value:function(){var e=this.state,t=e.debugFiles,n=e.loading,o=this.props.image,s=(null!=o?o:{}).candidates,l=void 0===s?[]:s;if(!t||n)return l;var u=l.map((function(e){var t=e.location;return bt(bt({},(0,a.Z)(e,["location"])),{},{location:null!=t&&t.includes(te)?t.split(te)[1]:t})})),d=new Set(u.map((function(e){return e.location})).filter((function(e){return!!e}))),c=w()(t,(function(e){return!d.has(e.id)})),p=(0,r.Z)(c,2),m=p[0],f=p[1],g=m.map((function(e){var t,n=e.data,a=e.symbolType,i=e.objectName,r=e.id,o=e.size,s=e.dateCreated,l=e.cpuName,u=null!==(t=null==n?void 0:n.features)&&void 0!==t?t:[];return{download:{status:T.il.UNAPPLIED,features:{has_sources:u.includes(F.W.SOURCES),has_debug_info:u.includes(F.W.DEBUG),has_unwind_info:u.includes(F.W.UNWIND),has_symbols:u.includes(F.W.SYMTAB)}},cpuName:l,location:r,filename:i,size:o,dateCreated:s,symbolType:a,fileType:(0,z.J)(e),source:ee,source_name:(0,_.t)("Sentry")}})),h=w()(u,(function(e){return e.download.status===T.il.OK&&e.source===ee})),b=(0,r.Z)(h,2),Z=b[0],y=b[1],v=Z.map((function(e){var t=f.find((function(t){return t.id===e.location}));if(!t)return bt(bt({},e),{},{download:bt(bt({},e.download),{},{status:T.il.DELETED})});var n=t.symbolType,a=t.objectName,i=t.id,r=t.size,o=t.dateCreated,s=t.cpuName;return bt(bt({},e),{},{cpuName:s,location:i,filename:a,size:r,dateCreated:o,symbolType:n,fileType:(0,z.J)(t)})}));return this.sortCandidates([].concat((0,i.Z)(v),(0,i.Z)(y)),g)}},{key:"getDebugFilesSettingsLink",value:function(){var e=this.props,t=e.organization,n=e.projectId,a=e.image,i=t.slug,r=null==a?void 0:a.debug_id;if(i&&n&&r)return"/settings/".concat(i,"/projects/").concat(n,"/debug-symbols/?query=").concat(r)}},{key:"renderBody",value:function(){var e=this.props,t=e.Header,n=e.Body,a=e.Footer,i=e.image,r=e.organization,o=e.projectId,s=e.onReprocessEvent,l=e.event,u=this.state,d=u.loading,c=u.builtinSymbolSources,p=null!=i?i:{},m=p.code_file,f=p.status,g=this.getDebugFilesSettingsLink(),h=this.getCandidates(),b=this.api.baseUrl,v=(0,I.UO)(m),w=h.some((function(e){return e.download.status===T.il.UNAPPLIED}))&&(0,R.B)(r.features,l)&&!!s;return(0,y.tZ)(Z.Fragment,null,(0,y.tZ)(t,{closeButton:!0},(0,y.tZ)(vt,null,(0,_.t)("Image"),(0,y.tZ)(wt,null,null!=v?v:(0,_.t)("Unknown")))),(0,y.tZ)(n,null,(0,y.tZ)(yt,null,w&&(0,y.tZ)(k.Z,{priority:"warning",size:"small",onClick:s,withoutMarginBottom:!0},(0,_.t)("You’ve uploaded new debug files. Reprocess events in this issue to view a better stack trace")),(0,y.tZ)(pt,{image:i}),(0,y.tZ)(tt,{imageStatus:f,candidates:h,organization:r,projectId:o,baseUrl:b,isLoading:d,eventDateReceived:l.dateReceived,builtinSymbolSources:c,onDelete:this.handleDelete,hasReprocessWarning:w}))),(0,y.tZ)(a,null,(0,y.tZ)(xt,{gap:1},(0,y.tZ)(j.ZP,{href:"https://docs.sentry.io/platforms/native/data-management/debug-files/",external:!0},(0,_.t)("Read the docs")),g&&(0,y.tZ)(j.ZP,{title:(0,_.t)("Search for this debug file in all images for the %s project",o),to:g},(0,_.t)("Open in Settings")))))}}]),h}(O.Z);var yt=(0,g.Z)("div",{target:"ez3htky0",label:"Content"})("display:grid;grid-gap:",(0,E.Z)(3),";font-size:",(function(e){return e.theme.fontSizeMedium}),";"),vt=(0,g.Z)("div",{target:"ez3htky1",label:"Title"})("display:grid;grid-template-columns:max-content 1fr;grid-gap:",(0,E.Z)(1),";align-items:center;font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";max-width:calc(100% - 40px);word-break:break-all;"),wt=(0,g.Z)("span",{target:"ez3htky2",label:"FileName"})("font-family:",(function(e){return e.theme.text.familyMono}),";"),xt=(0,g.Z)(C.Z,{target:"ez3htky3",label:"StyledButtonBar"})({name:"epvm6",styles:"white-space:nowrap;"}),St=(0,y.iv)(".modal-content{overflow:initial;}@media (min-width:",B.ZP.breakpoints[0],"){.modal-dialog{width:90%;margin-left:-45%;}}@media (min-width:",B.ZP.breakpoints[3],"){.modal-dialog{width:70%;margin-left:-35%;}}@media (min-width:",B.ZP.breakpoints[4],"){.modal-dialog{width:50%;margin-left:-25%;}};label:modalCss;")},"./app/types/debugFiles.tsx":(e,t,n)=>{"use strict";var a,i;n.d(t,{B:()=>a,W:()=>i}),function(e){e.EXE="exe",e.DBG="dbg",e.LIB="lib"}(a||(a={})),function(e){e.SYMTAB="symtab",e.DEBUG="debug",e.UNWIND="unwind",e.SOURCES="sources"}(i||(i={}))},"./app/views/settings/projectDebugFiles/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{J:()=>r,V:()=>o});var a=n("./app/locale.tsx"),i=n("./app/types/debugFiles.tsx");function r(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.type){case i.B.EXE:return(0,a.t)("executable");case i.B.DBG:return(0,a.t)("debug companion");case i.B.LIB:return(0,a.t)("dynamic library");default:return null}}function o(e){switch(e){case i.W.SYMTAB:return(0,a.t)("Symbol tables are used as a fallback when full debug information is not available");case i.W.DEBUG:return(0,a.t)("Debug information provides function names and resolves inlined frames during symbolication");case i.W.UNWIND:return(0,a.t)("Stack unwinding information improves the quality of stack traces extracted from minidumps");case i.W.SOURCES:return(0,a.t)("Source code information allows Sentry to display source code context for stack frames");default:return null}}}}]);
//# sourceMappingURL=DebugImageDetails.js.map