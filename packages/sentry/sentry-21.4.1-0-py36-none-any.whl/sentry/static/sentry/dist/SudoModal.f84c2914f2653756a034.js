(self.webpackChunk=self.webpackChunk||[]).push([["SudoModal"],{"./app/components/modals/sudoModal.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{SudoModal:()=>N,default:()=>U});var r=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),p=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),d=n("../node_modules/@babel/runtime/regenerator/index.js"),m=n.n(d),f=n("../node_modules/react/index.js"),h=n("../node_modules/react-router/es/index.js"),g=n("./app/components/alert.tsx"),v=n("./app/components/button.tsx"),_=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),y=n("./app/utils/withApi.tsx"),b=n("./app/components/u2f/u2fsign.tsx"),E=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var Z=function(e){(0,a.Z)(f,e);var t,n,c,d=(n=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,l.Z)(n);if(c){var r=(0,l.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,u.Z)(this,e)});function f(){var e;(0,o.Z)(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=d.call.apply(d,[this].concat(n)),(0,p.Z)((0,i.Z)(e),"state",{authenticators:[]}),e}return(0,s.Z)(f,[{key:"componentDidMount",value:function(){this.getAuthenticators()}},{key:"getAuthenticators",value:(t=(0,r.Z)(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.api,e.prev=1,e.next=4,t.requestPromise("/authenticators/");case 4:n=e.sent,this.setState({authenticators:null!=n?n:[]}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.className,n=this.state.authenticators;return n.length?(0,E.tZ)("div",{className:t},n.map((function(t){return"u2f"===t.id&&t.challenge?(0,E.tZ)(b.Z,(0,_.Z)({key:t.id},e.props,{challengeData:t.challenge})):null}))):null}}]),f}(f.Component);Z.displayName="U2fContainer";const S=(0,y.Z)(Z);var R=n("./app/icons/index.tsx"),P=n("./app/locale.tsx"),I=n("./app/stores/configStore.tsx"),T=n("./app/styles/space.tsx"),w=n("./app/views/settings/components/forms/form.tsx"),C=n("./app/views/settings/components/forms/inputField.tsx"),O=n("./app/views/settings/components/text/textBlock.tsx");var N=function(e){(0,a.Z)(d,e);var t,n,c=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function d(){var e;(0,o.Z)(this,d);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e=c.call.apply(c,[this].concat(n)),(0,p.Z)((0,i.Z)(e),"state",{error:!1,busy:!1}),(0,p.Z)((0,i.Z)(e),"handleSuccess",(function(){var t=e.props,n=t.closeModal,r=t.superuser,o=t.location,s=t.router,i=t.retryRequest;i?r?s.replace({pathname:o.pathname,state:{forceUpdate:new Date}}):e.setState({busy:!0},(function(){i().then((function(){e.setState({busy:!1},n)}))})):n()})),(0,p.Z)((0,i.Z)(e),"handleError",(function(){e.setState({busy:!1,error:!0})})),(0,p.Z)((0,i.Z)(e),"handleU2fTap",function(){var t=(0,r.Z)(m().mark((function t(n){var r;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({busy:!0}),r=e.props.api,t.prev=2,t.next=5,r.requestPromise("/auth/",{method:"PUT",data:n});case 5:e.handleSuccess(),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(2),e.setState({busy:!1}),t.t0;case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,s.Z)(d,[{key:"renderBodyContent",value:function(){var e=this.props.superuser,t=this.state.error,n=I.Z.get("user");return n.hasPasswordAuth?(0,E.tZ)(f.Fragment,null,(0,E.tZ)(x,null,e?(0,P.t)("You are attempting to access a resource that requires superuser access, please re-authenticate as a superuser."):(0,P.t)("Help us keep your account safe by confirming your identity.")),t&&(0,E.tZ)(A,{type:"error",icon:(0,E.tZ)(R.Gy,{size:"md"})},(0,P.t)("Incorrect password")),(0,E.tZ)(w.Z,{apiMethod:"PUT",apiEndpoint:"/auth/",submitLabel:(0,P.t)("Confirm Password"),onSubmitSuccess:this.handleSuccess,onSubmitError:this.handleError,hideFooter:!n.hasPasswordAuth,resetOnError:!0},(0,E.tZ)(j,{type:"password",inline:!1,label:(0,P.t)("Password"),name:"password",autoFocus:!0,flexibleControlStateSize:!0}),(0,E.tZ)(S,{displayMode:"sudo",onTap:this.handleU2fTap}))):(0,E.tZ)(f.Fragment,null,(0,E.tZ)(O.Z,null,(0,P.t)("You will need to reauthenticate to continue.")),(0,E.tZ)(v.ZP,{priority:"primary",href:"/auth/login/?next=".concat(encodeURIComponent(location.pathname))},(0,P.t)("Continue")))}},{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.Header,r=e.Body;return(0,E.tZ)(f.Fragment,null,(0,E.tZ)(n,{closeButton:!0,onHide:t},(0,P.t)("Confirm Password to Continue")),(0,E.tZ)(r,null,this.renderBodyContent()))}}]),d}(f.Component);N.displayName="SudoModal";const U=(0,h.withRouter)((0,y.Z)(N));var x=(0,c.Z)(O.Z,{target:"egngqnr0",label:"StyledTextBlock"})("margin-bottom:",(0,T.Z)(1),";"),j=(0,c.Z)(C.Z,{target:"egngqnr1",label:"StyledInputField"})({name:"131yq1t",styles:"padding-left:0;"}),A=(0,c.Z)(g.Z,{target:"egngqnr2",label:"StyledAlert"})({name:"gx0lhm",styles:"margin-bottom:0;"})},"./app/components/u2f/u2fsign.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),p=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("../node_modules/react/index.js"),d=n("./app/locale.tsx"),m=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),f=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),h=n("../node_modules/@babel/runtime/regenerator/index.js"),g=n.n(h),v=n("../node_modules/@sentry/minimal/esm/index.js"),_=n("../node_modules/u2f-api/dist/index.js"),y=n.n(_),b=n("./app/stores/configStore.tsx"),E=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var Z=function(e){(0,a.Z)(c,e);var t,n,r,o=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,l.Z)(n);if(r){var o=(0,l.Z)(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return(0,u.Z)(this,e)});function c(){var e;(0,s.Z)(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),(0,p.Z)((0,f.Z)(e),"state",{isSupported:null,formElement:null,challengeElement:null,hasBeenTapped:!1,deviceFailure:null,responseElement:null}),(0,p.Z)((0,f.Z)(e),"onTryAgain",(function(){e.setState({hasBeenTapped:!1,deviceFailure:null},(function(){e.invokeU2fFlow()}))})),(0,p.Z)((0,f.Z)(e),"bindChallengeElement",(function(t){e.setState({challengeElement:t,formElement:t&&t.form}),t&&(t.value=JSON.stringify(e.props.challengeData))})),(0,p.Z)((0,f.Z)(e),"bindResponseElement",(function(t){return e.setState({responseElement:t})})),(0,p.Z)((0,f.Z)(e),"renderFailure",(function(){var t=e.state.deviceFailure,n=b.Z.get("supportEmail"),r=n?(0,E.tZ)("a",{href:"mailto:"+n},n):(0,E.tZ)("span",null,(0,d.t)("Support"));return(0,E.tZ)("div",{className:"failure-message"},(0,E.tZ)("div",null,(0,E.tZ)("strong",null,(0,d.t)("Error: "))," ",{UNKNOWN_ERROR:(0,d.t)("There was an unknown problem, please try again"),DEVICE_ERROR:(0,d.t)("Your U2F device reported an error."),DUPLICATE_DEVICE:(0,d.t)("This device is already in use."),UNKNOWN_DEVICE:(0,d.t)("The device you used for sign-in is unknown."),BAD_APPID:(0,d._N)("[p1:The Sentry server administrator modified the device registrations.][p2:You need to remove and re-add the device to continue using your U2F device. Use a different sign-in method or contact [support] for assistance.]",{p1:(0,E.tZ)("p",null),p2:(0,E.tZ)("p",null),support:r})}[t||""]),e.canTryAgain&&(0,E.tZ)("div",{style:{marginTop:18}},(0,E.tZ)("a",{onClick:e.onTryAgain,className:"btn btn-primary"},(0,d.t)("Try Again"))))})),e}return(0,i.Z)(c,[{key:"componentDidMount",value:(t=(0,m.Z)(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().isSupported();case 2:t=e.sent,this.setState({isSupported:t}),t&&this.invokeU2fFlow();case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"invokeU2fFlow",value:function(){var e,t=this;if("sign"===this.props.flowMode)e=y().sign(this.props.challengeData.authenticateRequests);else{if("enroll"!==this.props.flowMode)throw new Error("Unsupported flow mode '".concat(this.props.flowMode,"'"));var n=this.props.challengeData,r=n.registerRequests,o=n.authenticateRequests;e=y().register(r,o)}e.then((function(e){t.setState({hasBeenTapped:!0},(function(){var n,r=JSON.stringify(e),o=JSON.stringify(t.props.challengeData);t.state.responseElement&&(t.state.responseElement.value=r),t.props.onTap?t.props.onTap({response:r,challenge:o}).catch((function(){t.setState({deviceFailure:"UNKNOWN_ERROR",hasBeenTapped:!1})})):null===(n=t.state.formElement)||void 0===n||n.submit()}))})).catch((function(e){var n="DEVICE_ERROR";e.metaData&&("DEVICE_INELIGIBLE"===e.metaData.type?n="enroll"===t.props.flowMode?"DUPLICATE_DEVICE":"UNKNOWN_DEVICE":"BAD_REQUEST"===e.metaData.type&&(n="BAD_APPID")),v.Tb(e),t.setState({deviceFailure:n,hasBeenTapped:!1})}))}},{key:"renderUnsupported",value:function(){return this.props.silentIfUnsupported?null:(0,E.tZ)("div",{className:"u2f-box"},(0,E.tZ)("div",{className:"inner"},(0,E.tZ)("p",{className:"error"},(0,d.t)("\n             Unfortunately your browser does not support U2F. You need to use\n             a different two-factor method or switch to a browser that supports\n             it (Google Chrome or Microsoft Edge)."))))}},{key:"canTryAgain",get:function(){return"BAD_APPID"!==this.state.deviceFailure}},{key:"renderBody",value:function(){return this.state.deviceFailure?this.renderFailure():this.props.children}},{key:"renderPrompt",value:function(){var e=this.props.style;return(0,E.tZ)("div",{style:e,className:"u2f-box"+(this.state.hasBeenTapped?" tapped":"")+(this.state.deviceFailure?" device-failure":"")},(0,E.tZ)("div",{className:"device-animation-frame"},(0,E.tZ)("div",{className:"device-failed"}),(0,E.tZ)("div",{className:"device-animation"}),(0,E.tZ)("div",{className:"loading-dots"},(0,E.tZ)("span",{className:"dot"}),(0,E.tZ)("span",{className:"dot"}),(0,E.tZ)("span",{className:"dot"}))),(0,E.tZ)("input",{type:"hidden",name:"challenge",ref:this.bindChallengeElement}),(0,E.tZ)("input",{type:"hidden",name:"response",ref:this.bindResponseElement}),(0,E.tZ)("div",{className:"inner"},this.renderBody()))}},{key:"render",value:function(){var e=this.state.isSupported;return null===e?null:e?this.renderPrompt():this.renderUnsupported()}}]),c}(c.Component);Z.displayName="U2fInterface";const S=Z;var R={signin:(0,d.t)("Insert your U2F device or tap the button on it to confirm the sign-in request."),sudo:(0,d.t)("Alternatively you can use your U2F device to confirm the action."),enroll:(0,d.t)("To enroll your U2F device insert it now or tap the button on it to activate it.")},P=function(e){(0,a.Z)(c,e);var t,n,p=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function c(){return(0,s.Z)(this,c),p.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){var e=this.props,t=e.displayMode,n=(0,o.Z)(e,["displayMode"]),s="enroll"===t?"enroll":"sign";return(0,E.tZ)(S,(0,r.Z)({},n,{silentIfUnsupported:"sudo"===t,flowMode:s}),(0,E.tZ)("p",null,R[t]||null))}}]),c}(c.Component);P.displayName="U2fSign",(0,p.Z)(P,"defaultProps",{displayMode:"signin"});const I=P},"./app/utils/withApi.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),p=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("../node_modules/react/index.js"),d=n("./app/api.tsx"),m=n("./app/utils/getDisplayName.tsx"),f=n("../node_modules/@emotion/core/dist/core.browser.esm.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}const _=function(e){var t,n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=u.persistInFlight;return n=t=function(t){(0,a.Z)(u,t);var n=v(u);function u(e){var t;return(0,o.Z)(this,u),t=n.call(this,e),(0,p.Z)((0,i.Z)(t),"api",void 0),t.api=new d.KU,t}return(0,s.Z)(u,[{key:"componentWillUnmount",value:function(){l||this.api.clear()}},{key:"render",value:function(){var t=this.props,n=t.api,o=(0,r.Z)(t,["api"]);return(0,f.tZ)(e,g({api:null!=n?n:this.api},o))}}]),u}(c.Component),(0,p.Z)(t,"displayName","withApi(".concat((0,m.Z)(e),")")),n}},"./app/views/settings/components/forms/form.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),c=n("../node_modules/react/index.js"),d=n("../node_modules/mobx-react-lite/es/index.js"),m=n("../node_modules/prop-types/index.js"),f=n.n(m),h=n("./app/components/button.tsx"),g=n("./app/components/panels/panel.tsx"),v=n("./app/locale.tsx"),_=n("./app/styles/space.tsx"),y=n("./app/utils/isRenderFunc.tsx"),b=n("./app/views/settings/components/forms/model.tsx"),E=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var Z=function(e){(0,i.Z)(c,e);var t,n,p=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function c(e,t){var n;(0,r.Z)(this,c),n=p.call(this,e,t),(0,l.Z)((0,s.Z)(n),"model",n.props.model||new b.Z),(0,l.Z)((0,s.Z)(n),"onSubmit",(function(e){var t,r;!n.props.skipPreventDefault&&e.preventDefault(),n.model.isSaving||(null===(t=(r=n.props).onPreSubmit)||void 0===t||t.call(r),n.props.onSubmit?n.props.onSubmit(n.model.getData(),n.onSubmitSuccess,n.onSubmitError,e,n.model):n.model.saveForm())})),(0,l.Z)((0,s.Z)(n),"onSubmitSuccess",(function(e){var t=n.props.onSubmitSuccess;n.model.submitSuccess(e),t&&t(e,n.model)})),(0,l.Z)((0,s.Z)(n),"onSubmitError",(function(e){var t=n.props.onSubmitError;n.model.submitError(e),t&&t(e,n.model)}));var o=e.saveOnBlur,i=e.apiEndpoint,a=e.apiMethod,u=e.resetOnError,d=e.onSubmitSuccess,m=e.onSubmitError,f=e.onFieldChange,h=e.initialData,g=e.allowUndo;return n.model.setInitialData(h),n.model.setFormOptions({resetOnError:u,allowUndo:g,onFieldChange:f,onSubmitSuccess:d,onSubmitError:m,saveOnBlur:o,apiEndpoint:i,apiMethod:a}),n}return(0,o.Z)(c,[{key:"getChildContext",value:function(){return{saveOnBlur:this.props.saveOnBlur,form:this.model}}},{key:"componentWillUnmount",value:function(){this.model.reset()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.children,o=t.footerClass,s=t.footerStyle,i=t.submitDisabled,a=t.submitLabel,u=t.submitPriority,l=t.cancelLabel,p=t.onCancel,c=t.extraButton,m=t.requireChanges,f=t.saveOnBlur,g=t.hideFooter,_=void 0!==g?!g:!f;return(0,E.tZ)("form",{onSubmit:this.onSubmit,className:null!=n?n:"form-stacked","data-test-id":this.props["data-test-id"]},(0,E.tZ)("div",null,(0,y.l)(r)?r({model:this.model}):r),_&&(0,E.tZ)(S,{className:o,style:s,saveOnBlur:f},c,(0,E.tZ)(R,null,p&&(0,E.tZ)(d.Qj,null,(function(){return(0,E.tZ)(h.ZP,{type:"button",disabled:e.model.isSaving,onClick:p,style:{marginLeft:5}},null!=l?l:(0,v.t)("Cancel"))})),(0,E.tZ)(d.Qj,null,(function(){return(0,E.tZ)(h.ZP,{"data-test-id":"form-submit",priority:null!=u?u:"primary",disabled:e.model.isError||e.model.isSaving||i||!!m&&!e.model.formChanged,type:"submit"},null!=a?a:(0,v.t)("Save Changes"))})))))}}]),c}(c.Component);Z.displayName="Form",(0,l.Z)(Z,"childContextTypes",{saveOnBlur:f().bool,form:f().object});var S=(0,p.Z)("div",{target:"e1h4adtt0",label:"StyledFooter"})("display:flex;justify-content:flex-end;margin-top:25px;border-top:1px solid #e9ebec;background:none;padding:16px 0 0;margin-bottom:16px;",(function(e){return!e.saveOnBlur&&"\n  ".concat(g.Z," & {\n    margin-top: 0;\n    padding-right: 36px;\n  }\n\n  /* Better padding with form inside of a modal */\n  .modal-content & {\n    padding-right: 30px;\n    margin-left: -30px;\n    margin-right: -30px;\n    margin-bottom: -30px;\n    margin-top: 16px;\n    padding-bottom: 16px;\n  }\n  ")}),";"),R=(0,p.Z)("div",{target:"e1h4adtt1",label:"DefaultButtons"})("display:grid;grid-gap:",(0,_.Z)(1),";grid-auto-flow:column;justify-content:flex-end;flex:1;")},"../node_modules/u2f-api/dist/index.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("../node_modules/u2f-api/dist/lib/u2f-api.js");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("../node_modules/u2f-api/dist/lib/u2f-api.js")),t.default=r},"../node_modules/u2f-api/dist/lib/generated-google-u2f-api.js":e=>{"use strict";var t,n=n||{};e.exports=n,n.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",n.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_SIGN_RESPONSE:"u2f_sign_response",U2F_GET_API_VERSION_REQUEST:"u2f_get_api_version_request",U2F_GET_API_VERSION_RESPONSE:"u2f_get_api_version_response"},n.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},n.U2fRequest,n.U2fResponse,n.Error,n.Transport,n.Transports,n.SignRequest,n.SignResponse,n.RegisterRequest,n.RegisterResponse,n.RegisteredKey,n.GetJsApiVersionResponse,n.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var t={type:n.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(n.EXTENSION_ID,t,(function(){chrome.runtime.lastError?n.getIframePort_(e):n.getChromeRuntimePort_(e)}))}else n.isAndroidChrome_()?n.getAuthenticatorPort_(e):n.isIosChrome_()?n.getIosPort_(e):n.getIframePort_(e)},n.isAndroidChrome_=function(){var e=navigator.userAgent;return-1!=e.indexOf("Chrome")&&-1!=e.indexOf("Android")},n.isIosChrome_=function(){return["iPhone","iPad","iPod"].indexOf(navigator.platform)>-1},n.getChromeRuntimePort_=function(e){var t=chrome.runtime.connect(n.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(new n.WrappedChromeRuntimePort_(t))}),0)},n.getAuthenticatorPort_=function(e){setTimeout((function(){e(new n.WrappedAuthenticatorPort_)}),0)},n.getIosPort_=function(e){setTimeout((function(){e(new n.WrappedIosPort_)}),0)},n.WrappedChromeRuntimePort_=function(e){this.port_=e},n.formatSignRequest_=function(e,r,o,s,i){if(void 0===t||t<1.1){for(var a=[],u=0;u<o.length;u++)a[u]={version:o[u].version,challenge:r,keyHandle:o[u].keyHandle,appId:e};return{type:n.MessageTypes.U2F_SIGN_REQUEST,signRequests:a,timeoutSeconds:s,requestId:i}}return{type:n.MessageTypes.U2F_SIGN_REQUEST,appId:e,challenge:r,registeredKeys:o,timeoutSeconds:s,requestId:i}},n.formatRegisterRequest_=function(e,r,o,s,i){if(void 0===t||t<1.1){for(var a=0;a<o.length;a++)o[a].appId=e;var u=[];for(a=0;a<r.length;a++)u[a]={version:r[a].version,challenge:o[0],keyHandle:r[a].keyHandle,appId:e};return{type:n.MessageTypes.U2F_REGISTER_REQUEST,signRequests:u,registerRequests:o,timeoutSeconds:s,requestId:i}}return{type:n.MessageTypes.U2F_REGISTER_REQUEST,appId:e,registerRequests:o,registeredKeys:r,timeoutSeconds:s,requestId:i}},n.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},n.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var n=e.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener((function(e){t({data:e})})):console.error("WrappedChromeRuntimePort only supports onMessage")},n.WrappedAuthenticatorPort_=function(){this.requestId_=-1,this.requestObject_=null},n.WrappedAuthenticatorPort_.prototype.postMessage=function(e){var t=n.WrappedAuthenticatorPort_.INTENT_URL_BASE_+";S.request="+encodeURIComponent(JSON.stringify(e))+";end";document.location=t},n.WrappedAuthenticatorPort_.prototype.getPortType=function(){return"WrappedAuthenticatorPort_"},n.WrappedAuthenticatorPort_.prototype.addEventListener=function(e,t){"message"==e.toLowerCase()?window.addEventListener("message",this.onRequestUpdate_.bind(this,t),!1):console.error("WrappedAuthenticatorPort only supports message")},n.WrappedAuthenticatorPort_.prototype.onRequestUpdate_=function(e,t){var n=JSON.parse(t.data),r=(n.intentURL,n.errorCode,null);n.hasOwnProperty("data")&&(r=JSON.parse(n.data)),e({data:r})},n.WrappedAuthenticatorPort_.INTENT_URL_BASE_="intent:#Intent;action=com.google.android.apps.authenticator.AUTHENTICATE",n.WrappedIosPort_=function(){},n.WrappedIosPort_.prototype.postMessage=function(e){var t=JSON.stringify(e),n="u2f://auth?"+encodeURI(t);location.replace(n)},n.WrappedIosPort_.prototype.getPortType=function(){return"WrappedIosPort_"},n.WrappedIosPort_.prototype.addEventListener=function(e,t){"message"!==e.toLowerCase()&&console.error("WrappedIosPort only supports message")},n.getIframePort_=function(e){var t="chrome-extension://"+n.EXTENSION_ID,r=document.createElement("iframe");r.src=t+"/u2f-comms.html",r.setAttribute("style","display:none"),document.body.appendChild(r);var o=new MessageChannel,s=function(t){"ready"==t.data?(o.port1.removeEventListener("message",s),e(o.port1)):console.error('First event on iframe port was not "ready"')};o.port1.addEventListener("message",s),o.port1.start(),r.addEventListener("load",(function(){r.contentWindow.postMessage("init",t,[o.port2])}))},n.EXTENSION_TIMEOUT_SEC=30,n.port_=null,n.waitingForPort_=[],n.reqCounter_=0,n.callbackMap_={},n.getPortSingleton_=function(e){n.port_?e(n.port_):(0==n.waitingForPort_.length&&n.getMessagePort((function(e){for(n.port_=e,n.port_.addEventListener("message",n.responseHandler_);n.waitingForPort_.length;)n.waitingForPort_.shift()(n.port_)})),n.waitingForPort_.push(e))},n.responseHandler_=function(e){var t=e.data,r=t.requestId;if(r&&n.callbackMap_[r]){var o=n.callbackMap_[r];delete n.callbackMap_[r],o(t.responseData)}else console.error("Unknown or missing requestId in response.")},n.isSupported=function(e){var r=!1;function o(t){r||(r=!0,e(t))}n.getApiVersion((function(e){t=void 0===e.js_api_version?0:e.js_api_version,o(!0)})),setTimeout(o.bind(null,!1),1500)},n.sign=function(e,r,o,s,i){void 0===t?n.getApiVersion((function(a){t=void 0===a.js_api_version?0:a.js_api_version,console.log("Extension JS API Version: ",t),n.sendSignRequest(e,r,o,s,i)})):n.sendSignRequest(e,r,o,s,i)},n.sendSignRequest=function(e,t,r,o,s){n.getPortSingleton_((function(i){var a=++n.reqCounter_;n.callbackMap_[a]=o;var u=void 0!==s?s:n.EXTENSION_TIMEOUT_SEC,l=n.formatSignRequest_(e,t,r,u,a);i.postMessage(l)}))},n.register=function(e,r,o,s,i){void 0===t?n.getApiVersion((function(a){t=void 0===a.js_api_version?0:a.js_api_version,console.log("Extension JS API Version: ",t),n.sendRegisterRequest(e,r,o,s,i)})):n.sendRegisterRequest(e,r,o,s,i)},n.sendRegisterRequest=function(e,t,r,o,s){n.getPortSingleton_((function(i){var a=++n.reqCounter_;n.callbackMap_[a]=o;var u=void 0!==s?s:n.EXTENSION_TIMEOUT_SEC,l=n.formatRegisterRequest_(e,r,t,u,a);i.postMessage(l)}))},n.getApiVersion=function(e,t){n.getPortSingleton_((function(r){if(r.getPortType){var o;switch(r.getPortType()){case"WrappedIosPort_":case"WrappedAuthenticatorPort_":o=1.1;break;default:o=0}e({js_api_version:o})}else{var s=++n.reqCounter_;n.callbackMap_[s]=e;var i={type:n.MessageTypes.U2F_GET_API_VERSION_REQUEST,timeoutSeconds:void 0!==t?t:n.EXTENSION_TIMEOUT_SEC,requestId:s};r.postMessage(i)}}))}},"../node_modules/u2f-api/dist/lib/u2f-api.js":(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("../node_modules/u2f-api/dist/lib/generated-google-u2f-api.js"),o="undefined"!=typeof navigator&&!!navigator.userAgent,s=o&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),i=o&&navigator.userAgent.match(/Edge\/1[2345]/),a=null;function u(){if(a)return a;var e=new Promise((function(e,t){function n(){e({u2f:null})}return o?s?n():void 0!==window.u2f&&"function"==typeof window.u2f.sign?e({u2f:window.u2f}):i||"http:"===location.protocol||"undefined"==typeof MessageChannel?n():void r.isSupported((function(t){t?e({u2f:r}):n()})):n()})).then((function(t){return a=t.u2f?e:null,t}));return e}function l(e,n){var r=null!=n?n.errorCode:1,o=t.ErrorNames[""+r],s=new Error(e);return s.metaData={type:o,code:r},s}function p(e){if(!e.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function c(e){return null!=e&&Array.isArray(e)?e:null==e?[]:Array.isArray(e)?e.slice():[e]}t.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},t.ErrorNames={0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},t.isSupported=function(){return u().then((function(e){return!!e.u2f}))},t.ensureSupport=function(){return u().then(p)},t.register=function(e,t,n){var r=c(e);"number"==typeof t&&void 0===n&&(n=t,t=null);var o=c(t);return u().then((function(e){p(e);var t=e.u2f;return new Promise((function(e,s){var i=r[0].appId;t.register(i,r,o,(function(t){t.errorCode?s(l("Registration failed",t)):(delete t.errorCode,e(t))}),n)}))}))},t.sign=function(e,t){var n=c(e);return u().then((function(e){p(e);var r=e.u2f;return new Promise((function(e,o){var s=n[0].appId,i=n[0].challenge,a=n.map((function(e){return{version:e.version,keyHandle:e.keyHandle,appId:e.appId}}));r.sign(s,i,a,(function(t){t.errorCode?o(l("Sign failed",t)):(delete t.errorCode,e(t))}),t)}))}))}}}]);
//# sourceMappingURL=SudoModal.js.map