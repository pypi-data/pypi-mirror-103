(self.webpackChunk=self.webpackChunk||[]).push([["DiscoverV2Details"],{"./app/views/eventsV2/breadcrumb.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),i=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=n("../node_modules/react/index.js"),c=n("./app/components/breadcrumbs.tsx"),p=n("./app/locale.tsx"),d=n("./app/utils/discover/urls.tsx"),v=n("../node_modules/@emotion/core/dist/core.browser.esm.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){(0,s.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,i.Z)(t);if(n){var o=(0,i.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,a.Z)(this,e)});function u(){return(0,r.Z)(this,u),l.apply(this,arguments)}return(0,o.Z)(u,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.eventView,r=t.event,o=t.organization,s=t.location,a=o.features.includes("discover-query")?{pathname:(0,d.zR)(o),query:m(m(m({},s.query),n.generateBlankQueryStringObject()),n.getGlobalSelectionQuery())}:null;return e.push({to:a,label:(0,p.t)("Discover")}),n&&n.isValid()&&e.push({to:n.getResultsViewUrlTarget(o.slug),label:n.name||""}),r&&e.push({label:(0,p.t)("Event Detail")}),e}},{key:"render",value:function(){return(0,v.tZ)(c.Z,{crumbs:this.getCrumbs()})}}]),u}(u.Component);g.displayName="DiscoverBreadcrumb",(0,l.Z)(g,"defaultProps",{event:void 0});const Z=g},"./app/views/eventsV2/eventDetails/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ze});var r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),p=n("../node_modules/react/index.js"),d=n("./app/components/lightWeightNoProjectMessage.tsx"),v=n("./app/components/sentryDocumentTitle.tsx"),f=n("./app/locale.tsx"),m=n("./app/styles/organization.tsx"),g=n("./app/utils/discover/eventView.tsx"),Z=n("./app/utils/withOrganization.tsx"),y=n("../node_modules/@babel/runtime/helpers/esm/get.js"),h=n("./app/components/acl/feature.tsx"),b=n("./app/components/asyncComponent.tsx"),x=n("./app/components/button.tsx"),j=n("./app/components/buttonBar.tsx"),S=n("./app/components/errors/notFound.tsx"),w=n("./app/components/eventOrGroupTitle.tsx"),O=n("./app/components/events/eventEntries.tsx"),k=n("./app/components/events/eventMessage.tsx"),z=n("./app/components/events/eventMetadata.tsx"),P=n("./app/components/events/eventVitals.tsx"),C=n("./app/components/events/interfaces/spans/context.tsx"),D=n("./app/components/events/opsBreakdown.tsx"),I=n("./app/components/events/rootSpanStatus.tsx"),V=n("./app/components/fileSize.tsx"),E=n("./app/components/layouts/thirds.tsx"),R=n("./app/components/loadingError.tsx"),T=n("./app/components/loadingIndicator.tsx"),_=n("./app/components/tagsTable.tsx"),B=n("./app/icons/index.tsx"),q=n("./app/styles/space.tsx"),F=n("./app/utils/analytics.tsx"),M=n("./app/utils/discover/fields.tsx"),L=n("./app/utils/discover/urls.tsx"),N=n("./app/utils/events.tsx"),H=n("./app/utils/performance/quickTrace/quickTraceContext.tsx"),Q=n("./app/utils/performance/quickTrace/quickTraceQuery.tsx"),U=n("./app/utils/performance/quickTrace/traceMetaQuery.tsx"),W=n("./app/utils/performance/quickTrace/utils.tsx"),A=n("./app/utils/projects.tsx"),G=n("./app/views/performance/transactionDetails/eventMetas.tsx"),J=n("./app/views/performance/transactionSummary/utils.tsx"),K=n("./app/views/eventsV2/breadcrumb.tsx"),$=n("./app/views/eventsV2/utils.tsx"),Y=n("./app/components/alert.tsx"),X=n("./app/components/charts/styles.tsx"),ee=n("./app/components/group/times.tsx"),te=n("./app/components/idBadge/projectBadge.tsx"),ne=n("./app/components/links/link.tsx"),re=n("./app/components/placeholder.tsx"),oe=n("./app/components/seenByList.tsx"),se=n("./app/components/shortId.tsx"),ae=n("./app/components/stream/groupChart.tsx"),ie=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var le=function(e){(0,a.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"getEndpoints",value:function(){var e=this.props.groupId;return[["group","/issues/".concat(e,"/")]]}},{key:"renderLoading",value:function(){return(0,ie.tZ)(re.Z,{height:"120px",bottomGutter:2})}},{key:"renderError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.state.errors,o=Object.values(r).find((function(e){return e&&404===e.status}));return o?(0,ie.tZ)(Y.Z,{type:"warning",icon:(0,ie.tZ)(B.FC,{size:"md"})},(0,f.t)("The linked issue cannot be found. It may have been deleted, or merged.")):(0,y.Z)((0,l.Z)(u.prototype),"renderError",this).call(this,e,t,n)}},{key:"renderBody",value:function(){var e=this.props.eventId,t=this.state.group,n="".concat(t.permalink,"events/").concat(e,"/");return(0,ie.tZ)(ue,null,(0,ie.tZ)(X.OT,null,(0,f.t)("Event Issue")),(0,ie.tZ)(ce,null,(0,ie.tZ)(pe,null,(0,ie.tZ)(de,{to:n,"data-test-id":"linked-issue"},(0,ie.tZ)(me,{shortId:t.shortId,avatar:(0,ie.tZ)(te.Z,{project:t.project,avatarSize:16,hideName:!0,disableLink:!0})})),(0,ie.tZ)(fe,{seenBy:t.seenBy,maxVisibleAvatars:5})),(0,ie.tZ)(ve,null,(0,ie.tZ)(ae.Z,{statsPeriod:"30d",data:t,height:56})),(0,ie.tZ)(ge,null,(0,ie.tZ)(ee.Z,{lastSeen:t.lastSeen,firstSeen:t.firstSeen}))))}}]),u}(b.Z),ue=(0,c.Z)("div",{target:"e1wtoeov0",label:"Section"})("margin-bottom:",(0,q.Z)(4),";"),ce=(0,c.Z)("div",{target:"e1wtoeov1",label:"StyledIssueCard"})("border:1px solid ",(function(e){return e.theme.border}),";border-radius:",(function(e){return e.theme.borderRadius}),";"),pe=(0,c.Z)("div",{target:"e1wtoeov2",label:"IssueCardHeader"})("display:flex;align-items:center;justify-content:space-between;padding:",(0,q.Z)(1),";"),de=(0,c.Z)(ne.Z,{target:"e1wtoeov3",label:"StyledLink"})({name:"1fn0841",styles:"justify-content:flex-start;"}),ve=(0,c.Z)("div",{target:"e1wtoeov4",label:"IssueCardBody"})("background:",(function(e){return e.theme.backgroundSecondary}),";padding-top:",(0,q.Z)(1),";"),fe=(0,c.Z)(oe.Z,{target:"e1wtoeov5",label:"StyledSeenByList"})({name:"1uk1gs8",styles:"margin:0;"}),me=(0,c.Z)(se.Z,{target:"e1wtoeov6",label:"StyledShortId"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.textColor}),";"),ge=(0,c.Z)("div",{target:"e1wtoeov7",label:"IssueCardFooter"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";padding:",(0,q.Z)(.5)," ",(0,q.Z)(1),";");const Ze=le;function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){(0,a.Z)(d,e);var t,n,c=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function d(){var e;(0,r.Z)(this,d);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=c.call.apply(c,[this].concat(n)),(0,u.Z)((0,s.Z)(e),"state",{loading:!0,reloading:!1,error:!1,errors:{},event:void 0,isSidebarVisible:!0}),(0,u.Z)((0,s.Z)(e),"toggleSidebar",(function(){e.setState({isSidebarVisible:!e.state.isSidebarVisible})})),(0,u.Z)((0,s.Z)(e),"generateTagKey",(function(e){return e.key in M.wZ?"tags[".concat(e.key,"]"):e.key})),(0,u.Z)((0,s.Z)(e),"generateTagUrl",(function(t){var n=e.props,r=n.eventView,o=n.organization,s=e.state.event;if(!s)return"";var a=he({},s);a.id&&delete a.id;var i=e.generateTagKey(t);return(0,$.Bn)(r,(0,u.Z)({},i,t.value),a).getResultsViewUrlTarget(o.slug)})),(0,u.Z)((0,s.Z)(e),"getEventSlug",(function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""})),e}return(0,o.Z)(d,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params,r=e.location,o=e.eventView,s=n.eventSlug,a=o.getEventsAPIPayload(r);return a.field=[],[["event","/organizations/".concat(t.slug,"/events/").concat(s,"/"),{query:a}]]}},{key:"projectId",get:function(){return this.props.eventSlug.split(":")[0]}},{key:"renderBody",value:function(){var e=this.state.event;return e?this.renderContent(e):(0,ie.tZ)(S.Z,null)}},{key:"renderContent",value:function(e){var t,n=this,r=this.props,o=r.organization,s=r.location,a=r.eventView,i=this.state.isSidebarVisible;(0,F.ec)({eventKey:"discover_v2.event_details",eventName:"Discoverv2: Opened Event Details",event_type:e.type,organization_id:parseInt(o.id,10)});var l=null===(t=e.tags.find((function(e){return"transaction"===e.key})))||void 0===t?void 0:t.value,u="transaction"===e.type&&l?(0,J.e1)({orgSlug:o.slug,transaction:l,projectID:e.projectID,query:s.query}):null,c="/api/0/projects/".concat(o.slug,"/").concat(this.projectId,"/events/").concat(e.eventID,"/json/"),d=function(t,r){var l;return(0,ie.tZ)(p.Fragment,null,(0,ie.tZ)(E.h4,null,(0,ie.tZ)(E.oB,null,(0,ie.tZ)(K.Z,{eventView:a,event:e,organization:o,location:s}),(0,ie.tZ)(xe,{event:e})),(0,ie.tZ)(E.kP,null,(0,ie.tZ)(j.Z,{gap:1},(0,ie.tZ)(x.ZP,{onClick:n.toggleSidebar},i?"Hide Details":"Show Details"),t&&(0,ie.tZ)(x.ZP,{icon:(0,ie.tZ)(B.V$,null),href:c,external:!0},(0,f.t)("JSON")," (",(0,ie.tZ)(V.Z,{bytes:e.size}),")"),u&&(0,ie.tZ)(h.Z,{organization:o,features:["performance-view"]},(function(e){var t=e.hasFeature;return(0,ie.tZ)(x.ZP,{disabled:!t,priority:"primary",to:u},(0,f.t)("Go to Summary"))}))))),(0,ie.tZ)(E.uT,null,t&&(0,ie.tZ)(E.or,{fullWidth:!0},(0,ie.tZ)(G.Z,{quickTrace:t,meta:null!==(l=null==r?void 0:r.meta)&&void 0!==l?l:null,event:e,organization:o,projectId:n.projectId,location:s,errorDest:"discover",transactionDest:"discover"})),(0,ie.tZ)(E.or,{fullWidth:!i},(0,ie.tZ)(A.Z,{orgId:o.slug,slugs:[n.projectId]},(function(r){var i=r.projects;return r.initiallyLoaded?(0,ie.tZ)(C.z,{value:{getViewChildTransactionTarget:function(e){return{pathname:(0,L.lS)({eventSlug:e.eventSlug,orgSlug:o.slug}),query:a.generateQueryStringObject()}}}},(0,ie.tZ)(H.z,{value:t},(0,ie.tZ)(O.j,{organization:o,event:e,project:i[0],location:s,showExampleCommit:!1,showTagSummary:!1,api:n.api}))):(0,ie.tZ)(T.Z,null)}))),i&&(0,ie.tZ)(E.MF,null,void 0===t&&(0,ie.tZ)(p.Fragment,null,(0,ie.tZ)(z.Z,{event:e,organization:o,projectId:n.projectId}),(0,ie.tZ)(I.Z,{event:e}),(0,ie.tZ)(D.Z,{event:e})),(0,ie.tZ)(P.Z,{event:e}),e.groupID&&(0,ie.tZ)(Ze,{groupId:e.groupID,eventId:e.eventID}),(0,ie.tZ)(_.Z,{generateUrl:n.generateTagUrl,event:e,query:a.query}))))};if(o.features.includes("trace-view-quick")||o.features.includes("trace-view-summary")){var v,m,g,Z=null!==(v=null===(m=e.contexts)||void 0===m||null===(g=m.trace)||void 0===g?void 0:g.trace_id)&&void 0!==v?v:"",y=(0,W.$J)(e),b=y.start,S=y.end;return(0,ie.tZ)(U.Z,{location:s,orgSlug:o.slug,traceId:Z,start:b,end:S},(function(t){return(0,ie.tZ)(Q.Z,{event:e,location:s,orgSlug:o.slug},(function(e){return d(e,t)}))}))}return d()}},{key:"renderError",value:function(e){var t=Object.values(this.state.errors).find((function(e){return e&&404===e.status})),n=Object.values(this.state.errors).find((function(e){return e&&403===e.status}));return t?(0,ie.tZ)(S.Z,null):n?(0,ie.tZ)(R.Z,{message:(0,f.t)("You do not have permission to view that event.")}):(0,y.Z)((0,l.Z)(d.prototype),"renderError",this).call(this,e,!0,!0)}},{key:"renderComponent",value:function(){var e=this.props,t=e.eventView,n=e.organization,r=this.state.event,o=this.getEventSlug().split(":")[0],s=(0,$.zt)({eventView:t,event:r,organization:n});return(0,ie.tZ)(v.Z,{title:s,orgSlug:n.slug,projectSlug:o},(0,y.Z)((0,l.Z)(d.prototype),"renderComponent",this).call(this))}}]),d}(b.Z),xe=function(e){var t=e.event,n=(0,N.FC)(t);return(0,ie.tZ)(je,{"data-test-id":"event-header"},(0,ie.tZ)(Se,null,(0,ie.tZ)(w.Z,{data:t})),n&&(0,ie.tZ)(we,null,(0,ie.tZ)(k.Z,{message:n})))};xe.displayName="EventHeader";var je=(0,c.Z)("div",{target:"eis1z1e0",label:"EventHeaderContainer"})("max-width:",(function(e){return e.theme.breakpoints[0]}),";"),Se=(0,c.Z)("div",{target:"eis1z1e1",label:"TitleWrapper"})("font-size:",(function(e){return e.theme.headerFontSize}),";margin-top:20px;"),we=(0,c.Z)("div",{target:"eis1z1e2",label:"MessageWrapper"})("margin-top:",(0,q.Z)(1),";");const Oe=be;var ke=function(e){(0,a.Z)(p,e);var t,n,c=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function p(){var e;(0,r.Z)(this,p);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=c.call.apply(c,[this].concat(n)),(0,u.Z)((0,s.Z)(e),"getEventSlug",(function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""})),(0,u.Z)((0,s.Z)(e),"getEventView",(function(){var t=e.props.location;return g.ZP.fromLocation(t)})),(0,u.Z)((0,s.Z)(e),"getDocumentTitle",(function(e){return"string"==typeof e&&String(e).trim().length>0?[String(e).trim(),(0,f.t)("Discover")]:[(0,f.t)("Discover")]})),e}return(0,o.Z)(p,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.location,r=e.params,o=this.getEventView(),s=this.getEventSlug(),a=this.getDocumentTitle(o.name).join(" - "),i=s.split(":")[0];return(0,ie.tZ)(v.Z,{title:a,orgSlug:t.slug,projectSlug:i},(0,ie.tZ)(Pe,null,(0,ie.tZ)(d.Z,{organization:t},(0,ie.tZ)(Oe,{organization:t,location:n,params:r,eventView:o,eventSlug:s}))))}}]),p}(p.Component);ke.displayName="EventDetails";const ze=(0,Z.Z)(ke);var Pe=(0,c.Z)(m.JH,{target:"e1nc8qts0",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"})}}]);
//# sourceMappingURL=DiscoverV2Details.js.map