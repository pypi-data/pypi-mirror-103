(self.webpackChunk=self.webpackChunk||[]).push([["PerformanceTraceDetails","PerformanceLanding"],{"./app/components/radio.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=r("../node_modules/@emotion/core/dist/core.browser.esm.js"),o=r("./app/styles/animations.tsx"),i=function(e){return(0,a.iv)("display:block;width:","small"===e.radioSize?"8px":"1rem",";height:","small"===e.radioSize?"8px":"1rem",";border-radius:50%;background-color:",e.theme.active,";animation:0.2s ",o.kQ," ease;opacity:",e.disabled?.4:null,";")},s=(0,n.Z)("input",{target:"epd3w7v0",label:"Radio"})("display:flex;padding:0;width:",(function(e){return"small"===e.radioSize?"16px":"1.5em"}),";height:",(function(e){return"small"===e.radioSize?"16px":"1.5em"}),";position:relative;border-radius:50%;align-items:center;justify-content:center;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);background:none;appearance:none;margin:0 !important;&:focus,&.focus-visible{outline:none !important;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}&:checked:after{content:'';",i,"}");s.defaultProps={type:"radio"};const l=s},"./app/utils/performance/quickTrace/traceFullQuery.tsx":(e,t,r)=>{"use strict";r.d(t,{g:()=>h,H:()=>g});var n=r("../node_modules/@babel/runtime/helpers/esm/extends.js"),a=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=r("../node_modules/react/index.js"),s=r("./app/utils/discover/genericDiscoverQuery.tsx"),l=r("./app/utils/performance/quickTrace/utils.tsx"),c=r("./app/utils/withApi.tsx"),u=r("../node_modules/@emotion/core/dist/core.browser.esm.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){var t=e.detailed,r=(0,o.Z)(e,["detailed"]),n=(0,l.eF)(r);return n.detailed=t?"1":"0",n}function f(e){var t=e.children;return(0,u.tZ)(i.Fragment,null,t({isLoading:!1,error:null,traces:null,type:"full"}))}function m(e){var t=e.traceId,r=e.start,i=e.end,c=e.statsPeriod,m=e.children,h=(0,o.Z)(e,["traceId","start","end","statsPeriod","children"]);if(!t)return(0,u.tZ)(f,null,m);var g=(0,l._Z)({start:r,end:i,statsPeriod:c});return(0,u.tZ)(s.Z,(0,n.Z)({route:"events-trace/".concat(t),getRequestPayload:d,beforeFetch:l.VP,eventView:g},h),(function(e){var t=e.tableData,r=(0,o.Z)(e,["tableData"]);return m(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({traces:t||null,type:"full"},r))}))}f.displayName="EmptyTrace",m.displayName="GenericTraceFullQuery";var h=(0,c.Z)((function(e){return(0,u.tZ)(m,(0,n.Z)({},e,{detailed:!1}))})),g=(0,c.Z)((function(e){return(0,u.tZ)(m,(0,n.Z)({},e,{detailed:!0}))}))},"./app/utils/performance/quickTrace/traceMetaQuery.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r("../node_modules/@babel/runtime/helpers/esm/extends.js"),a=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=r("../node_modules/react/index.js"),s=r("./app/utils/discover/genericDiscoverQuery.tsx"),l=r("./app/utils/performance/quickTrace/utils.tsx"),c=r("./app/utils/withApi.tsx"),u=r("../node_modules/@emotion/core/dist/core.browser.esm.js");function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){var t=e.traceId,r=e.start,c=e.end,d=e.statsPeriod,f=e.children,m=(0,o.Z)(e,["traceId","start","end","statsPeriod","children"]);if(!t)return(0,u.tZ)(i.Fragment,null,f({isLoading:!1,error:null,meta:null}));var h=(0,l._Z)({start:r,end:c,statsPeriod:d});return(0,u.tZ)(s.Z,(0,n.Z)({route:"events-trace-meta/".concat(t),beforeFetch:l.VP,getRequestPayload:l.eF,eventView:h},m),(function(e){var t=e.tableData,r=(0,o.Z)(e,["tableData"]);return f(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({meta:t},r))}))}d.displayName="TraceMetaQuery";const f=(0,c.Z)(d)},"./app/views/performance/breadcrumb.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),s=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/react/index.js"),u=r("./app/components/breadcrumbs.tsx"),p=r("./app/locale.tsx"),d=r("./app/utils/queryString.tsx"),f=r("./app/views/performance/transactionSummary/utils.tsx"),m=r("./app/views/performance/transactionVitals/utils.tsx"),h=r("./app/views/performance/vitalDetail/utils.tsx"),g=r("./app/views/performance/utils.tsx"),v=r("../node_modules/@emotion/core/dist/core.browser.esm.js");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=function(e){(0,i.Z)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var a=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function c(){return(0,a.Z)(this,c),n.apply(this,arguments)}return(0,o.Z)(c,[{key:"getCrumbs",value:function(){var e=[],t=this.props,r=t.organization,n=t.location,a=t.transactionName,o=t.vitalName,i=t.eventSlug,s=t.traceSlug,l=t.transactionComparison,c=t.realUserMonitoring,u={pathname:(0,g.de)(r),query:b(b({},n.query),{},{transaction:void 0})};if(e.push({to:u,label:(0,p.t)("Performance"),preserveGlobalSelection:!0}),o){var v=(0,h.i4)({orgSlug:r.slug,vitalName:"fcp",projectID:(0,d.ro)(n.query.project),query:n.query});e.push({to:v,label:(0,p.t)("Vital Detail"),preserveGlobalSelection:!0})}else if(a)if(c){var y=(0,m.Pl)({orgSlug:r.slug,transaction:a,projectID:(0,d.ro)(n.query.project),query:n.query});e.push({to:y,label:(0,p.t)("Web Vitals"),preserveGlobalSelection:!0})}else{var Z=(0,f.e1)({orgSlug:r.slug,transaction:a,projectID:(0,d.ro)(n.query.project),query:n.query});e.push({to:Z,label:(0,p.t)("Transaction Summary"),preserveGlobalSelection:!0})}return a&&i?e.push({to:"",label:(0,p.t)("Event Details")}):l?e.push({to:"",label:(0,p.t)("Compare to Baseline")}):s&&e.push({to:"",label:(0,p.t)("Trace View")}),e}},{key:"render",value:function(){return(0,v.tZ)(u.Z,{crumbs:this.getCrumbs()})}}]),c}(c.Component);Z.displayName="Breadcrumb";const x=Z},"./app/views/performance/traceDetails/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ct});var n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),s=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=r("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),c=r("../node_modules/react/index.js"),u=r("./app/components/lightWeightNoProjectMessage.tsx"),p=r("./app/components/organizations/globalSelectionHeader/getParams.tsx"),d=r("./app/components/sentryDocumentTitle.tsx"),f=r("./app/constants/globalSelectionHeader.tsx"),m=r("./app/locale.tsx"),h=r("./app/styles/organization.tsx"),g=r("./app/utils/discover/eventView.tsx"),v=r("./app/utils/performance/quickTrace/traceFullQuery.tsx"),y=r("./app/utils/performance/quickTrace/traceMetaQuery.tsx"),b=r("./app/utils/queryString.tsx"),Z=r("./app/utils/withApi.tsx"),x=r("./app/utils/withOrganization.tsx"),w=r("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),T=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),j=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),O=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),D=r("../node_modules/@babel/runtime/regenerator/index.js"),k=r.n(D),S=r("../node_modules/@sentry/hub/esm/hub.js"),P=r("./app/components/alert.tsx"),_=r("./app/components/assistant/guideAnchor.tsx"),z=r("./app/components/buttonBar.tsx"),C=r("./app/components/discover/discoverFeature.tsx"),I=r("./app/components/discoverButton.tsx"),R=r("./app/components/events/interfaces/spans/dividerHandlerManager.tsx"),E=r("./app/components/events/interfaces/spans/scrollbarManager.tsx"),q=r("./app/components/featureBadge.tsx"),B=r("./app/components/layouts/thirds.tsx"),V=r("./app/components/links/externalLink.tsx"),A=r("./app/components/links/link.tsx"),M=r("./app/components/loadingError.tsx"),L=r("./app/components/loadingIndicator.tsx"),N=r("./app/components/timeSince.tsx"),H=r("./app/components/waterfallTree/messageRow.tsx"),F=r("./app/components/waterfallTree/miniHeader.tsx"),G=r("./app/components/waterfallTree/utils.tsx"),Q=r("./app/icons/index.tsx"),U=r("./app/utils/createFuzzySearch.tsx"),W=r("./app/utils/formatters.tsx"),X=r("./app/utils/performance/quickTrace/utils.tsx"),$=r("./app/views/performance/breadcrumb.tsx"),J=r("./app/views/performance/transactionDetails/styles.tsx"),K=r("./app/components/events/eventTags/eventTagsPill.tsx"),Y=r("./app/components/events/interfaces/spans/header.tsx"),ee=r("./app/components/panels/index.tsx"),te=r("./app/components/pills.tsx"),re=r("./app/components/searchBar.tsx"),ne=r("./app/styles/overflowEllipsis.tsx"),ae=r("./app/styles/space.tsx"),oe=r("./app/utils.tsx"),ie=r("./app/views/performance/transactionSummary/utils.tsx"),se=r("../node_modules/@emotion/core/dist/core.browser.esm.js"),le=r("./app/components/events/interfaces/spans/spanDetail.tsx");function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){(0,O.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe=(0,l.Z)("div",{target:"euzgho50",label:"SearchContainer"})({name:"hboir5",styles:"display:flex;width:100%;"}),de=(0,l.Z)(re.Z,{target:"euzgho51",label:"StyledSearchBar"})({name:"i9gxme",styles:"flex-grow:1;"}),fe=(0,l.Z)(Y.il,{target:"euzgho52",label:"TraceViewHeaderContainer"})("position:static;top:auto;border-top:none;border-bottom:1px solid ",(function(e){return e.theme.border}),";"),me=(0,l.Z)("div",{target:"euzgho53",label:"TraceDetailHeader"})("display:grid;grid-template-columns:repeat(3,1fr);grid-gap:",(0,ae.Z)(2),";margin-bottom:",(0,ae.Z)(2),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:minmax(250px,1fr) minmax(160px,1fr) 6fr;grid-row-gap:0;}"),he=(0,l.Z)("div",{target:"euzgho54",label:"TraceDetailBody"})("margin-top:",(0,ae.Z)(2),";"),ge=(0,l.Z)("div",{target:"euzgho55",label:"TraceViewContainer"})({name:"1cf7fu1",styles:"overflow-x:hidden;border-bottom-left-radius:3px;border-bottom-right-radius:3px;"}),ve=(0,l.Z)(ee.s_,{target:"euzgho56",label:"StyledPanel"})({name:"i6bazn",styles:"overflow:hidden;"}),ye=(0,l.Z)("span",{target:"euzgho57",label:"TransactionBarTitleContent"})("margin-left:",(0,ae.Z)(.75),";"),be=(0,l.Z)("div",{target:"euzgho58",label:"DividerContainer"})({name:"79elbk",styles:"position:relative;"}),Ze=(0,l.Z)("div",{target:"euzgho59",label:"BadgeBorder"})("position:absolute;margin:",(0,ae.Z)(.25),";left:-11.5px;background:",(function(e){return e.showDetail?e.theme.textColor:e.theme.background}),";width:",(0,ae.Z)(3),";height:",(0,ae.Z)(3),";border:1px solid ",(function(e){return e.theme.red300}),";border-radius:50%;z-index:",(function(e){return e.theme.zIndex.traceView.dividerLine}),";display:flex;align-items:center;justify-content:center;");function xe(e){var t=e.showDetail;return(0,se.tZ)(Ze,{showDetail:t},(0,se.tZ)(Q.zC,{color:"red300",size:"xs"}))}xe.displayName="ErrorBadge";var we=(0,l.Z)("div",{target:"euzgho510",label:"ErrorMessageTitle"})({name:"gg4vpm",styles:"display:flex;justify-content:space-between;"}),Te=(0,l.Z)("div",{target:"euzgho511",label:"ErrorMessageContent"})("display:grid;align-items:center;grid-template-columns:16px 72px auto;grid-gap:",(0,ae.Z)(.75),";margin-top:",(0,ae.Z)(.75),";"),je=(0,l.Z)("div",{target:"euzgho512",label:"ErrorDot"})("background-color:",(function(e){return e.theme.level[e.level]}),";content:'';width:",(0,ae.Z)(1),";min-width:",(0,ae.Z)(1),";height:",(0,ae.Z)(1),";margin-right:",(0,ae.Z)(1),";border-radius:100%;flex:1;"),Oe=(0,l.Z)("span",{target:"euzgho513",label:"ErrorLevel"})({name:"1jgxixz",styles:"width:80px;"}),De=(0,l.Z)("span",{target:"euzgho514",label:"ErrorTitle"})(ne.Z,";"),ke=(0,l.Z)(te.Z,{target:"euzgho515",label:"StyledPills"})("padding-top:",(0,ae.Z)(1.5),";");function Se(e){var t=e.location,r=e.organization,n=e.transaction,a=n.tags;if(!a||a.length<=0)return null;var o=r.slug,i="/organizations/".concat(o,"/releases/");return(0,se.tZ)("tr",null,(0,se.tZ)("td",{className:"key"},"Tags"),(0,se.tZ)("td",{className:"value"},(0,se.tZ)(ke,null,a.map((function(e,a){var s=(0,ie.e1)({orgSlug:o,transaction:n.transaction,projectID:String(n.project_id),query:ue(ue({},t.query),{},{query:(0,b.os)(t.query.query,e.key,e.value)})}),l=s.pathname,c=s.query;return(0,se.tZ)(K.Z,{key:(0,oe.ri)(e.key)?e.key:"tag-pill-".concat(a),tag:e,projectId:n.project_slug,organization:r,location:t,query:c,streamPath:l,releasesPath:i,hasQueryFeature:!1})})))))}Se.displayName="Tags";var Pe=r("./app/components/count.tsx"),_e=r("./app/components/idBadge/projectBadge.tsx"),ze=r("./app/components/tooltip.tsx"),Ce=r("./app/components/waterfallTree/constants.tsx"),Ie=r("./app/components/waterfallTree/row.tsx"),Re=r("./app/components/waterfallTree/rowBar.tsx"),Ee=r("./app/components/waterfallTree/rowDivider.tsx"),qe=r("./app/components/waterfallTree/rowTitle.tsx"),Be=r("./app/components/waterfallTree/treeConnector.tsx"),Ve=r("./app/utils/projects.tsx"),Ae=r("../node_modules/lodash/omit.js"),Me=r.n(Ae),Le=r("./app/components/button.tsx"),Ne=r("./app/components/dateTime.tsx"),He=r("./app/components/quickTrace/utils.tsx"),Fe=r("./app/utils/discover/urls.tsx"),Ge=r("./app/utils/getDynamicText.tsx"),Qe=r("./app/utils/performance/vitals/constants.tsx"),Ue=r("./app/views/performance/utils.tsx");var We=function(e){(0,o.Z)(u,e);var t,r,l=(t=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.Z)(t);if(r){var a=(0,s.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,n.Z)(this,u);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=l.call.apply(l,[this].concat(r)),(0,O.Z)((0,j.Z)(e),"state",{errorsOpened:!1}),(0,O.Z)((0,j.Z)(e),"toggleErrors",(function(){e.setState((function(e){return{errorsOpened:!e.errorsOpened}}))})),e}return(0,a.Z)(u,[{key:"renderTransactionErrors",value:function(){var e=this.props,t=e.organization,r=e.transaction,n=this.state.errorsOpened,a=r.errors;return 0===a.length?null:(0,se.tZ)(P.Z,{system:!0,type:"error",icon:(0,se.tZ)(Q.FC,{size:"md"})},(0,se.tZ)(we,null,(0,m.tn)("An error event occurred in this transaction.","%s error events occurred in this transaction.",a.length),(0,se.tZ)($e,{priority:"link",onClick:this.toggleErrors},(0,se.tZ)(Q.g6,{direction:n?"up":"down"}))),n&&(0,se.tZ)(Te,null,a.map((function(e){return(0,se.tZ)(c.Fragment,{key:e.event_id},(0,se.tZ)(je,{level:e.level}),(0,se.tZ)(Oe,null,e.level),(0,se.tZ)(De,null,(0,se.tZ)(A.Z,{to:(0,He.F7)(e,t)},e.title)))}))))}},{key:"renderGoToTransactionButton",value:function(){var e=this.props,t=e.location,r=e.organization,n=e.transaction,a=(0,Fe.JE)({id:n.event_id,project:n.project_slug}),o=(0,Ue.DD)(r,a,n.transaction,Me()(t.query,Object.values(f.V)));return(0,se.tZ)(Xe,{size:"xsmall",to:o},(0,m.t)("View Transaction"))}},{key:"renderGoToSummaryButton",value:function(){var e=this.props,t=e.location,r=e.organization,n=e.transaction,a=(0,ie.e1)({orgSlug:r.slug,transaction:n.transaction,query:Me()(t.query,Object.values(f.V)),projectID:String(n.project_id)});return(0,se.tZ)(Xe,{size:"xsmall",to:a},(0,m.t)("View Summary"))}},{key:"renderMeasurements",value:function(){var e=this.props.transaction.measurements,t=void 0===e?{}:e,r=Object.keys(t).filter((function(e){return Boolean(Qe.r["measurements.".concat(e)])})).sort();return r.length<=0?null:(0,se.tZ)(c.Fragment,null,r.map((function(e){var r;return(0,se.tZ)(le.X2,{key:e,title:null===(r=Qe.r["measurements.".concat(e)])||void 0===r?void 0:r.name},"".concat(Number(t[e].value.toFixed(3)).toLocaleString(),"ms"))})))}},{key:"renderTransactionDetail",value:function(){var e=this.props,t=e.location,r=e.organization,n=e.transaction,a=Math.min(n.start_timestamp,n.timestamp),o=Math.max(n.start_timestamp,n.timestamp),i="".concat(Number((1e3*(o-a)).toFixed(3)).toLocaleString(),"ms");return(0,se.tZ)(le.iF,null,(0,se.tZ)("table",{className:"table key-value"},(0,se.tZ)("tbody",null,(0,se.tZ)(le.X2,{title:"Transaction ID",extra:this.renderGoToTransactionButton()},n.event_id),(0,se.tZ)(le.X2,{title:"Transaction",extra:this.renderGoToSummaryButton()},n.transaction),(0,se.tZ)(le.X2,{title:"Transaction Status"},n["transaction.status"]),(0,se.tZ)(le.X2,{title:"Span ID"},n.span_id),(0,se.tZ)(le.X2,{title:"Project"},n.project_slug),(0,se.tZ)(le.X2,{title:"Start Date"},(0,Ge.Z)({fixed:"Mar 19, 2021 11:06:27 AM UTC",value:(0,se.tZ)(c.Fragment,null,(0,se.tZ)(Ne.Z,{date:1e3*a})," (".concat(a,")"))})),(0,se.tZ)(le.X2,{title:"End Date"},(0,Ge.Z)({fixed:"Mar 19, 2021 11:06:28 AM UTC",value:(0,se.tZ)(c.Fragment,null,(0,se.tZ)(Ne.Z,{date:1e3*o})," (".concat(o,")"))})),(0,se.tZ)(le.X2,{title:"Duration"},i),(0,se.tZ)(le.X2,{title:"Operation"},n["transaction.op"]||""),this.renderMeasurements(),(0,se.tZ)(Se,{location:t,organization:r,transaction:n}))))}},{key:"render",value:function(){return(0,se.tZ)(le.wh,{onClick:function(e){e.stopPropagation()}},this.renderTransactionErrors(),this.renderTransactionDetail())}}]),u}(c.Component);We.displayName="TransactionDetail";var Xe=(0,l.Z)(Le.ZP,{target:"eykqe520",label:"StyledButton"})("position:absolute;top:",(0,ae.Z)(.75),";right:",(0,ae.Z)(.5),";"),$e=(0,l.Z)(Le.ZP,{target:"eykqe521",label:"Toggle"})("font-weight:bold;color:",(function(e){return e.theme.subText}),";:hover{color:",(function(e){return e.theme.textColor}),";}");const Je=We;var Ke=r("./app/views/performance/traceDetails/utils.tsx");var Ye=function(e){(0,o.Z)(u,e);var t,r,l=(t=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.Z)(t);if(r){var a=(0,s.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,n.Z)(this,u);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=l.call.apply(l,[this].concat(r)),(0,O.Z)((0,j.Z)(e),"state",{showDetail:!1}),(0,O.Z)((0,j.Z)(e),"toggleDisplayDetail",(function(){var t=e.props.transaction;(0,Ke.Ci)(t)&&e.setState((function(e){return{showDetail:!e.showDetail}}))})),e}return(0,a.Z)(u,[{key:"getCurrentOffset",value:function(){return et(this.props.transaction.generation)}},{key:"renderConnector",value:function(e){var t=this.props,r=t.continuingDepths,n=t.isExpanded,a=t.isOrphan,o=t.isLast,i=t.transaction,s=i.generation,l=(0,Ke.Ci)(i)?i.event_id:i.traceSlug;if(0===s)return e?(0,se.tZ)(Be.UV,{style:{right:"16px",height:"10px",bottom:"-5px",top:"auto"},orphanBranch:!1}):null;var c=r.map((function(e){var t=e.depth,r=e.isOrphanDepth;if(s-t<=1)return null;var n=-1*et(s-t-1)-1;return(0,se.tZ)(Be.UV,{style:{left:n},key:"".concat(l,"-").concat(t),orphanBranch:r})}));return e&&n&&c.push((0,se.tZ)(Be.UV,{style:{right:"16px",height:"10px",bottom:o?"-".concat(Ce.d/2,"px"):"0",top:"auto"},key:"".concat(l,"-last"),orphanBranch:!1})),(0,se.tZ)(Be.DN,{isLast:o,hasToggler:e,orphanBranch:a},c)}},{key:"renderToggle",value:function(){var e=this.props,t=e.isExpanded,r=e.transaction,n=e.toggleExpandedState,a=r.children,o=r.generation,i=this.getCurrentOffset();if(a.length<=0)return(0,se.tZ)(Be.rw,{style:{left:"".concat(i,"px")}},this.renderConnector(!1));var s=0===o;return(0,se.tZ)(Be.rw,{style:{left:"".concat(i,"px")},hasToggler:!0},this.renderConnector(!0),(0,se.tZ)(Be.U1,{disabled:s,isExpanded:t,onClick:function(e){e.stopPropagation(),s||n()}},(0,se.tZ)(Pe.Z,{value:a.length}),!s&&(0,se.tZ)("div",null,(0,se.tZ)(Be.Oq,{direction:t?"up":"down"}))))}},{key:"renderTitle",value:function(e){var t=e.generateContentSpanBarRef,r=this.props,n=r.organization,a=r.transaction,o=this.getCurrentOffset(),i=(0,Ke.Ci)(a)?(0,se.tZ)(c.Fragment,null,(0,se.tZ)(Ve.Z,{orgId:n.slug,slugs:[a.project_slug]},(function(e){var t=e.projects.find((function(e){return e.slug===a.project_slug}));return(0,se.tZ)(ze.Z,{title:a.project_slug},(0,se.tZ)(_e.Z,{project:t||{slug:a.project_slug},avatarSize:16,hideName:!0}))})),(0,se.tZ)(ye,null,(0,se.tZ)("strong",null,(0,se.tZ)(qe.fI,{spanErrors:a.errors},a["transaction.op"])," — "),a.transaction)):(0,se.tZ)(ye,null,(0,se.tZ)("strong",null,(0,se.tZ)(qe.fI,{spanErrors:[]},"Trace")," — "),a.traceSlug);return(0,se.tZ)(qe.mw,{ref:t()},this.renderToggle(),(0,se.tZ)(qe.Wh,{style:{left:"".concat(o,"px"),width:"100%"}},i))}},{key:"renderDivider",value:function(e){if(this.state.showDetail)return(0,se.tZ)(Ee.x,{showDetail:!0,style:{position:"absolute"}});var t=e.addDividerLineRef;return(0,se.tZ)(Ee.x,{ref:t(),style:{position:"absolute"},onMouseEnter:function(){e.setHover(!0)},onMouseLeave:function(){e.setHover(!1)},onMouseOver:function(){e.setHover(!0)},onMouseDown:e.onDragStart,onClick:function(e){e.stopPropagation()}})}},{key:"renderGhostDivider",value:function(e){var t=e.dividerPosition,r=e.addGhostDividerLineRef;return(0,se.tZ)(Ee.H,{style:{width:"calc(".concat((0,G.yI)(t)," + 0.5px)"),display:"none"}},(0,se.tZ)(Ee.x,{ref:r(),style:{right:0},className:"hovering",onClick:function(e){e.stopPropagation()}}))}},{key:"renderErrorBadge",value:function(){var e=this.props.transaction,t=this.state.showDetail;return(0,Ke.Ci)(e)&&e.errors.length?(0,se.tZ)(xe,{showDetail:t}):null}},{key:"renderRectangle",value:function(){var e=this.props,t=e.transaction,r=e.traceInfo,n=e.barColour,a=this.state.showDetail,o=Math.abs(r.endTimestamp-r.startTimestamp)||1,i=Math.abs(t.start_timestamp-r.startTimestamp)/o,s=Math.abs(t.timestamp-t.start_timestamp),l=s/o;return(0,se.tZ)(Re.e,{spanBarHatch:!1,style:{backgroundColor:n,left:"clamp(0%, ".concat((0,G.yI)(i||0),", calc(100% - 1px))"),width:(0,G.yI)(l||0)}},(0,se.tZ)(Re.R,{durationDisplay:(0,G.ud)({left:i,width:l}),showDetail:a,spanBarHatch:!1},(0,G.bQ)(s)))}},{key:"renderHeader",value:function(e){var t=e.dividerHandlerChildrenProps,r=e.scrollbarManagerChildrenProps,n=this.props,a=n.hasGuideAnchor,o=n.index,i=this.state.showDetail,s=t.dividerPosition;return(0,se.tZ)(Ie.Qc,{showDetail:i},(0,se.tZ)(Ie.E5,{"data-test-id":"transaction-row-title","data-type":"span-row-cell",style:{width:"calc(".concat((0,G.yI)(s)," - 0.5px)"),paddingTop:0},showDetail:i,onClick:this.toggleDisplayDetail},(0,se.tZ)(_.Z,{target:"trace_view_guide_row",disabled:!a},this.renderTitle(r))),(0,se.tZ)(be,null,this.renderDivider(t),this.renderErrorBadge()),(0,se.tZ)(Ie.E5,{"data-test-id":"transaction-row-duration","data-type":"span-row-cell",showStriping:o%2!=0,style:{width:"calc(".concat((0,G.yI)(1-s)," - 0.5px)"),paddingTop:0},showDetail:i,onClick:this.toggleDisplayDetail},(0,se.tZ)(_.Z,{target:"trace_view_guide_row_details",disabled:!a},this.renderRectangle())),!i&&this.renderGhostDivider(t))}},{key:"render",value:function(){var e=this,t=this.props,r=t.location,n=t.organization,a=t.isVisible,o=t.transaction,i=this.state.showDetail;return(0,se.tZ)(Ie.X2,{visible:a,showBorder:i,cursor:(0,Ke.Ci)(o)?"pointer":"default"},(0,se.tZ)(E.$6,null,(function(t){return(0,se.tZ)(R.$,null,(function(r){return e.renderHeader({dividerHandlerChildrenProps:r,scrollbarManagerChildrenProps:t})}))})),(0,Ke.Ci)(o)&&a&&i&&(0,se.tZ)(Je,{location:r,organization:n,transaction:o}))}}]),u}(c.Component);function et(e){return e*(Be.Ll/2)+0}Ye.displayName="TransactionBar";const tt=Ye;var rt=function(e){(0,o.Z)(u,e);var t,r,l=(t=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.Z)(t);if(r){var a=(0,s.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,n.Z)(this,u);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=l.call.apply(l,[this].concat(r)),(0,O.Z)((0,j.Z)(e),"state",{isExpanded:!0}),(0,O.Z)((0,j.Z)(e),"toggleExpandedState",(function(){e.setState((function(e){return{isExpanded:!e.isExpanded}}))})),e}return(0,a.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.location,r=e.organization,n=e.transaction,a=e.traceInfo,o=e.continuingDepths,i=e.isOrphan,s=e.isLast,l=e.index,u=e.isVisible,p=e.hasGuideAnchor,d=e.renderedChildren,f=e.barColour,m=this.state.isExpanded;return(0,se.tZ)(c.Fragment,null,(0,se.tZ)(tt,{location:t,organization:r,index:l,transaction:n,traceInfo:a,continuingDepths:o,isOrphan:i,isLast:s,isExpanded:m,toggleExpandedState:this.toggleExpandedState,isVisible:u,hasGuideAnchor:p,barColour:f}),m&&d)}}]),u}(c.Component);rt.displayName="TransactionGroup";const nt=rt;function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach((function(t){(0,O.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var it=function(e){(0,o.Z)(u,e);var t,r,l=(t=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.Z)(t);if(r){var a=(0,s.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,n.Z)(this,u);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=l.call.apply(l,[this].concat(r)),(0,O.Z)((0,j.Z)(e),"state",{searchQuery:void 0,filteredTransactionIds:void 0}),(0,O.Z)((0,j.Z)(e),"traceViewRef",c.createRef()),(0,O.Z)((0,j.Z)(e),"virtualScrollbarContainerRef",c.createRef()),(0,O.Z)((0,j.Z)(e),"handleTransactionFilter",(function(t){e.setState({searchQuery:t||void 0},e.filterTransactions)})),(0,O.Z)((0,j.Z)(e),"filterTransactions",(0,T.Z)(k().mark((function t(){var r,n,a,o,i,s,l,c;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.traces,n=e.state,a=n.filteredTransactionIds,(o=n.searchQuery)&&null!==r&&!(r.length<=0)){t.next=5;break}return void 0!==a&&e.setState({filteredTransactionIds:void 0}),t.abrupt("return");case 5:return i=r.flatMap((function(e){return(0,X.S2)(e,(function(e,t){var r=[t["transaction.op"],t.transaction,t.project_slug];return e.push({transaction:t,indexed:r}),e}),[])})),t.next=8,(0,U.I)(i,{keys:["indexed"],includeMatches:!0,threshold:.6,location:0,distance:100,maxPatternLength:32});case 8:s=t.sent,l=s.search(o).filter((function(e){return e.matches.length})).map((function(e){return e.item.transaction.event_id})),c=r.flatMap((function(e){return(0,X.xB)(e,(function(e){var t=e.event_id,r=e.span_id;return t.includes(o)||r.includes(o)}))})).map((function(e){return e.event_id})),e.setState({filteredTransactionIds:new Set([].concat((0,w.Z)(l),(0,w.Z)(c)))});case 12:case"end":return t.stop()}}),t)})))),(0,O.Z)((0,j.Z)(e),"isTransactionVisible",(function(t){var r=e.state.filteredTransactionIds;return!r||r.has(t.event_id)})),e}return(0,a.Z)(u,[{key:"renderTraceLoading",value:function(){return(0,se.tZ)(L.Z,null)}},{key:"renderTraceRequiresDateRangeSelection",value:function(){return(0,se.tZ)(M.Z,{message:(0,m.t)("Trace view requires a date range selection.")})}},{key:"renderTraceNotFound",value:function(){return(0,se.tZ)(M.Z,{message:(0,m.t)("The trace you are looking for was not found.")})}},{key:"renderSearchBar",value:function(){return(0,se.tZ)(pe,null,(0,se.tZ)(de,{defaultQuery:"",query:this.state.searchQuery||"",placeholder:(0,m.t)("Search for transactions"),onSearch:this.handleTransactionFilter}))}},{key:"renderTraceHeader",value:function(e){var t,r,n,a=this.props.meta;return(0,se.tZ)(me,null,(0,se.tZ)(_.Z,{target:"trace_view_guide_breakdown"},(0,se.tZ)(J.U,{headingText:(0,m.t)("Event Breakdown"),tooltipText:(0,m.t)("The number of transactions and errors there are in this trace."),bodyText:(0,m._N)("[transactions]  |  [errors]",{transactions:(0,m.tn)("%s Transaction","%s Transactions",null!==(t=null==a?void 0:a.transactions)&&void 0!==t?t:e.transactions.size),errors:(0,m.tn)("%s Error","%s Errors",null!==(r=null==a?void 0:a.errors)&&void 0!==r?r:e.errors.size)}),subtext:(0,m.tn)("Across %s project","Across %s projects",null!==(n=null==a?void 0:a.projects)&&void 0!==n?n:e.projects.size)})),(0,se.tZ)(J.U,{headingText:(0,m.t)("Total Duration"),tooltipText:(0,m.t)("The time elapsed between the start and end of this trace."),bodyText:(0,W.g9)(e.endTimestamp-e.startTimestamp,2,!0),subtext:(0,se.tZ)(N.Z,{date:1e3*(e.endTimestamp||0)})}))}},{key:"renderTraceWarnings",value:function(){var e=this.props.traces,t=(null!=e?e:[]).reduce((function(e,t){return(0,Ke.uM)(t)?e.roots++:e.orphans++,e}),{roots:0,orphans:0}),r=t.roots,n=t.orphans,a=null;return 0===r&&n>0?a=(0,se.tZ)(P.Z,{type:"info",icon:(0,se.tZ)(Q.aU,{size:"sm"})},(0,se.tZ)(V.Z,{href:"https://docs.sentry.io/product/performance/trace-view/#orphan-traces-and-broken-subtraces"},(0,m.t)("A root transaction is missing. Transactions linked by a dashed line have been orphaned and cannot be directly linked to the root."))):1===r&&n>0?a=(0,se.tZ)(P.Z,{type:"info",icon:(0,se.tZ)(Q.aU,{size:"sm"})},(0,se.tZ)(V.Z,{href:"https://docs.sentry.io/product/performance/trace-view/#orphan-traces-and-broken-subtraces"},(0,m.t)("This trace has broken subtraces. Transactions linked by a dashed line have been orphaned and cannot be directly linked to the root."))):r>1&&(a=(0,se.tZ)(P.Z,{type:"info",icon:(0,se.tZ)(Q.aU,{size:"sm"})},(0,se.tZ)(V.Z,{href:"https://docs.sentry.io/product/performance/trace-view/#multiple-roots"},(0,m.t)("Multiple root transactions have been found with this trace ID.")))),a}},{key:"renderInfoMessage",value:function(e){var t=e.isVisible,r=e.numberOfHiddenTransactionsAbove,n=[];return t&&(1===r?n.push((0,se.tZ)("span",{key:"stuff"},(0,m._N)("[numOfTransaction] hidden transaction",{numOfTransaction:(0,se.tZ)("strong",null,r)}))):r>1&&n.push((0,se.tZ)("span",{key:"stuff"},(0,m._N)("[numOfTransaction] hidden transactions",{numOfTransaction:(0,se.tZ)("strong",null,r)})))),n.length<=0?null:(0,se.tZ)(H.V,null,n)}},{key:"renderLimitExceededMessage",value:function(e){var t,r=this.props,n=r.traceEventView,a=r.organization,o=r.meta,i=e.transactions.size,s=null!==(t=null==o?void 0:o.transactions)&&void 0!==t?t:i;if(null===s||i>=s)return null;var l=n.getResultsViewUrlTarget(a.slug);return(0,se.tZ)(H.V,null,(0,m._N)("Limited to a view of [count] transactions. To view the full list, [discover].",{count:i,discover:(0,se.tZ)(C.Z,null,(function(e){var t=e.hasFeature;return(0,se.tZ)(A.Z,{disabled:!t,to:l},"Open in Discover")}))}))}},{key:"renderTransaction",value:function(e,t){var r=this,n=t.continuingDepths,a=t.isOrphan,o=t.isLast,i=t.index,s=t.numberOfHiddenTransactionsAbove,l=t.traceInfo,u=t.hasGuideAnchor,p=this.props,d=p.location,f=p.organization,m=e.children,h=e.event_id,g=e.generation+1,v=this.isTransactionVisible(e),y=m.reduce((function(e,t,o){var i=o===m.length-1,s=t.children.length>0,c=r.renderTransaction(t,{continuingDepths:!i&&s?[].concat((0,w.Z)(n),[{depth:g,isOrphanDepth:a}]):n,isOrphan:a,isLast:i,index:e.lastIndex+1,numberOfHiddenTransactionsAbove:e.numberOfHiddenTransactionsAbove,traceInfo:l,hasGuideAnchor:!1});return e.lastIndex=c.lastIndex,e.numberOfHiddenTransactionsAbove=c.numberOfHiddenTransactionsAbove,e.renderedChildren.push(c.transactionGroup),e}),{renderedChildren:[],lastIndex:i,numberOfHiddenTransactionsAbove:v?0:s+1});return{transactionGroup:(0,se.tZ)(c.Fragment,{key:h},this.renderInfoMessage({isVisible:v,numberOfHiddenTransactionsAbove:s}),(0,se.tZ)(nt,{location:d,organization:f,traceInfo:l,transaction:ot(ot({},e),{},{generation:g}),continuingDepths:n,isOrphan:a,isLast:o,index:i,isVisible:v,hasGuideAnchor:u,renderedChildren:y.renderedChildren,barColour:(0,G.dW)(e["transaction.op"])})),lastIndex:y.lastIndex,numberOfHiddenTransactionsAbove:y.numberOfHiddenTransactionsAbove}}},{key:"renderTraceView",value:function(e){var t,r=this,n=null===(t=S.Gd().getScope())||void 0===t?void 0:t.getTransaction(),a=null==n?void 0:n.startChild({op:"trace.render",description:"trace-view-content"}),o=this.props,i=o.location,s=o.organization,l=o.traces,c=o.traceSlug;if(null===l||l.length<=0)return this.renderTraceNotFound();var u={index:1,numberOfHiddenTransactionsAbove:0,traceInfo:e,transactionGroups:[]},p=l.reduce((function(e,t,n){var a=n===l.length-1,o=t.children.length>0,i=!a&&null!==l[n+1].parent_span_id,s=r.renderTransaction(t,ot(ot({},e),{},{isOrphan:!(0,Ke.uM)(t),isLast:a,continuingDepths:!a&&o?[{depth:0,isOrphanDepth:i}]:[],hasGuideAnchor:0===n}));return e.index=s.lastIndex+1,e.numberOfHiddenTransactionsAbove=s.numberOfHiddenTransactionsAbove,e.transactionGroups.push(s.transactionGroup),e}),u),d=p.transactionGroups,f=p.numberOfHiddenTransactionsAbove,m=(0,se.tZ)(he,null,(0,se.tZ)(R.z,{interactiveLayerRef:this.traceViewRef},(0,se.tZ)(R.$,null,(function(t){var n=t.dividerPosition;return(0,se.tZ)(E.zt,{dividerPosition:n,interactiveLayerRef:r.virtualScrollbarContainerRef},(0,se.tZ)(ve,null,(0,se.tZ)(fe,null,(0,se.tZ)(F.cs,{ref:r.virtualScrollbarContainerRef,style:{width:"calc(".concat((0,G.yI)(n)," - 0.5px)")}},(0,se.tZ)(E.$6,null,(function(e){var t=e.virtualScrollbarRef,r=e.onDragStart;return(0,se.tZ)(F.Qk,{"data-type":"virtual-scrollbar",ref:t,onMouseDown:r},(0,se.tZ)(F.v6,null))}))),(0,se.tZ)(F._i,null)),(0,se.tZ)(ge,{ref:r.traceViewRef},(0,se.tZ)(nt,{location:i,organization:s,traceInfo:e,transaction:{traceSlug:c,generation:0,"transaction.duration":e.endTimestamp-e.startTimestamp,children:l,start_timestamp:e.startTimestamp,timestamp:e.endTimestamp},continuingDepths:[],isOrphan:!1,isLast:!1,index:0,isVisible:!0,hasGuideAnchor:!1,renderedChildren:d,barColour:(0,G.dW)("")}),r.renderInfoMessage({isVisible:!0,numberOfHiddenTransactionsAbove:f}),r.renderLimitExceededMessage(e))))}))));return null==a||a.finish(),m}},{key:"renderContent",value:function(){var e=this.props,t=e.dateSelected,r=e.isLoading,n=e.error,a=e.traces;if(t){if(r)return this.renderTraceLoading();if(null!==n||null===a||a.length<=0)return this.renderTraceNotFound();var o=(0,Ke.Rg)(a);return(0,se.tZ)(c.Fragment,null,this.renderTraceWarnings(),this.renderTraceHeader(o),this.renderSearchBar(),this.renderTraceView(o))}return this.renderTraceRequiresDateRangeSelection()}},{key:"render",value:function(){var e=this.props,t=e.organization,r=e.location,n=e.traceEventView,a=e.traceSlug;return(0,se.tZ)(c.Fragment,null,(0,se.tZ)(B.h4,null,(0,se.tZ)(B.oB,null,(0,se.tZ)($.Z,{organization:t,location:r,traceSlug:a}),(0,se.tZ)(B.Dx,{"data-test-id":"trace-header"},(0,m.t)("Trace ID: %s",a),(0,se.tZ)(q.Z,{type:"new"}))),(0,se.tZ)(B.kP,null,(0,se.tZ)(z.Z,{gap:1},(0,se.tZ)(I.Z,{to:n.getResultsViewUrlTarget(t.slug)},"Open in Discover")))),(0,se.tZ)(B.uT,null,(0,se.tZ)(B.or,{fullWidth:!0},this.renderContent())))}}]),u}(c.Component);it.displayName="TraceDetailsContent";const st=it;var lt=function(e){(0,o.Z)(c,e);var t,r,l=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.Z)(t);if(r){var a=(0,s.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function c(){return(0,n.Z)(this,c),l.apply(this,arguments)}return(0,a.Z)(c,[{key:"getDocumentTitle",value:function(){return[(0,m.t)("Trace Details"),(0,m.t)("Performance")].join(" - ")}},{key:"getTraceSlug",value:function(){var e=this.props.params.traceSlug;return"string"==typeof e?e.trim():""}},{key:"getDateSelection",value:function(){var e=this.props.location,t=(0,p.Q)(e.query,{allowAbsolutePageDatetime:!0});return{start:(0,b.ro)(t.start),end:(0,b.ro)(t.end),statsPeriod:(0,b.ro)(t.statsPeriod)}}},{key:"getTraceEventView",value:function(){var e=this.getTraceSlug(),t=this.getDateSelection(),r=t.start,n=t.end,a=t.statsPeriod;return g.ZP.fromSavedQuery({id:void 0,name:"Events with Trace ID ".concat(e),fields:["title","event.type","project","timestamp"],orderby:"-timestamp",query:"trace:".concat(e),projects:[f.mP],version:2,start:r,end:n,range:a})}},{key:"renderContent",value:function(){var e=this,t=this.props,r=t.location,n=t.organization,a=t.params,o=this.getTraceSlug(),i=this.getDateSelection(),s=i.start,l=i.end,c=i.statsPeriod,u=Boolean(c||s&&l),p=function(t){var i=t.isLoading,s=t.error,l=t.traces,c=t.meta;return(0,se.tZ)(st,{location:r,organization:n,params:a,traceSlug:o,traceEventView:e.getTraceEventView(),dateSelected:u,isLoading:i,error:s,traces:l,meta:c})};return u?(0,se.tZ)(v.H,{location:r,orgSlug:n.slug,traceId:o,start:s,end:l,statsPeriod:c},(function(e){return(0,se.tZ)(y.Z,{location:r,orgSlug:n.slug,traceId:o,start:s,end:l,statsPeriod:c},(function(t){return p({isLoading:e.isLoading||t.isLoading,error:e.error||t.error,traces:e.traces,meta:t.meta})}))})):p({isLoading:!1,error:"date selection not specified",traces:null,meta:null})}},{key:"render",value:function(){var e=this.props.organization;return(0,se.tZ)(d.Z,{title:this.getDocumentTitle(),orgSlug:e.slug},(0,se.tZ)(ut,null,(0,se.tZ)(u.Z,{organization:e},this.renderContent())))}}]),c}(c.Component);lt.displayName="TraceSummary";const ct=(0,x.Z)((0,Z.Z)(lt));var ut=(0,l.Z)(h.JH,{target:"eqzhpg90",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"})},"./app/views/performance/transactionDetails/styles.tsx":(e,t,r)=>{"use strict";r.d(t,{U:()=>c});var n=r("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=(r("../node_modules/react/index.js"),r("./app/components/charts/styles.tsx")),o=r("./app/components/featureBadge.tsx"),i=r("./app/components/questionTooltip.tsx"),s=r("./app/styles/space.tsx"),l=r("../node_modules/@emotion/core/dist/core.browser.esm.js");function c(e){var t=e.headingText,r=e.tooltipText,n=e.bodyText,a=e.subtext,o=e.badge;return(0,l.tZ)(u,null,(0,l.tZ)(p,null,t,(0,l.tZ)(i.Z,{position:"top",size:"sm",containerDisplayMode:"block",title:r}),o&&(0,l.tZ)(f,{type:o})),(0,l.tZ)(d,null,n),(0,l.tZ)(m,null,a))}c.displayName="MetaData";var u=(0,n.Z)("div",{target:"eqz9f140",label:"HeaderInfo"})({name:"1ry9wb5",styles:"height:78px;"}),p=(0,n.Z)(a.OT,{target:"eqz9f141",label:"StyledSectionHeading"})({name:"1uk1gs8",styles:"margin:0;"}),d=(0,n.Z)("div",{target:"eqz9f142",label:"SectionBody"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";padding:",(0,s.Z)(.5)," 0;max-height:32px;"),f=(0,n.Z)(o.Z,{target:"eqz9f143",label:"StyledFeatureBadge"})({name:"1uk1gs8",styles:"margin:0;"}),m=(0,n.Z)("div",{target:"eqz9f144",label:"SectionSubtext"})("color:",(function(e){return"error"===e.type?e.theme.error:e.theme.subText}),";font-size:",(function(e){return e.theme.fontSizeMedium}),";")},"./app/views/performance/transactionVitals/utils.tsx":(e,t,r)=>{"use strict";r.d(t,{Pl:()=>a,oZ:()=>o,eH:()=>i,L0:()=>s,jb:()=>l});var n=r("./app/utils/performance/histogram/utils.tsx");function a(e){var t,r=e.orgSlug,n=e.transaction,a=e.projectID,o=e.query;return{pathname:(t={orgSlug:r},"/organizations/".concat(t.orgSlug,"/performance/summary/vitals/")),query:{transaction:n,project:a,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}function o(e,t){var r=(0,n.te)(e);return!e.length||t>=e[e.length-1].bin+r?null:t<e[0].bin?-1:Math.floor((t-e[0].bin)/r)}function i(e){if(e.length<2)return null;for(var t=0;t<e.length;t++)for(var r=e[t],n=t+1;n<e.length;n++){var a=e[n];if(r.bin!==a.bin&&r.count!==a.count)return{point1:{x:t,y:Math.min(r.count,a.count)},point2:{x:n,y:Math.max(r.count,a.count)}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function s(e,t){var r=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==r?void 0:r[0])||isNaN(null==r?void 0:r[1]))return null;var n=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==n?void 0:n[0])||isNaN(null==n?void 0:n[1])?null:{point1:{x:r[0],y:r[1]},point2:{x:n[0],y:n[1]}}}function l(e,t,r){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||r.point1.x===r.point2.x||r.point1.y===r.point2.y)return null;var n=(e.x-t.point1.x)/(t.point2.x-t.point1.x),a=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:r.point1.x+(r.point2.x-r.point1.x)*n,y:r.point1.y+(r.point2.y-r.point1.y)*a}}},"./app/views/settings/components/forms/controls/radioGroup.tsx":(e,t,r)=>{"use strict";r.d(t,{V:()=>m,Z:()=>y});var n=r("../node_modules/@babel/runtime/helpers/esm/extends.js"),a=r("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=r("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),s=r("../node_modules/react/index.js"),l=r("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),c=r("./app/components/radio.tsx"),u=r("./app/styles/space.tsx"),p=r("../node_modules/@emotion/core/dist/core.browser.esm.js"),d=function(e){var t=e.value,r=e.disabled,i=e.choices,l=e.label,u=e.onChange,d=e.orientInline,f=(0,o.Z)(e,["value","disabled","choices","label","onChange","orientInline"]);return(0,p.tZ)(h,(0,n.Z)({orientInline:d},f,{role:"radiogroup","aria-labelledby":l}),(i||[]).map((function(e,n){var o=(0,a.Z)(e,3),i=o[0],l=o[1],d=o[2];return(0,p.tZ)(m,{key:n,role:"radio",index:n,"aria-checked":t===i,disabled:r},(0,p.tZ)(c.Z,{"aria-label":i,disabled:r,checked:t===i,onChange:function(e){return!r&&u(i,e)}}),(0,p.tZ)(g,{disabled:r},l),d&&(0,p.tZ)(s.Fragment,null,(0,p.tZ)("div",null),(0,p.tZ)(v,null,d)))})))};d.displayName="RadioGroup";var f=function(e){return!["disabled","animate"].includes(e)&&(0,l.Z)(e)},m=(0,i.Z)("label",{shouldForwardProp:f,target:"eusy9kz0",label:"RadioLineItem"})("display:grid;grid-gap:0.25em 0.5em;grid-template-columns:max-content auto;align-items:center;cursor:",(function(e){return e.disabled?"default":"pointer"}),";outline:none;font-weight:normal;margin:0;"),h=(0,i.Z)("div",{target:"eusy9kz1",label:"Container"})("display:grid;grid-gap:",(function(e){return(0,u.Z)(e.orientInline?3:1)}),";grid-auto-flow:",(function(e){return e.orientInline?"column":"row"}),";grid-auto-rows:max-content;grid-auto-columns:max-content;"),g=(0,i.Z)("div",{shouldForwardProp:f,target:"eusy9kz2",label:"RadioLineText"})("opacity:",(function(e){return e.disabled?.4:null}),";"),v=(0,i.Z)("div",{target:"eusy9kz3",label:"Description"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeRelativeSmall}),";line-height:1.4em;");const y=d}}]);
//# sourceMappingURL=PerformanceTraceDetails.js.map