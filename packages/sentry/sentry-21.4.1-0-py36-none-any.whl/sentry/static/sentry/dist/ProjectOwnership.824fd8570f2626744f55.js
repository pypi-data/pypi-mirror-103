(self.webpackChunk=self.webpackChunk||[]).push([["ProjectOwnership"],{"./app/utils/routeTitle.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,s="".concat(e," - ").concat(t),o=n?"".concat(s," - ").concat(n):s;return r?"".concat(o," - Sentry"):o}},"./app/views/asyncView.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=(r("../node_modules/react/index.js"),r("../node_modules/react-document-title/index.js")),c=r.n(l),u=r("./app/components/asyncComponent.tsx"),d=r("../node_modules/@emotion/core/dist/core.browser.esm.js");var p=function(e){(0,o.Z)(u,e);var t,r,l=(t=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,a.Z)(t);if(r){var s=(0,a.Z)(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,n.Z)(this,u),l.apply(this,arguments)}return(0,s.Z)(u,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,d.tZ)(c(),{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),u}(u.Z);p.displayName="AsyncView"},"./app/views/settings/components/forms/formPanel.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r("../node_modules/@babel/runtime/helpers/esm/extends.js"),s=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=r("../node_modules/react/index.js"),d=r("./app/components/panels/index.tsx"),p=r("./app/utils/sanitizeQuerySelector.tsx"),f=r("./app/views/settings/components/forms/fieldFromConfig.tsx"),m=r("../node_modules/@emotion/core/dist/core.browser.esm.js");var h=function(e){(0,a.Z)(h,e);var t,r,u=(t=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(r){var s=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function h(){return(0,o.Z)(this,h),u.apply(this,arguments)}return(0,i.Z)(h,[{key:"render",value:function(){var e=this,t=this.props,r=t.title,o=t.fields,i=t.access,a=t.disabled,l=t.additionalFieldProps,c=t.renderFooter,u=t.renderHeader,h=(0,s.Z)(t,["title","fields","access","disabled","additionalFieldProps","renderFooter","renderHeader"]);return(0,m.tZ)(d.s_,{id:"string"==typeof r?(0,p.m)(r):void 0},r&&(0,m.tZ)(d.V9,null,r),(0,m.tZ)(d.N,null,"function"==typeof u&&u({title:r,fields:o}),o.map((function(t){if("function"==typeof t)return t();t.defaultValue;var r=(0,s.Z)(t,["defaultValue"]);return!0===a&&(r.disabled=!0,r.disabledReason=void 0),(0,m.tZ)(f.Z,(0,n.Z)({access:i,disabled:a,key:t.name},h,l,{field:r,highlighted:e.props.highlighted==="#".concat(t.name)}))})),"function"==typeof c&&c({title:r,fields:o})))}}]),h}(u.Component);h.displayName="FormPanel"},"./app/views/settings/components/forms/jsonForm.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r("../node_modules/@babel/runtime/helpers/esm/extends.js"),s=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../node_modules/react/index.js"),f=r("../node_modules/@sentry/minimal/esm/index.js"),m=r("../node_modules/prop-types/index.js"),h=r.n(m),y=r("../node_modules/reflexbox/dist/index.js"),b=r("../node_modules/scroll-to-element/index.js"),g=r.n(b),Z=r("./app/utils.tsx"),v=r("./app/utils/sanitizeQuerySelector.tsx"),w=r("./app/views/settings/components/forms/formPanel.tsx"),x=r("../node_modules/@emotion/core/dist/core.browser.esm.js");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){(0,l.Z)(h,e);var t,r,m=(t=h,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var s=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function h(){var e;(0,o.Z)(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=m.call.apply(m,[this].concat(r)),(0,d.Z)((0,a.Z)(e),"state",{highlighted:O(e.props,e.context).hash}),e}return(0,i.Z)(h,[{key:"componentDidMount",value:function(){this.scrollToHash()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(O(this.props,this.context).hash!==O(e,this.context).hash){var t=O(e,this.context).hash;this.scrollToHash(t),this.setState({highlighted:t})}}},{key:"scrollToHash",value:function(e){var t=e||O(this.props,this.context).hash;if(t)try{g()((0,v.m)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){f.Tb(e)}}},{key:"shouldDisplayForm",value:function(e){var t=e.filter((function(e){return"function"!=typeof e&&(0,Z.ri)(null==e?void 0:e.visible)}));if(e.length===t.length){var r=this.props,n=r.additionalFieldProps,o=(0,s.Z)(r,["additionalFieldProps"]);return!t.every((function(e){return"function"==typeof e.visible?!e.visible(P(P({},o),n)):!e.visible}))}return!0}},{key:"renderForm",value:function(e){var t=e.fields,r=e.formPanelProps,s=e.title;return this.shouldDisplayForm(t)||null!=r&&r.renderFooter||null!=r&&r.renderHeader?(0,x.tZ)(w.Z,(0,n.Z)({title:s,fields:t},r)):null}},{key:"render",value:function(){var e=this,t=this.props,r=t.access,n=t.fields,o=t.title,i=t.forms,a=t.disabled,l=t.features,c=t.additionalFieldProps,u=t.renderFooter,d=t.renderHeader,f=(t.location,(0,s.Z)(t,["access","fields","title","forms","disabled","features","additionalFieldProps","renderFooter","renderHeader","location"])),m={access:r,disabled:a,features:l,additionalFieldProps:c,renderFooter:u,renderHeader:d,highlighted:this.state.highlighted};return(0,x.tZ)(y.xu,f,void 0!==i&&i.map((function(t,r){return(0,x.tZ)(p.Fragment,{key:r},e.renderForm(P({formPanelProps:m},t)))})),void 0===i&&void 0!==n&&this.renderForm({fields:n,formPanelProps:m,title:o}))}}]),h}(p.Component);k.displayName="JsonForm",(0,d.Z)(k,"contextTypes",{location:h().object}),(0,d.Z)(k,"defaultProps",{additionalFieldProps:{}});const _=k;function O(e,t){return e.location||t.location||{}}},"./app/views/settings/components/settingsPageHeader.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});var n=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=r("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),d=r("../node_modules/react/index.js"),p=r("./app/styles/organization.tsx"),f=r("./app/styles/space.tsx"),m=r("../node_modules/@emotion/core/dist/core.browser.esm.js");var h=function(e){(0,i.Z)(u,e);var t,r,c=(t=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var s=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return(0,a.Z)(this,e)});function u(){return(0,s.Z)(this,u),c.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.icon,r=e.title,s=e.subtitle,o=e.action,i=e.tabs,a=e.noTitleStyles,l=e.body,c=(0,n.Z)(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),u=!s;return(0,m.tZ)("div",c,(0,m.tZ)(y,{isNarrow:u},(0,m.tZ)(b,null,t&&(0,m.tZ)(v,null,t),r&&(0,m.tZ)(g,{tabs:i,styled:a},(0,m.tZ)(p.Gh,null,r),s&&(0,m.tZ)(Z,null,s))),o&&(0,m.tZ)(w,{isNarrow:u},o)),l&&(0,m.tZ)(j,null,l),i&&(0,m.tZ)(P,null,i))}}]),u}(d.Component);h.displayName="UnstyledSettingsPageHeader",(0,c.Z)(h,"defaultProps",{noTitleStyles:!1});var y=(0,u.Z)("div",{target:"e1nr98yc0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),b=(0,u.Z)("div",{target:"e1nr98yc1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),g=(0,u.Z)("div",{target:"e1nr98yc2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",(0,f.Z)(4)," ",(0,f.Z)(2)," ",(0,f.Z)(3)," 0;"),Z=(0,u.Z)("div",{target:"e1nr98yc3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",(0,f.Z)(1.5)," 0 0;"),v=(0,u.Z)("div",{target:"e1nr98yc4",label:"Icon"})("margin-right:",(0,f.Z)(1),";"),w=(0,u.Z)("div",{target:"e1nr98yc5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":(0,f.Z)(4)}),";"),x=(0,u.Z)(h,{target:"e1nr98yc6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",(0,f.Z)(4),";"),j=(0,u.Z)("div",{target:"e1nr98yc7",label:"BodyWrapper"})("flex:1;margin:0 0 ",(0,f.Z)(3),";"),P=(0,u.Z)("div",{target:"e1nr98yc8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});const k=x},"./app/views/settings/project/permissionAlert.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r("../node_modules/@babel/runtime/helpers/esm/extends.js"),s=r("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=(r("../node_modules/react/index.js"),r("./app/components/acl/access.tsx")),i=r("./app/components/alert.tsx"),a=r("./app/icons/index.tsx"),l=r("./app/locale.tsx"),c=r("../node_modules/@emotion/core/dist/core.browser.esm.js"),u=function(e){var t=e.access,r=void 0===t?["project:write"]:t,u=(0,s.Z)(e,["access"]);return(0,c.tZ)(o.Z,{access:r},(function(e){return!e.hasAccess&&(0,c.tZ)(i.Z,(0,n.Z)({type:"warning",icon:(0,c.tZ)(a.FC,{size:"xs"})},u),(0,l.t)("These settings can only be edited by users with the organization owner, manager, or admin role."))}))};u.displayName="PermissionAlert";const d=u},"./app/views/settings/project/projectOwnership/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>se});var n=r("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),u=r("../node_modules/react/index.js"),d=r("./app/actionCreators/modal.tsx"),p=r("./app/components/acl/feature.tsx"),f=r("./app/components/button.tsx"),m=r("./app/components/links/externalLink.tsx"),h=r("./app/locale.tsx"),y=r("./app/utils/routeTitle.tsx"),b=r("./app/views/asyncView.tsx"),g=r("./app/views/settings/components/forms/form.tsx"),Z=r("./app/views/settings/components/forms/jsonForm.tsx"),v=r("./app/views/settings/components/settingsPageHeader.tsx"),w=r("./app/views/settings/project/permissionAlert.tsx"),x=r("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),j=r("../node_modules/@babel/runtime/regenerator/index.js"),P=r.n(j),k=r("./app/actionCreators/indicator.tsx"),_=r("./app/components/asyncComponent.tsx"),O=r("./app/components/confirm.tsx"),R=r("./app/icons/index.tsx"),C=r("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),z=r("../node_modules/react-autosize-textarea/lib/index.js"),F=r("../node_modules/emotion-theming/dist/emotion-theming.browser.esm.js"),T=r("../node_modules/moment/moment.js"),S=r.n(T),D=r("./app/components/panels/index.tsx"),A=r("./app/components/tag.tsx"),B=r("./app/styles/input.tsx"),N=r("./app/styles/space.tsx"),E=r("../node_modules/@emotion/core/dist/core.browser.esm.js");var I=function(e){(0,i.Z)(c,e);var t,r,o=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var s=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return(0,a.Z)(this,e)});function c(){return(0,n.Z)(this,c),o.apply(this,arguments)}return(0,s.Z)(c,[{key:"renderIcon",value:function(e){switch(e){case"github":return(0,E.tZ)(R.Uv,{size:"md"});case"gitlab":return(0,E.tZ)(R.Et,{size:"md"});default:return(0,E.tZ)(R.iW,{size:"md"})}}},{key:"renderTitle",value:function(){switch(this.props.type){case"codeowners":return"CODEOWNERS";case"issueowners":return"Ownership Rules";default:return null}}},{key:"render",value:function(){var e=this.props,t=e.raw,r=e.dateUpdated,n=e.provider,s=e.repoName,o=e.readOnly,i=e.placeholder,a=e.detail,l=e.controls,c=e["data-test-id"];return(0,E.tZ)(U,{"data-test-id":c},(0,E.tZ)(W,null,(0,E.tZ)(V,null,this.renderIcon(null!=n?n:""),(0,E.tZ)(M,null,this.renderTitle())),o&&(0,E.tZ)(q,{type:"default"},"Read Only"),s&&(0,E.tZ)(L,null,s),a&&(0,E.tZ)(G,null,a)),(0,E.tZ)(Q,null,(0,E.tZ)(J,null,(0,E.tZ)(K,null,(0,E.tZ)($,null,r&&"Last synced ".concat(S()(r).fromNow())),(0,E.tZ)(ee,null,(l||[]).map((function(e,t){return(0,E.tZ)("span",{key:t}," ",e)})))),(0,E.tZ)(X,null,(0,E.tZ)(Y,{value:t,spellCheck:"false",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",placeholder:i})))))}}]),c}(u.Component);I.displayName="RulesPanel";const H=(0,F.Zz)(I);var U=(0,C.Z)("div",{target:"earny2k0",label:"Container"})("display:grid;grid-template-columns:1fr 2fr;grid-template-areas:'rules-header rules-view';margin-bottom:",(0,N.Z)(3),";"),W=(0,C.Z)("div",{target:"earny2k1",label:"RulesHeader"})({name:"1pebtb6",styles:"grid-area:rules-header;display:grid;grid-template-columns:2fr 1fr;grid-template-rows:45px 1fr 1fr 1fr 1fr;grid-template-areas:'title tag' 'repository repository' '. .' '. .' 'detail detail';border:1px solid #c6becf;border-radius:4px 0 0 4px;border-right:none;box-shadow:0 2px 0 rgb(37 11 54 / 4%);background-color:#ffffff;"}),V=(0,C.Z)("div",{target:"earny2k2",label:"TitleContainer"})("grid-area:title;align-self:center;padding-left:",(0,N.Z)(2),";display:flex;*{padding-right:",(0,N.Z)(.5),";}"),M=(0,C.Z)("div",{target:"earny2k3",label:"Title"})({name:"hoe9xz",styles:"align-self:center;"}),q=(0,C.Z)(A.Z,{target:"earny2k4",label:"ReadOnlyTag"})("grid-area:tag;align-self:center;justify-self:end;padding-right:",(0,N.Z)(1),";"),L=(0,C.Z)("div",{target:"earny2k5",label:"Repository"})("grid-area:repository;padding-left:calc(",(0,N.Z)(2)," + ",(0,N.Z)(3),");color:#9386a0;font-size:14px;"),G=(0,C.Z)("div",{target:"earny2k6",label:"Detail"})("grid-area:detail;align-self:end;padding:0 ",(0,N.Z)(2)," ",(0,N.Z)(2)," ",(0,N.Z)(2),";color:#9386a0;font-size:14px;line-height:1.4;"),Q=(0,C.Z)("div",{target:"earny2k7",label:"RulesView"})({name:"1t9fz8q",styles:"grid-area:rules-view;"}),J=(0,C.Z)(D.s_,{target:"earny2k8",label:"InnerPanel"})({name:"kwlb7u",styles:"border-top-left-radius:0;border-bottom-left-radius:0px;margin:0px;height:100%;"}),K=(0,C.Z)(D.V9,{target:"earny2k9",label:"InnerPanelHeader"})({name:"1o5oeka",styles:"display:grid;grid-template-columns:2fr 1fr;grid-template-areas:'sync-date controis';text-transform:none;font-size:16px;font-weight:400;"}),X=(0,C.Z)(D.N,{target:"earny2k10",label:"InnerPanelBody"})({name:"x97jm9",styles:"height:auto;"}),Y=(0,C.Z)(z.Z,{target:"earny2k11",label:"StyledTextArea"})((function(e){return(0,B.T)(e)}),";height:350px !important;overflow:auto;outline:0;width:100%;resize:none;margin:0;font-family:",(function(e){return e.theme.text.familyMono}),";word-break:break-all;white-space:pre-wrap;line-height:",(0,N.Z)(3),";border:none;box-shadow:none;padding:",(0,N.Z)(2),";color:transparent;text-shadow:0 0 0 #9386a0;&:hover,&:focus,&:active{border:none;box-shadow:none;}"),$=(0,C.Z)("div",{target:"earny2k12",label:"SyncDate"})({name:"1jaco1x",styles:"grid-area:sync-date;"}),ee=(0,C.Z)("div",{target:"earny2k13",label:"Controls"})("display:grid;align-items:center;grid-gap:",(0,N.Z)(1),";grid-auto-flow:column;justify-content:flex-end;");const te=function(e){(0,i.Z)(p,e);var t,r,d=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var s=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return(0,a.Z)(this,e)});function p(){var e;(0,n.Z)(this,p);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=d.call.apply(d,[this].concat(r)),(0,c.Z)((0,o.Z)(e),"handleDelete",function(){var t=(0,x.Z)(P().mark((function t(r){var n,s,o,i,a;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,s=n.organization,o=n.project,i="/api/0/projects/".concat(s.slug,"/").concat(o.slug,"/codeowners/").concat(r.id,"/"),t.prev=2,t.next=5,e.api.requestPromise(i,{method:"DELETE"});case 5:a=e.state.codeowners,e.setState({codeowners:a.filter((function(e){return e.id!==r.id}))}),(0,k.S9)((0,h.t)("Deletion successful")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(0,k.Iw)((0,h.t)("An error occurred"));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,s.Z)(p,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.project;return[["codeowners","/projects/".concat(t.slug,"/").concat(r.slug,"/codeowners/?expand=codeMapping")]]}},{key:"renderBody",value:function(){var e=this;return this.state.codeowners.map((function(t){var r=t.raw,n=t.dateUpdated,s=t.provider,o=t.codeMapping.repoName;return(0,E.tZ)(u.Fragment,{key:t.id},(0,E.tZ)(H,{"data-test-id":"codeowners-panel",type:"codeowners",raw:r,dateUpdated:n,provider:s,repoName:o,readOnly:!0,controls:[(0,E.tZ)(O.Z,{onConfirm:function(){return e.handleDelete(t)},message:(0,h.t)("Are you sure you want to remove this CODEOWNERS file?"),key:"confirm-delete"},(0,E.tZ)(f.ZP,{key:"delete",icon:(0,E.tZ)(R.Fz,{size:"xs"}),size:"xsmall"}))]}))}))}}]),p}(_.Z);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const se=function(e){(0,i.Z)(x,e);var t,r,b=(t=x,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var s=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return(0,a.Z)(this,e)});function x(){var e;(0,n.Z)(this,x);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=b.call.apply(b,[this].concat(r)),(0,c.Z)((0,o.Z)(e),"handleOwnershipSave",(function(t){e.setState((function(e){return{ownership:ne(ne({},e.ownership),{},{raw:t})}}))})),e}return(0,s.Z)(x,[{key:"getTitle",value:function(){var e=this.props.project;return(0,y.Z)((0,h.t)("Issue Owners"),e.slug,!1)}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.project;return[["ownership","/projects/".concat(t.slug,"/").concat(r.slug,"/ownership/")]]}},{key:"getPlaceholder",value:function(){return"#example usage\npath:src/example/pipeline/* person@sentry.io #infra\nurl:http://example.com/settings/* #product\ntags.sku_class:enterprise #enterprise"}},{key:"getDetail",value:function(){return(0,h._N)("Automatically assign issues and send alerts to the right people based on issue properties. [link:Learn more].",{link:(0,E.tZ)(m.Z,{href:"https://docs.sentry.io/product/error-monitoring/issue-owners/"})})}},{key:"renderBody",value:function(){var e=this,t=this.props,r=t.project,n=t.organization,s=this.state.ownership,o=!n.access.includes("project:write");return(0,E.tZ)(u.Fragment,null,(0,E.tZ)(v.Z,{title:(0,h.t)("Issue Owners"),action:(0,E.tZ)(f.ZP,{to:{pathname:"/organizations/".concat(n.slug,"/issues/"),query:{project:r.id}},size:"small"},(0,h.t)("View Issues"))}),(0,E.tZ)(w.Z,null),(0,E.tZ)(H,{"data-test-id":"issueowners-panel",type:"issueowners",raw:s.raw||"",dateUpdated:s.lastUpdated,placeholder:this.getPlaceholder(),detail:this.getDetail(),controls:[(0,E.tZ)(f.ZP,{key:"edit",size:"small",onClick:function(){return(0,d.openEditOwnershipRules)({organization:n,project:r,ownership:s,onSave:e.handleOwnershipSave})},disabled:o},(0,h.t)("Edit"))]}),(0,E.tZ)(p.Z,{features:["import-codeowners"]},(0,E.tZ)(te,this.props)),(0,E.tZ)(g.Z,{apiEndpoint:"/projects/".concat(n.slug,"/").concat(r.slug,"/ownership/"),apiMethod:"PUT",saveOnBlur:!0,initialData:{fallthrough:s.fallthrough},hideFooter:!0},(0,E.tZ)(Z.Z,{forms:[{title:(0,h.t)("If ownership cannot be determined for an issue..."),fields:[{name:"fallthrough",type:"boolean",label:(0,h.t)("All users with access to this project are issue owners"),help:(0,h.t)("Issue owners will receive notifications for issues they are responsible for."),disabled:o}]}]})),(0,E.tZ)(g.Z,{apiEndpoint:"/projects/".concat(n.slug,"/").concat(r.slug,"/ownership/"),apiMethod:"PUT",saveOnBlur:!0,initialData:{autoAssignment:s.autoAssignment},hideFooter:!0},(0,E.tZ)(Z.Z,{forms:[{title:(0,h.t)("If a new event matches any of the ownership rules..."),fields:[{name:"autoAssignment",type:"boolean",label:(0,h.t)("The issue is assigned to the team or user"),help:(0,h.t)("Issue owners will be automatically assigned."),disabled:o}]}]})))}}]),x}(b.Z)}}]);
//# sourceMappingURL=ProjectOwnership.js.map