(self.webpackChunk=self.webpackChunk||[]).push([["PerformanceTransactionDetails"],{"./app/views/performance/breadcrumb.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("../node_modules/react/index.js"),c=n("./app/components/breadcrumbs.tsx"),p=n("./app/locale.tsx"),f=n("./app/utils/queryString.tsx"),m=n("./app/views/performance/transactionSummary/utils.tsx"),v=n("./app/views/performance/transactionVitals/utils.tsx"),d=n("./app/views/performance/vitalDetail/utils.tsx"),y=n("./app/views/performance/utils.tsx"),g=n("../node_modules/@emotion/core/dist/core.browser.esm.js");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){(0,a.Z)(u,e);var t,n,r=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,o.Z)(this,u),r.apply(this,arguments)}return(0,s.Z)(u,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.organization,r=t.location,o=t.transactionName,s=t.vitalName,a=t.eventSlug,i=t.traceSlug,l=t.transactionComparison,u=t.realUserMonitoring,c={pathname:(0,y.de)(n),query:h(h({},r.query),{},{transaction:void 0})};if(e.push({to:c,label:(0,p.t)("Performance"),preserveGlobalSelection:!0}),s){var g=(0,d.i4)({orgSlug:n.slug,vitalName:"fcp",projectID:(0,f.ro)(r.query.project),query:r.query});e.push({to:g,label:(0,p.t)("Vital Detail"),preserveGlobalSelection:!0})}else if(o)if(u){var b=(0,v.Pl)({orgSlug:n.slug,transaction:o,projectID:(0,f.ro)(r.query.project),query:r.query});e.push({to:b,label:(0,p.t)("Web Vitals"),preserveGlobalSelection:!0})}else{var Z=(0,m.e1)({orgSlug:n.slug,transaction:o,projectID:(0,f.ro)(r.query.project),query:r.query});e.push({to:Z,label:(0,p.t)("Transaction Summary"),preserveGlobalSelection:!0})}return o&&a?e.push({to:"",label:(0,p.t)("Event Details")}):l?e.push({to:"",label:(0,p.t)("Compare to Baseline")}):i&&e.push({to:"",label:(0,p.t)("Trace View")}),e}},{key:"render",value:function(){return(0,g.tZ)(c.Z,{crumbs:this.getCrumbs()})}}]),u}(u.Component);Z.displayName="Breadcrumb";const x=Z},"./app/views/performance/transactionDetails/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var r=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),p=n("../node_modules/react/index.js"),f=n("./app/components/lightWeightNoProjectMessage.tsx"),m=n("./app/components/sentryDocumentTitle.tsx"),v=n("./app/locale.tsx"),d=n("./app/styles/organization.tsx"),y=n("./app/utils/withOrganization.tsx"),g=n("../node_modules/@babel/runtime/helpers/esm/get.js"),b=n("./app/components/asyncComponent.tsx"),h=n("./app/components/button.tsx"),Z=n("./app/components/buttonBar.tsx"),x=n("./app/components/errors/notFound.tsx"),j=n("./app/components/events/eventEntries.tsx"),S=n("./app/components/events/eventMetadata.tsx"),O=n("./app/components/events/eventVitals.tsx"),w=n("./app/components/events/interfaces/spans/context.tsx"),P=n("./app/components/events/opsBreakdown.tsx"),q=n("./app/components/events/rootSpanStatus.tsx"),D=n("./app/components/fileSize.tsx"),k=n("./app/components/layouts/thirds.tsx"),C=n("./app/components/loadingError.tsx"),_=n("./app/components/tagsTable.tsx"),z=n("./app/icons/index.tsx"),I=n("./app/utils/analytics.tsx"),T=n("./app/utils/performance/quickTrace/quickTraceContext.tsx"),N=n("./app/utils/performance/quickTrace/quickTraceQuery.tsx"),R=n("./app/utils/performance/quickTrace/traceMetaQuery.tsx"),E=n("./app/utils/performance/quickTrace/utils.tsx"),B=n("./app/utils/projects.tsx"),V=n("./app/utils/queryString.tsx"),M=n("./app/views/performance/breadcrumb.tsx"),A=n("./app/views/performance/transactionSummary/utils.tsx"),F=n("./app/views/performance/utils.tsx"),G=n("./app/views/performance/transactionDetails/eventMetas.tsx"),U=n("../node_modules/@emotion/core/dist/core.browser.esm.js");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const J=function(e){(0,a.Z)(f,e);var t,n,c=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function f(){var e;(0,r.Z)(this,f);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=c.call.apply(c,[this].concat(n)),(0,u.Z)((0,s.Z)(e),"state",{loading:!0,reloading:!1,error:!1,errors:{},event:void 0,isSidebarVisible:!0}),(0,u.Z)((0,s.Z)(e),"toggleSidebar",(function(){e.setState({isSidebarVisible:!e.state.isSidebarVisible})})),(0,u.Z)((0,s.Z)(e),"generateTagUrl",(function(t){var n=e.props,r=n.location,o=n.organization,s=e.state.event;if(!s)return"";var a=(0,V.ro)(r.query.query,""),i=H(H({},r.query),{},{query:(0,V.os)(a,t.key,t.value)});return(0,A.e1)({orgSlug:o.slug,transaction:s.title,projectID:(0,V.ro)(r.query.project),query:i})})),e}return(0,o.Z)(f,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,n=e.params.eventSlug;return[["event","/organizations/".concat(t.slug,"/events/").concat(n,"/")]]}},{key:"projectId",get:function(){return this.props.eventSlug.split(":")[0]}},{key:"renderBody",value:function(){var e=this.state.event;return e?this.renderContent(e):(0,U.tZ)(x.Z,null)}},{key:"renderContent",value:function(e){var t=this,n=this.props,r=n.organization,o=n.location,s=n.eventSlug;(0,I.ec)({eventKey:"performance.event_details",eventName:"Performance: Opened Event Details",event_type:e.type,organization_id:parseInt(r.id,10)});var a=this.state.isSidebarVisible,i=e.title,l=(0,V.ro)(o.query.query,""),u="/api/0/projects/".concat(r.slug,"/").concat(this.projectId,"/events/").concat(e.eventID,"/json/"),c=function(n,c){var f;return(0,U.tZ)(p.Fragment,null,(0,U.tZ)(k.h4,null,(0,U.tZ)(k.oB,null,(0,U.tZ)(M.Z,{organization:r,location:o,transactionName:i,eventSlug:s}),(0,U.tZ)(k.Dx,{"data-test-id":"event-header"},e.title)),(0,U.tZ)(k.kP,null,(0,U.tZ)(Z.Z,{gap:1},(0,U.tZ)(h.ZP,{onClick:t.toggleSidebar},a?"Hide Details":"Show Details"),n&&(0,U.tZ)(h.ZP,{icon:(0,U.tZ)(z.V$,null),href:u,external:!0},(0,v.t)("JSON")," (",(0,U.tZ)(D.Z,{bytes:e.size}),")")))),(0,U.tZ)(k.uT,null,n&&(0,U.tZ)(k.or,{fullWidth:!0},(0,U.tZ)(G.Z,{quickTrace:n,meta:null!==(f=null==c?void 0:c.meta)&&void 0!==f?f:null,event:e,organization:r,projectId:t.projectId,location:o,errorDest:"issue",transactionDest:"performance"})),(0,U.tZ)(k.or,{fullWidth:!a},(0,U.tZ)(B.Z,{orgId:r.slug,slugs:[t.projectId]},(function(s){var a=s.projects;return(0,U.tZ)(w.z,{value:{getViewChildTransactionTarget:function(e){return(0,F.DD)(r,e.eventSlug,e.transaction,o.query)}}},(0,U.tZ)(T.z,{value:n},(0,U.tZ)(j.j,{organization:r,event:e,project:a[0],showExampleCommit:!1,showTagSummary:!1,location:o,api:t.api})))}))),a&&(0,U.tZ)(k.MF,null,void 0===n&&(0,U.tZ)(p.Fragment,null,(0,U.tZ)(S.Z,{event:e,organization:r,projectId:t.projectId}),(0,U.tZ)(q.Z,{event:e}),(0,U.tZ)(P.Z,{event:e})),(0,U.tZ)(O.Z,{event:e}),(0,U.tZ)(_.Z,{event:e,query:l,generateUrl:t.generateTagUrl}))))};if(r.features.includes("trace-view-quick")||r.features.includes("trace-view-summary")){var f,m,d,y=null!==(f=null===(m=e.contexts)||void 0===m||null===(d=m.trace)||void 0===d?void 0:d.trace_id)&&void 0!==f?f:"",g=(0,E.$J)(e),b=g.start,x=g.end;return(0,U.tZ)(R.Z,{location:o,orgSlug:r.slug,traceId:y,start:b,end:x},(function(t){return(0,U.tZ)(N.Z,{event:e,location:o,orgSlug:r.slug},(function(e){return c(e,t)}))}))}return c()}},{key:"renderError",value:function(e){var t=Object.values(this.state.errors).find((function(e){return e&&404===e.status})),n=Object.values(this.state.errors).find((function(e){return e&&403===e.status}));return t?(0,U.tZ)(x.Z,null):n?(0,U.tZ)(C.Z,{message:(0,v.t)("You do not have permission to view that event.")}):(0,g.Z)((0,l.Z)(f.prototype),"renderError",this).call(this,e,!0,!0)}},{key:"renderComponent",value:function(){var e=this.props.organization;return(0,U.tZ)(m.Z,{title:(0,v.t)("Performance - Event Details"),orgSlug:e.slug},(0,g.Z)((0,l.Z)(f.prototype),"renderComponent",this).call(this))}}]),f}(b.Z);var Q=function(e){(0,a.Z)(p,e);var t,n,c=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function p(){var e;(0,r.Z)(this,p);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=c.call.apply(c,[this].concat(n)),(0,u.Z)((0,s.Z)(e),"getEventSlug",(function(){var t=e.props.params.eventSlug;return"string"==typeof t?t.trim():""})),e}return(0,o.Z)(p,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.location,r=e.params,o=(0,v.t)("Performance Details"),s=this.getEventSlug(),a=s.split(":")[0];return(0,U.tZ)(m.Z,{title:o,orgSlug:t.slug,projectSlug:a},(0,U.tZ)(K,null,(0,U.tZ)(f.Z,{organization:t},(0,U.tZ)(J,{organization:t,location:n,params:r,eventSlug:s}))))}}]),p}(p.Component);Q.displayName="EventDetails";const $=(0,y.Z)(Q);var K=(0,c.Z)(d.JH,{target:"e6cv9030",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"})},"./app/views/performance/transactionVitals/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{Pl:()=>o,oZ:()=>s,eH:()=>a,L0:()=>i,jb:()=>l});var r=n("./app/utils/performance/histogram/utils.tsx");function o(e){var t,n=e.orgSlug,r=e.transaction,o=e.projectID,s=e.query;return{pathname:(t={orgSlug:n},"/organizations/".concat(t.orgSlug,"/performance/summary/vitals/")),query:{transaction:r,project:o,environment:s.environment,statsPeriod:s.statsPeriod,start:s.start,end:s.end,query:s.query}}}function s(e,t){var n=(0,r.te)(e);return!e.length||t>=e[e.length-1].bin+n?null:t<e[0].bin?-1:Math.floor((t-e[0].bin)/n)}function a(e){if(e.length<2)return null;for(var t=0;t<e.length;t++)for(var n=e[t],r=t+1;r<e.length;r++){var o=e[r];if(n.bin!==o.bin&&n.count!==o.count)return{point1:{x:t,y:Math.min(n.count,o.count)},point2:{x:r,y:Math.max(n.count,o.count)}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function i(e,t){var n=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==n?void 0:n[0])||isNaN(null==n?void 0:n[1]))return null;var r=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==r?void 0:r[0])||isNaN(null==r?void 0:r[1])?null:{point1:{x:n[0],y:n[1]},point2:{x:r[0],y:r[1]}}}function l(e,t,n){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||n.point1.x===n.point2.x||n.point1.y===n.point2.y)return null;var r=(e.x-t.point1.x)/(t.point2.x-t.point1.x),o=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:n.point1.x+(n.point2.x-n.point1.x)*r,y:n.point1.y+(n.point2.y-n.point1.y)*o}}}}]);
//# sourceMappingURL=PerformanceTransactionDetails.js.map