(self.webpackChunk=self.webpackChunk||[]).push([["NewProject","PerformanceLanding"],{"./app/components/platformPicker.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var r,o,a,s,i=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),l=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),c=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),u=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),d=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),p=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),m=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),f=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),h=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),g=n("../node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js"),b=n("../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),v=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),y=n("../node_modules/react/index.js"),Z=n("../node_modules/react-keydown/es/index.js"),x=n("../node_modules/lodash/debounce.js"),j=n.n(x),S=n("../node_modules/platformicons/build/index.js"),C=n("./app/components/button.tsx"),w=n("./app/components/links/externalLink.tsx"),_=n("./app/components/links/listLink.tsx"),P=n("./app/components/navTabs.tsx"),R=n("./app/data/platformCategories.tsx"),E=n("./app/data/platforms.tsx"),k=n("./app/icons/index.tsx"),O=n("./app/locale.tsx"),A=n("./app/styles/input.tsx"),T=n("./app/styles/space.tsx"),I=n("./app/utils/analytics.tsx"),L=n("./app/views/settings/components/emptyMessage.tsx"),z=n("../node_modules/@emotion/core/dist/core.browser.esm.js");var N=[].concat((0,b.Z)(R.ZP),[{id:"all",name:(0,O.t)("All")}]),D=(r=(0,Z.ZP)("/"),s=a=function(e){(0,p.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var o=(0,f.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,m.Z)(this,e)});function o(){var e,t;(0,c.Z)(this,o);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=r.call.apply(r,[this].concat(a)),(0,h.Z)((0,d.Z)(t),"state",{category:null!==(e=t.props.defaultCategory)&&void 0!==e?e:N[0].id,filter:t.props.noAutoFilter?"":(t.props.platform||"").split("-")[0]}),(0,h.Z)((0,d.Z)(t),"logSearch",j()((function(){t.state.filter&&(0,I.co)("platformpicker.search",{query:t.state.filter.toLowerCase(),num_results:t.platformList.length})}),300)),(0,h.Z)((0,d.Z)(t),"searchInput",y.createRef()),t}return(0,u.Z)(o,[{key:"platformList",get:function(){var e=this.state.category,t=R.ZP.find((function(t){return t.id===e})),n=this.state.filter.toLowerCase(),r=E.Z.filter(this.state.filter?function(e){var t;return e.id.includes(n)||e.name.toLowerCase().includes(n)||(null===(t=R.Ek[e.id])||void 0===t?void 0:t.some((function(e){return e.includes(n)})))}:function(n){var r;return"all"===e||(null==t||null===(r=t.platforms)||void 0===r?void 0:r.includes(n.id))}).sort((function(e,t){return e.id.localeCompare(t.id)}));return this.props.showOther?r:r.filter((function(e){return"other"!==e.id}))}},{key:"focusSearch",value:function(e){var t,n;e.target!==this.searchInput.current&&(null===(t=this.searchInput)||void 0===t||null===(n=t.current)||void 0===n||n.focus(),e.preventDefault())}},{key:"render",value:function(){var e=this,t=this.platformList,n=this.props,r=n.setPlatform,o=n.listProps,a=n.listClassName,s=this.state,i=s.filter,c=s.category;return(0,z.tZ)(y.Fragment,null,(0,z.tZ)(U,null,(0,z.tZ)(q,null,N.map((function(t){var n=t.id,r=t.name;return(0,z.tZ)(_.Z,{key:n,onClick:function(t){(0,I.co)("platformpicker.select_tab",{category:n}),e.setState({category:n,filter:""}),t.preventDefault()},to:"",isActive:function(){return n===(i?"all":c)}},r)}))),(0,z.tZ)(F,null,(0,z.tZ)(k.jV,{size:"xs"}),(0,z.tZ)("input",{type:"text",ref:this.searchInput,value:i,placeholder:(0,O.t)("Filter Platforms"),onChange:function(t){return e.setState({filter:t.target.value},e.logSearch)}}))),(0,z.tZ)(M,(0,l.Z)({className:a},o),t.map((function(t){return(0,z.tZ)(W,{"data-test-id":"platform-".concat(t.id),key:t.id,platform:t,selected:e.props.platform===t.id,onClear:function(e){r(null),e.stopPropagation()},onClick:function(){(0,I.co)("platformpicker.select_platform",{platform:t.id}),r(t.id)}})}))),0===t.length&&(0,z.tZ)(L.Z,{icon:(0,z.tZ)(k.FI,{size:"xl"}),title:(0,O.t)("We don't have an SDK for that yet!")},(0,O._N)("Not finding your platform? You can still create your project,\n              but looks like we don't have an official SDK for your platform\n              yet. However, there's a rich ecosystem of community supported\n              SDKs (including Perl, CFML, Clojure, and ActionScript). Try\n              [search:searching for Sentry clients] or contacting support.",{search:(0,z.tZ)(w.Z,{href:"https://github.com/search?q=-org%3Agetsentry+topic%3Asentry&type=Repositories"})})))}}]),o}(y.Component),(0,h.Z)(a,"defaultProps",{showOther:!0}),o=s,(0,g.Z)(o.prototype,"focusSearch",[r],Object.getOwnPropertyDescriptor(o.prototype,"focusSearch"),o.prototype),o),U=(0,v.Z)("div",{target:"e183m2bh0",label:"NavContainer"})("margin-bottom:",(0,T.Z)(2),";display:grid;grid-gap:",(0,T.Z)(2),";grid-template-columns:1fr minmax(0,300px);align-items:start;border-bottom:1px solid ",(function(e){return e.theme.border}),";"),F=(0,v.Z)("div",{target:"e183m2bh1",label:"SearchBar"})((function(e){return(0,A.T)(e)}),";padding:0 8px;color:",(function(e){return e.theme.subText}),";display:flex;align-items:center;font-size:15px;margin-top:-",(0,T.Z)(.75),";input{border:none;background:none;padding:2px 4px;width:100%;line-height:24px;&:focus{outline:none;}}"),q=(0,v.Z)(P.Z,{target:"e183m2bh2",label:"CategoryNav"})({name:"besr82",styles:"margin:0;margin-top:4px;white-space:nowrap;> li{float:none;display:inline-block;}"}),M=(0,v.Z)("div",{target:"e183m2bh3",label:"PlatformList"})("display:grid;grid-gap:",(0,T.Z)(1),";grid-template-columns:repeat(auto-fill,112px);margin-bottom:",(0,T.Z)(2),";"),B=(0,v.Z)(S.v,{target:"e183m2bh4",label:"StyledPlatformIcon"})("margin:",(0,T.Z)(2),";"),G=(0,v.Z)(C.ZP,{target:"e183m2bh5",label:"ClearButton"})("position:absolute;top:-6px;right:-6px;height:22px;width:22px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:",(function(e){return e.theme.background}),";color:",(function(e){return e.theme.textColor}),";");G.defaultProps={icon:(0,z.tZ)(k.bM,{isCircled:!0,size:"xs"}),borderless:!0,size:"xsmall"};var W=(0,v.Z)((function(e){var t=e.platform,n=e.selected,r=e.onClear,o=(0,i.Z)(e,["platform","selected","onClear"]);return(0,z.tZ)("div",o,(0,z.tZ)(B,{platform:t.id,size:56,radius:5,withLanguageIcon:!0,format:"lg"}),(0,z.tZ)("h3",null,t.name),n&&(0,z.tZ)(G,{onClick:r}))}),{target:"e183m2bh6",label:"PlatformCard"})("position:relative;display:flex;flex-direction:column;align-items:center;padding:0 0 14px;border-radius:4px;cursor:pointer;background:",(function(e){return e.selected&&e.theme.alert.info.backgroundLight}),";&:hover{background:",(function(e){return e.theme.alert.muted.backgroundLight}),";}h3{flex-grow:1;display:flex;align-items:center;justify-content:center;width:100%;color:",(function(e){return e.selected?e.theme.textColor:e.theme.subText}),";text-align:center;font-size:",(function(e){return e.theme.fontSizeExtraSmall}),";text-transform:uppercase;margin:0;padding:0 ",(0,T.Z)(.5),";line-height:1.2;}");const V=D},"./app/components/radio.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),o=n("../node_modules/@emotion/core/dist/core.browser.esm.js"),a=n("./app/styles/animations.tsx"),s=function(e){return(0,o.iv)("display:block;width:","small"===e.radioSize?"8px":"1rem",";height:","small"===e.radioSize?"8px":"1rem",";border-radius:50%;background-color:",e.theme.active,";animation:0.2s ",a.kQ," ease;opacity:",e.disabled?.4:null,";")},i=(0,r.Z)("input",{target:"epd3w7v0",label:"Radio"})("display:flex;padding:0;width:",(function(e){return"small"===e.radioSize?"16px":"1.5em"}),";height:",(function(e){return"small"===e.radioSize?"16px":"1.5em"}),";position:relative;border-radius:50%;align-items:center;justify-content:center;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);background:none;appearance:none;margin:0 !important;&:focus,&.focus-visible{outline:none !important;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}&:checked:after{content:'';",s,"}");i.defaultProps={type:"radio"};const l=i},"./app/utils/slugify.tsx":(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}n.d(t,{Z:()=>r})},"./app/utils/withTeams.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=(n("../node_modules/react/index.js"),n("../node_modules/create-react-class/index.js")),a=n.n(o),s=n("../node_modules/reflux/src/index.js"),i=n.n(s),l=n("./app/stores/teamStore.tsx"),c=n("./app/utils/getDisplayName.tsx"),u=n("../node_modules/@emotion/core/dist/core.browser.esm.js");const d=function(e){return a()({displayName:"withTeams(".concat((0,c.Z)(e),")"),mixins:[i().listenTo(l.Z,"onTeamUpdate")],getInitialState:function(){return{teams:l.Z.getAll()}},onTeamUpdate:function(){this.setState({teams:l.Z.getAll()})},render:function(){return(0,u.tZ)(e,(0,r.Z)({},this.props,{teams:this.state.teams}))}})}},"./app/views/projectInstall/newProject.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Se});var r,o,a,s=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),l=n("../node_modules/react-document-title/index.js"),c=n.n(l),u=n("./app/styles/space.tsx"),d=n("../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),p=n("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),m=n("../node_modules/@babel/runtime/helpers/esm/createClass.js"),f=n("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),h=n("../node_modules/@babel/runtime/helpers/esm/inherits.js"),g=n("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),b=n("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),v=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),y=n("../node_modules/@babel/runtime/regenerator/index.js"),Z=n.n(y),x=n("../node_modules/react-router/es/index.js"),j=n("../node_modules/@sentry/minimal/esm/index.js"),S=n("../node_modules/platformicons/build/index.js"),C=n("./app/actionCreators/modal.tsx"),w=n("./app/actions/projectActions.tsx"),_=n("./app/components/alert.tsx"),P=n("./app/components/button.tsx"),R=n("./app/components/forms/selectControl.tsx"),E=n("./app/components/pageHeading.tsx"),k=n("./app/components/platformPicker.tsx"),O=n("./app/components/tooltip.tsx"),A=n("./app/data/platformCategories.tsx"),T=n("./app/icons/index.tsx"),I=n("./app/locale.tsx"),L=n("./app/styles/input.tsx"),z=n("./app/utils/analytics.tsx"),N=n("./app/utils/getPlatformName.tsx"),D=n("./app/utils/slugify.tsx"),U=n("./app/utils/withApi.tsx"),F=n("./app/utils/withOrganization.tsx"),q=n("./app/utils/withTeams.tsx"),M=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),B=n("../node_modules/@babel/runtime/helpers/esm/get.js"),G=n("../node_modules/lodash/isEqual.js"),W=n.n(G),V=n("./app/components/asyncComponent.tsx"),H=n("./app/views/settings/components/forms/controls/input.tsx"),Y=n("./app/views/settings/components/forms/controls/radioGroup.tsx"),K=n("../node_modules/@emotion/core/dist/core.browser.esm.js");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.ERRORS=0]="ERRORS",e[e.USERS=1]="USERS"}(o||(o={})),function(e){e[e.ALERT_ON_EVERY_ISSUE=0]="ALERT_ON_EVERY_ISSUE",e[e.CUSTOMIZED_ALERTS=1]="CUSTOMIZED_ALERTS",e[e.CREATE_ALERT_LATER=2]="CREATE_ALERT_LATER"}(a||(a={}));var Q="sentry.rules.conditions.event_frequency.EventUniqueUserFrequencyCondition",X="sentry.rules.conditions.event_frequency.EventFrequencyCondition",ee=(r={},(0,v.Z)(r,o.ERRORS,X),(0,v.Z)(r,o.USERS,Q),r);function te(e,t,n){var r;switch(t){case o.ERRORS:r=X;break;case o.USERS:r=Q;break;default:throw new RangeError("Supplied metric value is not handled")}return{interval:e,id:r,value:n}}var ne=function(e){(0,h.Z)(s,e);var t,n,r=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,b.Z)(t);if(n){var o=(0,b.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,g.Z)(this,e)});function s(){return(0,p.Z)(this,s),r.apply(this,arguments)}return(0,m.Z)(s,[{key:"getDefaultState",value:function(){return J(J({},(0,B.Z)((0,b.Z)(s.prototype),"getDefaultState",this).call(this)),{},{conditions:[],intervalChoices:[],alertSetting:a.CREATE_ALERT_LATER.toString(),metric:o.ERRORS,interval:"",threshold:""})}},{key:"getAvailableMetricChoices",value:function(){var e=this;return[[o.ERRORS,(0,I.t)("occurrences of")],[o.USERS,(0,I.t)("users affected by")]].filter((function(t){var n,r,o=(0,M.Z)(t,1)[0];return null===(n=e.state.conditions)||void 0===n||null===(r=n.some)||void 0===r?void 0:r.call(n,(function(e){return(null==e?void 0:e.id)===ee[o]}))}))}},{key:"getIssueAlertsChoices",value:function(e){var t=this,n=[[a.CREATE_ALERT_LATER.toString(),(0,I.t)("I'll create my own alerts later")],[a.ALERT_ON_EVERY_ISSUE.toString(),(0,I.t)("Alert me on every new issue")]];return e&&n.push([a.CUSTOMIZED_ALERTS.toString(),(0,K.tZ)(oe,{key:a.CUSTOMIZED_ALERTS,onClick:function(e){e.preventDefault();var n=a.CUSTOMIZED_ALERTS.toString();t.setStateAndUpdateParents({alertSetting:n})}},(0,I.t)("When there are more than"),(0,K.tZ)(ae,{type:"number",min:"0",name:"",placeholder:"10",value:this.state.threshold,onChange:function(e){return t.setStateAndUpdateParents({threshold:e.target.value})},"data-test-id":"range-input"}),(0,K.tZ)(se,{value:this.state.metric,choices:this.getAvailableMetricChoices(),onChange:function(e){return t.setStateAndUpdateParents({metric:e.value})},"data-test-id":"metric-select-control"}),(0,I.t)("a unique error in"),(0,K.tZ)(se,{value:this.state.interval,choices:this.state.intervalChoices,onChange:function(e){return t.setStateAndUpdateParents({interval:e.value})},"data-test-id":"interval-select-control"}))]),n.map((function(e){var t=(0,M.Z)(e,2),n=t[0],r=t[1];return[n,(0,K.tZ)(ce,{key:n},r)]}))}},{key:"getUpdatedData",value:function(){var e,t;switch(parseInt(this.state.alertSetting,10)){case a.ALERT_ON_EVERY_ISSUE:e=!0,t=!1;break;case a.CREATE_ALERT_LATER:e=!1,t=!1;break;case a.CUSTOMIZED_ALERTS:e=!1,t=!0;break;default:throw new RangeError("Supplied alert creation action is not handled")}return{defaultRules:e,shouldCreateCustomRule:t,name:"Send a notification for new issues",conditions:this.state.interval.length>0&&this.state.threshold.length>0?[te(this.state.interval,this.state.metric,this.state.threshold)]:void 0,actions:[{id:"sentry.rules.actions.notify_event.NotifyEventAction"}],actionMatch:"all",frequency:5}}},{key:"setStateAndUpdateParents",value:function(e,t){var n=this;this.setState(e,(function(){null==t||t(),n.props.onChange(n.getUpdatedData())}))}},{key:"getEndpoints",value:function(){return[["conditions","/projects/".concat(this.props.organization.slug,"/rule-conditions/")]]}},{key:"onLoadAllEndpointsSuccess",value:function(){var e,t,n=this,r=null===(e=this.state.conditions)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(function(e){return Object.values(ee).includes(null==e?void 0:e.id)}));if(r&&0!==r.length){var o=function(e){var t,n=e.map((function(e){var t,n;return null===(t=e.formFields)||void 0===t||null===(n=t.interval)||void 0===n?void 0:n.choices})).reduce((function(e,t){return e&&t&&W()(e,t)?e:null}));return{intervalChoices:n,interval:null==n||null===(t=n[0])||void 0===t?void 0:t[0]}}(r),a=o.intervalChoices,s=o.interval;if(!a||!s)return j.$e((function(e){e.setExtra("props",n.props),e.setExtra("state",n.state),j.Tb(new Error("Interval choices or sent from API endpoint is inconsistent or empty"))})),void this.setStateAndUpdateParents({conditions:void 0});this.setStateAndUpdateParents({conditions:r,intervalChoices:a,interval:s})}else this.setStateAndUpdateParents({conditions:void 0})}},{key:"renderBody",value:function(){var e,t=this,n=this.getIssueAlertsChoices((null===(e=this.state.conditions)||void 0===e?void 0:e.length)>0);return(0,K.tZ)(i.Fragment,null,(0,K.tZ)(le,{withMargins:!0},(0,I.t)("Set your default alert settings")),(0,K.tZ)(ie,{choices:n,label:(0,I.t)("Options for creating an alert"),onChange:function(e){return t.setStateAndUpdateParents({alertSetting:e})},value:this.state.alertSetting}))}}]),s}(V.Z);const re=(0,F.Z)(ne);var oe=(0,s.Z)("div",{target:"e12p23qf0",label:"CustomizeAlertsGrid"})("display:grid;grid-template-columns:repeat(5,max-content);grid-gap:",(0,u.Z)(1),";align-items:center;"),ae=(0,s.Z)(H.Z,{target:"e12p23qf1",label:"InlineInput"})({name:"1jgxixz",styles:"width:80px;"}),se=(0,s.Z)(R.Z,{target:"e12p23qf2",label:"InlineSelectControl"})({name:"u4ybgy",styles:"width:160px;"}),ie=(0,s.Z)(Y.Z,{target:"e12p23qf3",label:"RadioGroupWithPadding"})("padding:",(0,u.Z)(3)," 0;margin-bottom:50px;box-shadow:0 -1px 0 rgba(0,0,0,0.1);"),le=(0,s.Z)(E.Z,{target:"e12p23qf4",label:"PageHeadingWithTopMargins"})({name:"ds07z6",styles:"margin-top:65px;"}),ce=(0,s.Z)("div",{target:"e12p23qf5",label:"RadioItemWrapper"})({name:"48pngw",styles:"min-height:35px;display:flex;flex-direction:column;justify-content:center;"});function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(e){(0,h.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,b.Z)(t);if(n){var o=(0,b.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,g.Z)(this,e)});function o(e){var t;(0,p.Z)(this,o);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];t=r.call.apply(r,[this,e].concat(a)),(0,v.Z)((0,f.Z)(t),"createProject",function(){var e=(0,d.Z)(Z().mark((function e(n){var r,o,a,s,i,l,c,u,d,p,m,f,h,g,b,v,y,S,C,_,P,R;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=t.props,o=r.organization,a=r.api,s=t.state,i=s.projectName,l=s.platform,c=s.team,u=s.dataFragment,d=o.slug,m=(p=u||{}).shouldCreateCustomRule,f=p.name,h=p.conditions,g=p.actions,b=p.actionMatch,v=p.frequency,y=p.defaultRules,t.setState({inFlight:!0}),i||j.$e((function(e){e.setExtra("props",t.props),e.setExtra("state",t.state),j.uT("No project name")})),e.prev=7,e.next=10,a.requestPromise("/teams/".concat(d,"/").concat(c,"/projects/"),{method:"POST",data:{name:i,platform:l,default_rules:null==y||y}});case 10:if(S=e.sent,!m){e.next=16;break}return e.next=14,a.requestPromise("/projects/".concat(o.slug,"/").concat(S.slug,"/rules/"),{method:"POST",data:{name:f,conditions:h,actions:g,actionMatch:b,frequency:v}});case 14:_=e.sent,C=_.id;case 16:t.trackIssueAlertOptionSelectedEvent(S,y,m,C),w.Z.createSuccess(S),P=l||"other",R="/".concat(o.slug,"/").concat(S.slug,"/getting-started/").concat(P,"/"),x.browserHistory.push(R),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),t.setState({inFlight:!1,error:e.t0.responseJSON.detail}),403!==e.t0.status&&409!==e.t0.status&&j.$e((function(n){n.setExtra("err",e.t0),n.setExtra("props",t.props),n.setExtra("state",t.state),j.uT("Project creation failed")}));case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}()),(0,v.Z)((0,f.Z)(t),"setPlatform",(function(e){return t.setState((function(t){var n=t.projectName,r=t.platform;return{platform:e,projectName:!n||r&&(0,N.Z)(r)===n?(0,N.Z)(e)||"":n}}))}));var i=e.location.query,l=e.organization.teams,c=l.filter((function(e){return e.hasAccess})),u=i.team||c.length&&c[0].slug,m=(0,N.Z)(i.platform)?i.platform:"";return t.state={error:!1,projectName:(0,N.Z)(m)||"",team:u,platform:m,inFlight:!1,dataFragment:void 0},t}return(0,m.Z)(o,[{key:"defaultCategory",get:function(){var e,t,n=this.props.location.query;return e=n.category,null===(t=A.ZP.find((function(t){return t.id===e})))||void 0===t?void 0:t.id}},{key:"renderProjectForm",value:function(){var e=this,t=this.props.organization,n=this.state,r=n.projectName,o=n.platform,a=n.team,s=this.props.teams.filter((function(e){return e.hasAccess})),l=(0,K.tZ)(fe,{onSubmit:this.createProject},(0,K.tZ)("div",null,(0,K.tZ)(he,null,(0,I.t)("Project name")),(0,K.tZ)(be,null,(0,K.tZ)(ge,{platform:null!=o?o:""}),(0,K.tZ)("input",{type:"text",name:"name",placeholder:(0,I.t)("Project name"),autoComplete:"off",value:r,onChange:function(t){return e.setState({projectName:(0,D.Z)(t.target.value)})}}))),(0,K.tZ)("div",null,(0,K.tZ)(he,null,(0,I.t)("Team")),(0,K.tZ)(ve,null,(0,K.tZ)(R.Z,{name:"select-team",clearable:!1,value:a,placeholder:(0,I.t)("Select a Team"),onChange:function(t){return e.setState({team:t.value})},options:s.map((function(e){var t=e.slug;return{label:"#".concat(t),value:t}}))}),(0,K.tZ)(O.Z,{title:(0,I.t)("Create a team")},(0,K.tZ)(P.ZP,{borderless:!0,"data-test-id":"create-team",type:"button",icon:(0,K.tZ)(T.N_,{isCircled:!0}),onClick:function(){return(0,C.openCreateTeamModal)({organization:t,onClose:function(t){var n=t.slug;return e.setState({team:n})}})}})))),(0,K.tZ)("div",null,(0,K.tZ)(P.ZP,{"data-test-id":"create-project",priority:"primary",disabled:!this.canSubmitForm},(0,I.t)("Create Project"))));return(0,K.tZ)(i.Fragment,null,(0,K.tZ)(E.Z,{withMargins:!0},(0,I.t)("Give your project a name")),l)}},{key:"canSubmitForm",get:function(){var e,t=this.state,n=t.projectName,r=t.team,o=t.inFlight,a=this.state.dataFragment||{},s=a.shouldCreateCustomRule,i=a.conditions;return!o&&r&&""!==n&&(!s||(null==i||null===(e=i.every)||void 0===e?void 0:e.call(i,(function(e){return e.value}))))}},{key:"trackIssueAlertOptionSelectedEvent",value:function(e,t,n,r){var o={eventKey:"new_project.alert_rule_selected",eventName:"New Project Alert Rule Selected",organization_id:this.props.organization.id,project_id:e.id,rule_type:t?"Default":n?"Custom":"No Rule"};void 0!==r&&(o=de(de({},o),{},{custom_rule_id:r})),(0,z.ec)(o)}},{key:"render",value:function(){var e=this,t=this.state,n=t.platform,r=t.error;return(0,K.tZ)(i.Fragment,null,r&&(0,K.tZ)(_.Z,{type:"error"},r),(0,K.tZ)("div",{"data-test-id":"onboarding-info"},(0,K.tZ)(E.Z,{withMargins:!0},(0,I.t)("Create a new Project")),(0,K.tZ)(ye,null,(0,I.t)("Projects allow you to scope error and transaction events to a specific\n               application in your organization. For example, you might have separate\n               projects for your API server and frontend client.")),(0,K.tZ)(E.Z,{withMargins:!0},(0,I.t)("Choose a platform")),(0,K.tZ)(k.Z,{platform:n,defaultCategory:this.defaultCategory,setPlatform:this.setPlatform,showOther:!0}),(0,K.tZ)(re,{onChange:function(t){e.setState({dataFragment:t})}}),this.renderProjectForm()))}}]),o}(i.Component);pe.displayName="CreateProject";const me=(0,U.Z)((0,x.withRouter)((0,F.Z)((0,q.Z)(pe))));var fe=(0,s.Z)("form",{target:"e1icdt8d0",label:"CreateProjectForm"})("display:grid;grid-template-columns:300px 250px max-content;grid-gap:",(0,u.Z)(2),";align-items:end;padding:",(0,u.Z)(3)," 0;box-shadow:0 -1px 0 rgba(0,0,0,0.1);background:",(function(e){return e.theme.background}),";"),he=(0,s.Z)("div",{target:"e1icdt8d1",label:"FormLabel"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";margin-bottom:",(0,u.Z)(1),";"),ge=(0,s.Z)(S.v,{target:"e1icdt8d2",label:"StyledPlatformIcon"})("margin-right:",(0,u.Z)(1),";"),be=(0,s.Z)("div",{target:"e1icdt8d3",label:"ProjectNameInput"})((function(e){return(0,L.T)(e)}),";padding:5px 10px;display:flex;align-items:center;input{background:",(function(e){return e.theme.background}),";border:0;outline:0;flex:1;}"),ve=(0,s.Z)("div",{target:"e1icdt8d4",label:"TeamSelectInput"})({name:"1ds0se9",styles:"display:grid;grid-template-columns:1fr min-content;align-items:center;"}),ye=(0,s.Z)("p",{target:"e1icdt8d5",label:"HelpText"})("color:",(function(e){return e.theme.subText}),";max-width:760px;"),Ze=function(){return(0,K.tZ)(xe,null,(0,K.tZ)("div",{className:"container"},(0,K.tZ)(je,null,(0,K.tZ)(c(),{title:"Sentry"}),(0,K.tZ)(me,null))))};Ze.displayName="NewProject";var xe=(0,s.Z)("div",{target:"escx7040",label:"Container"})("flex:1;background:",(function(e){return e.theme.background}),";margin-bottom:-",(0,u.Z)(3),";"),je=(0,s.Z)("div",{target:"escx7041",label:"Content"})("margin-top:",(0,u.Z)(3),";");const Se=Ze},"./app/views/settings/components/forms/controls/radioGroup.tsx":(e,t,n)=>{"use strict";n.d(t,{V:()=>f,Z:()=>v});var r=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),a=n("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),l=n("../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),c=n("./app/components/radio.tsx"),u=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/core/dist/core.browser.esm.js"),p=function(e){var t=e.value,n=e.disabled,s=e.choices,l=e.label,u=e.onChange,p=e.orientInline,m=(0,a.Z)(e,["value","disabled","choices","label","onChange","orientInline"]);return(0,d.tZ)(h,(0,r.Z)({orientInline:p},m,{role:"radiogroup","aria-labelledby":l}),(s||[]).map((function(e,r){var a=(0,o.Z)(e,3),s=a[0],l=a[1],p=a[2];return(0,d.tZ)(f,{key:r,role:"radio",index:r,"aria-checked":t===s,disabled:n},(0,d.tZ)(c.Z,{"aria-label":s,disabled:n,checked:t===s,onChange:function(e){return!n&&u(s,e)}}),(0,d.tZ)(g,{disabled:n},l),p&&(0,d.tZ)(i.Fragment,null,(0,d.tZ)("div",null),(0,d.tZ)(b,null,p)))})))};p.displayName="RadioGroup";var m=function(e){return!["disabled","animate"].includes(e)&&(0,l.Z)(e)},f=(0,s.Z)("label",{shouldForwardProp:m,target:"eusy9kz0",label:"RadioLineItem"})("display:grid;grid-gap:0.25em 0.5em;grid-template-columns:max-content auto;align-items:center;cursor:",(function(e){return e.disabled?"default":"pointer"}),";outline:none;font-weight:normal;margin:0;"),h=(0,s.Z)("div",{target:"eusy9kz1",label:"Container"})("display:grid;grid-gap:",(function(e){return(0,u.Z)(e.orientInline?3:1)}),";grid-auto-flow:",(function(e){return e.orientInline?"column":"row"}),";grid-auto-rows:max-content;grid-auto-columns:max-content;"),g=(0,s.Z)("div",{shouldForwardProp:m,target:"eusy9kz2",label:"RadioLineText"})("opacity:",(function(e){return e.disabled?.4:null}),";"),b=(0,s.Z)("div",{target:"eusy9kz3",label:"Description"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeRelativeSmall}),";line-height:1.4em;");const v=p}}]);
//# sourceMappingURL=NewProject.js.map