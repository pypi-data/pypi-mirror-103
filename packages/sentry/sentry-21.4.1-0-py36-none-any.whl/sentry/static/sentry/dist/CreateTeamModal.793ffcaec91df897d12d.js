(self.webpackChunk=self.webpackChunk||[]).push([["CreateTeamModal"],{"./app/actionCreators/teams.tsx":(e,t,o)=>{"use strict";o.d(t,{eM:()=>u,z_:()=>c,fs:()=>m,um:()=>d,s:()=>p,Cm:()=>f,tT:()=>h});var r=o("./app/actionCreators/indicator.tsx"),n=o("./app/actions/teamActions.tsx"),s=o("./app/locale.tsx"),a=o("./app/utils/callIfFunction.tsx"),i=o("./app/utils/guid.tsx"),l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,o=arguments.length,r=new Array(o>2?o-2:0),n=2;n<o;n++)r[n-2]=arguments[n];a.g.apply(void 0,[e[t]].concat(r))};function u(e,t,o){return n.Z.fetchDetails(t.teamId),e.request("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{success:function(e){n.Z.fetchDetailsSuccess(t.teamId,e),l(o,"success",e)},error:function(e){n.Z.fetchDetailsError(t.teamId,e),l(o,"error",e)}})}function c(e,t){n.Z.updateSuccess(e,t)}function m(e,t,o){var r="/teams/".concat(t.orgId,"/").concat(t.teamId,"/");return n.Z.update(t.teamId,t.data),e.request(r,{method:"PUT",data:t.data,success:function(e){c(t.teamId,e),l(o,"success",e)},error:function(e){n.Z.updateError(t.teamId,e),l(o,"error",e)}})}function d(e,t,o){var r,s="/organizations/".concat(t.orgId,"/members/").concat(null!==(r=t.memberId)&&void 0!==r?r:"me","/teams/").concat(t.teamId,"/"),a=(0,i.E)();return n.Z.update(a,t.teamId),e.request(s,{method:"POST",success:function(e){n.Z.updateSuccess(t.teamId,e),l(o,"success",e)},error:function(e){n.Z.updateError(a,t.teamId,e),l(o,"error",e)}})}function p(e,t,o){var r="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),s=(0,i.E)();return n.Z.update(s,t.teamId),e.request(r,{method:"DELETE",success:function(e){n.Z.updateSuccess(t.teamId,e),l(o,"success",e)},error:function(e){n.Z.updateError(s,t.teamId,e),l(o,"error",e)}})}function f(e,t,o){return n.Z.createTeam(t),e.requestPromise("/organizations/".concat(o.orgId,"/teams/"),{method:"POST",data:t}).then((function(e){return n.Z.createTeamSuccess(e),(0,r.S9)((0,s._N)("[team] has been added to the [organization] organization",{team:"#".concat(e.slug),organization:o.orgId})),e}),(function(e){throw n.Z.createTeamError(t.slug,e),(0,r.Iw)((0,s._N)("Unable to create [team] in the [organization] organization",{team:"#".concat(t.slug),organization:o.orgId})),e}))}function h(e,t){return n.Z.removeTeam(t.teamId),e.requestPromise("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{method:"DELETE"}).then((function(e){return n.Z.removeTeamSuccess(t.teamId,e),(0,r.S9)((0,s._N)("[team] has been removed from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}),(function(e){throw n.Z.removeTeamError(t.teamId,e),(0,r.Iw)((0,s._N)("Unable to remove [team] from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}))}},"./app/actions/teamActions.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});var r=o("../node_modules/reflux/src/index.js");const n=o.n(r)().createActions(["createTeam","createTeamError","createTeamSuccess","fetchAll","fetchAllError","fetchAllSuccess","fetchDetails","fetchDetailsError","fetchDetailsSuccess","loadTeams","removeTeam","removeTeamError","removeTeamSuccess","update","updateError","updateSuccess"])},"./app/components/modals/createTeamModal.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>v});var r=o("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=o("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=o("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),m=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=o("../node_modules/react/index.js"),p=o("./app/actionCreators/teams.tsx"),f=o("./app/components/teams/createTeamForm.tsx"),h=o("./app/locale.tsx"),b=o("./app/utils/withApi.tsx"),g=o("../node_modules/@emotion/core/dist/core.browser.esm.js");var Z=function(e){(0,l.Z)(Z,e);var t,o,b=(t=Z,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(o){var n=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function Z(){var e;(0,s.Z)(this,Z);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=b.call.apply(b,[this].concat(o)),(0,m.Z)((0,i.Z)(e),"handleSubmit",(function(t,o,r){var n=e.props,s=n.organization,a=n.api;(0,p.Cm)(a,t,{orgId:s.slug}).then((function(t){e.handleSuccess(t),o(t)})).catch((function(e){r(e)}))})),e}return(0,a.Z)(Z,[{key:"handleSuccess",value:function(e){this.props.onClose&&this.props.onClose(e),this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.Body,o=e.Header,s=e.closeModal,a=(0,n.Z)(e,["Body","Header","closeModal"]);return(0,g.tZ)(d.Fragment,null,(0,g.tZ)(o,{closeButton:!0,onHide:s},(0,h.t)("Create Team")),(0,g.tZ)(t,null,(0,g.tZ)(f.Z,(0,r.Z)({},a,{onSubmit:this.handleSubmit}))))}}]),Z}(d.Component);Z.displayName="CreateTeamModal";const v=(0,b.Z)(Z)},"./app/components/teams/createTeamForm.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>Z});var r=o("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=o("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=o("../node_modules/react/index.js"),d=o("./app/locale.tsx"),p=o("./app/utils/callIfFunction.tsx"),f=o("./app/utils/slugify.tsx"),h=o("./app/views/settings/components/forms/form.tsx"),b=o("./app/views/settings/components/forms/textField.tsx"),g=o("../node_modules/@emotion/core/dist/core.browser.esm.js");var Z=function(e){(0,i.Z)(v,e);var t,o,Z=(t=v,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(o){var n=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function v(){var e;(0,n.Z)(this,v);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=Z.call.apply(Z,[this].concat(o)),(0,c.Z)((0,a.Z)(e),"handleSubmit",(function(t,o,r){(0,p.g)(e.props.onSubmit,t,o,r)})),(0,c.Z)((0,a.Z)(e),"handleCreateTeamSuccess",(function(t){(0,p.g)(e.props.onSuccess,t)})),e}return(0,s.Z)(v,[{key:"render",value:function(){var e=this.props.organization;return(0,g.tZ)(m.Fragment,null,(0,g.tZ)("p",null,(0,d.t)("Members of a team have access to specific areas, such as a new release or a new application feature.")),(0,g.tZ)(h.Z,(0,r.Z)({submitLabel:(0,d.t)("Create Team"),apiEndpoint:"/organizations/".concat(e.slug,"/teams/"),apiMethod:"POST",onSubmit:this.handleSubmit,onSubmitSuccess:this.handleCreateTeamSuccess,requireChanges:!0,"data-test-id":"create-team-form"},this.props.formProps),(0,g.tZ)(b.Z,{name:"slug",label:(0,d.t)("Team Name"),placeholder:(0,d.t)("e.g. operations, web-frontend, desktop"),help:(0,d.t)("May contain lowercase letters, numbers, dashes and underscores."),required:!0,stacked:!0,flexibleControlStateSize:!0,inline:!1,transformInput:f.Z})))}}]),v}(m.Component);Z.displayName="CreateTeamForm"},"./app/utils/slugify.tsx":(e,t,o)=>{"use strict";function r(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}o.d(t,{Z:()=>r})},"./app/utils/withApi.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>Z});var r=o("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=o("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=o("../node_modules/react/index.js"),d=o("./app/api.tsx"),p=o("./app/utils/getDisplayName.tsx"),f=o("../node_modules/@emotion/core/dist/core.browser.esm.js");function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,c.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=(0,u.Z)(e);if(t){var n=(0,u.Z)(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return(0,l.Z)(this,o)}}const Z=function(e){var t,o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=l.persistInFlight;return o=t=function(t){(0,i.Z)(l,t);var o=g(l);function l(e){var t;return(0,n.Z)(this,l),t=o.call(this,e),(0,c.Z)((0,a.Z)(t),"api",void 0),t.api=new d.KU,t}return(0,s.Z)(l,[{key:"componentWillUnmount",value:function(){u||this.api.clear()}},{key:"render",value:function(){var t=this.props,o=t.api,n=(0,r.Z)(t,["api"]);return(0,f.tZ)(e,b({api:null!=o?o:this.api},n))}}]),l}(m.Component),(0,c.Z)(t,"displayName","withApi(".concat((0,p.Z)(e),")")),o}},"./app/views/settings/components/forms/form.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>j});var r=o("../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=o("../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=o("../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=o("../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=o("../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=o("../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=o("../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),m=o("../node_modules/react/index.js"),d=o("../node_modules/mobx-react-lite/es/index.js"),p=o("../node_modules/prop-types/index.js"),f=o.n(p),h=o("./app/components/button.tsx"),b=o("./app/components/panels/panel.tsx"),g=o("./app/locale.tsx"),Z=o("./app/styles/space.tsx"),v=o("./app/utils/isRenderFunc.tsx"),y=o("./app/views/settings/components/forms/model.tsx"),x=o("../node_modules/@emotion/core/dist/core.browser.esm.js");var j=function(e){(0,a.Z)(m,e);var t,o,c=(t=m,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(o){var n=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function m(e,t){var o;(0,r.Z)(this,m),o=c.call(this,e,t),(0,u.Z)((0,s.Z)(o),"model",o.props.model||new y.Z),(0,u.Z)((0,s.Z)(o),"onSubmit",(function(e){var t,r;!o.props.skipPreventDefault&&e.preventDefault(),o.model.isSaving||(null===(t=(r=o.props).onPreSubmit)||void 0===t||t.call(r),o.props.onSubmit?o.props.onSubmit(o.model.getData(),o.onSubmitSuccess,o.onSubmitError,e,o.model):o.model.saveForm())})),(0,u.Z)((0,s.Z)(o),"onSubmitSuccess",(function(e){var t=o.props.onSubmitSuccess;o.model.submitSuccess(e),t&&t(e,o.model)})),(0,u.Z)((0,s.Z)(o),"onSubmitError",(function(e){var t=o.props.onSubmitError;o.model.submitError(e),t&&t(e,o.model)}));var n=e.saveOnBlur,a=e.apiEndpoint,i=e.apiMethod,l=e.resetOnError,d=e.onSubmitSuccess,p=e.onSubmitError,f=e.onFieldChange,h=e.initialData,b=e.allowUndo;return o.model.setInitialData(h),o.model.setFormOptions({resetOnError:l,allowUndo:b,onFieldChange:f,onSubmitSuccess:d,onSubmitError:p,saveOnBlur:n,apiEndpoint:a,apiMethod:i}),o}return(0,n.Z)(m,[{key:"getChildContext",value:function(){return{saveOnBlur:this.props.saveOnBlur,form:this.model}}},{key:"componentWillUnmount",value:function(){this.model.reset()}},{key:"render",value:function(){var e=this,t=this.props,o=t.className,r=t.children,n=t.footerClass,s=t.footerStyle,a=t.submitDisabled,i=t.submitLabel,l=t.submitPriority,u=t.cancelLabel,c=t.onCancel,m=t.extraButton,p=t.requireChanges,f=t.saveOnBlur,b=t.hideFooter,Z=void 0!==b?!b:!f;return(0,x.tZ)("form",{onSubmit:this.onSubmit,className:null!=o?o:"form-stacked","data-test-id":this.props["data-test-id"]},(0,x.tZ)("div",null,(0,v.l)(r)?r({model:this.model}):r),Z&&(0,x.tZ)(S,{className:n,style:s,saveOnBlur:f},m,(0,x.tZ)(_,null,c&&(0,x.tZ)(d.Qj,null,(function(){return(0,x.tZ)(h.ZP,{type:"button",disabled:e.model.isSaving,onClick:c,style:{marginLeft:5}},null!=u?u:(0,g.t)("Cancel"))})),(0,x.tZ)(d.Qj,null,(function(){return(0,x.tZ)(h.ZP,{"data-test-id":"form-submit",priority:null!=l?l:"primary",disabled:e.model.isError||e.model.isSaving||a||!!p&&!e.model.formChanged,type:"submit"},null!=i?i:(0,g.t)("Save Changes"))})))))}}]),m}(m.Component);j.displayName="Form",(0,u.Z)(j,"childContextTypes",{saveOnBlur:f().bool,form:f().object});var S=(0,c.Z)("div",{target:"e1h4adtt0",label:"StyledFooter"})("display:flex;justify-content:flex-end;margin-top:25px;border-top:1px solid #e9ebec;background:none;padding:16px 0 0;margin-bottom:16px;",(function(e){return!e.saveOnBlur&&"\n  ".concat(b.Z," & {\n    margin-top: 0;\n    padding-right: 36px;\n  }\n\n  /* Better padding with form inside of a modal */\n  .modal-content & {\n    padding-right: 30px;\n    margin-left: -30px;\n    margin-right: -30px;\n    margin-bottom: -30px;\n    margin-top: 16px;\n    padding-bottom: 16px;\n  }\n  ")}),";"),_=(0,c.Z)("div",{target:"e1h4adtt1",label:"DefaultButtons"})("display:grid;grid-gap:",(0,Z.Z)(1),";grid-auto-flow:column;justify-content:flex-end;flex:1;")},"./app/views/settings/components/forms/textField.tsx":(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var r=o("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=(o("../node_modules/react/index.js"),o("./app/views/settings/components/forms/inputField.tsx")),s=o("../node_modules/@emotion/core/dist/core.browser.esm.js");function a(e){return(0,s.tZ)(n.Z,(0,r.Z)({},e,{type:"text"}))}a.displayName="TextField"}}]);
//# sourceMappingURL=CreateTeamModal.js.map