(this["webpackJsonpfield-slicer"]=this["webpackJsonpfield-slicer"]||[]).push([[1],{31:function(e){e.exports=JSON.parse('{"webSocketPort":14102,"httpPort":14103}')},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){if(!e)return{feedUri:void 0,workspaceName:void 0};if(!e.startsWith("workspace://"))return{feedUri:void 0,workspaceName:void 0};var t=e.split("/"),n=t[2]||void 0,r=t[3]||void 0;return n&&r?{feedUri:"feed://".concat(n),workspaceName:r}:{feedUri:void 0,workspaceName:void 0}}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(13),a=n(0),o=n(19),c=n(15),i=function(e,t){switch(t.type){case"addFieldModel":return Object(c.a)(Object(c.a)({},e),{},{fieldModels:[].concat(Object(o.a)(e.fieldModels.filter((function(e){return e.fieldModelId!==t.fieldModel.fieldModelId}))),[t.fieldModel])});case"deleteFieldModels":return Object(c.a)(Object(c.a)({},e),{},{fieldModels:e.fieldModels.filter((function(e){return!t.fieldModelIds.includes(e.fieldModelId)}))});default:return e}},s=function(){var e=Object(r.f)();return Object(a.useMemo)((function(){return e.filter((function(e){return"WorkspaceView"===e.type})).map((function(e){return e}))}),[e])}},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n(0),o=n(37),c=n.n(o),i=n(34),s=n(8),d=n(15),l=n(105),u=n(27),f=n.n(u),p=n(3),h=n(54),b=n(48),w=n(103),m=n(30),j=n(99),v={palette:{primary:w.a,secondary:m.a},overrides:{MuiAccordionSummary:{root:{"&$expanded":{minHeight:0,maxHeight:30,paddingTop:10},minHeight:0}},MuiToolbar:{regular:{minHeight:48,"@media(min-width:600px)":{minHeight:48}}},MuiTabs:{root:{minHeight:30,maxHeight:30}},MuiTab:{root:{minHeight:30,maxHeight:30,padding:"6px 0px"}}}},M=Object(j.a)(v),k=n(11);var O=function(e){var t=e.version,n=Object(r.f)().filter((function(e){return"MainWindow"===e.name}))[0],o=Object(a.useContext)(r.c).serverInfo,c=Object(p.e)(),i=Object(p.d)(),u=Object(a.useMemo)((function(){var e=f.a.parse(c.search.slice(1)).workspace||"default",t=null===o||void 0===o?void 0:o.defaultFeedId;return e.startsWith("workspace://")?e:t?"workspace://".concat(t,"/").concat(e):void 0}),[c.search,o]),w=Object(a.useMemo)((function(){return function(e,t){var n=e.pathname.split("/"),r=f.a.parse(e.search.slice(1)).workspace||"default",a=null===t||void 0===t?void 0:t.defaultFeedId,o=r.startsWith("workspace://")?r:a?"workspace://".concat(a,"/").concat(r):void 0,c=n[1]||"fieldModels";if(!["fieldModels","fieldModel"].includes(c))throw Error("Invalid page: ".concat(c));switch(c){case"fieldModels":return{workspaceUri:o,page:c};case"fieldModel":return{workspaceUri:o,page:c,fieldModelId:n[2]};default:return{workspaceUri:o,page:"fieldModels"}}}(c,o)}),[c,o]),m=Object(a.useCallback)((function(e){var t=function(e){var t={};e.workspaceUri&&(t.workspace=e.workspaceUri);var n=function(e){var t=[];for(var n in e)t.push("".concat(n,"=").concat(e[n]));return t.join("&")}(t);switch(e.page){case"fieldModels":return{pathname:"/",search:n};case"fieldModel":return{pathname:"/fieldModel/".concat(e.fieldModelId),search:n}}}(function(e,t){var n=e;switch(t.type){case"gotoFieldModelsPage":n={page:"fieldModels",workspaceUri:e.workspaceUri};break;case"gotoFieldModelPage":n={page:"fieldModel",fieldModelId:t.fieldModelId,workspaceUri:e.workspaceUri}}return n}(w,e));c.pathname===t.pathname&&c.search===t.search||i.push(Object(d.a)(Object(d.a)({},c),t))}),[w,i,c]),j=Object(a.useReducer)(h.b,Object(a.useMemo)((function(){return{fieldModels:[]}}),[])),v=Object(s.a)(j,2),O=v[0],g=v[1],x=Object(a.useCallback)((function(e){e.forEach((function(e){return g(e)}))}),[]),U=Object(b.a)(u),I=U.feedUri,F=U.workspaceName,N=Object(a.useMemo)((function(){return{workspaceName:F}}),[F]),P=Object(r.g)({feedUri:I,subfeedName:N,onMessages:x}).appendMessages,C=Object(a.useCallback)((function(e){P([e])}),[P]);return Object(k.jsx)(l.a,{theme:M,children:Object(k.jsx)("div",{className:"App",children:Object(k.jsx)("header",{className:"App-header",children:n?Object(k.jsx)(n.component,{workspace:O,workspaceDispatch:C,workspaceRoute:w,workspaceRouteDispatch:m,version:t}):Object(k.jsx)("div",{children:"No main window plugin"})})})})},g=n(31),x=(n(92),n(2)),U=n.n(x),I=n(53),F=function(){var e=Object(I.a)(U.a.mark((function e(t){var r,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(0),n.e(5),n.e(7)]).then(n.bind(null,190));case 2:return r=e.sent,(0,r.activate)(t),e.next=7,Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,187));case 7:a=e.sent,(0,a.activate)(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,185)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))},P={webSocketUrl:"ws://".concat(window.location.hostname,":").concat(g.webSocketPort),baseSha1Url:"http://".concat(window.location.hostname,":").concat(g.httpPort,"/sha1"),baseFeedUrl:"http://".concat(window.location.hostname,":").concat(g.httpPort,"/feed")},C=Object(r.d)();F(C).then((function(){c.a.render(Object(k.jsx)(r.b,{extensionContext:C,apiConfig:P,children:Object(k.jsx)(i.a,{children:Object(k.jsx)(O,{version:"0.1.12"})})}),document.getElementById("root"))})),N()}},[[93,2,3]]]);
//# sourceMappingURL=main.ac826a13.chunk.js.map